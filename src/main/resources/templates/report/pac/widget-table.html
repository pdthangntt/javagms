<div data-th-fragment="table-out-province-treatment()" class="table-responsive">
    <table class="table-report table table-bordered table-hover" >
        <!--<thead>-->
        <tr>
            <th class="text-center vertical-align-middle success" >STT</th>
            <th class="text-center vertical-align-middle success" style="width: 12%">Đơn vị báo cáo</th>
            <th class="text-center vertical-align-middle success" >Tiêu chí</th>
            <th class="text-center vertical-align-middle success col-report" >Đang điều trị</th>
            <th class="text-center vertical-align-middle success col-report" >Chưa điều trị</th>
            <th class="text-center vertical-align-middle success col-report" >Chờ điều trị</th>
            <th class="text-center vertical-align-middle success col-report" >Bỏ điều trị</th>
            <th class="text-center vertical-align-middle success col-report" >Mất dấu</th>
            <th class="text-center vertical-align-middle success col-report" >Tử vong</th>
            <th class="text-center vertical-align-middle success col-report" >Chưa có thông tin</th>
            <th class="text-center vertical-align-middle success col-report" >Không có thông tin</th>
            <th class="text-center vertical-align-middle success" >Tổng số</th>
        </tr>
        <!--</thead>-->
        <tbody>
        <th:block th:each="instance, iter : ${form.items}">
            <tr >
                <td class="text-center" rowspan="4">[[${iter.index + 1}]]</td>
                <td class="" rowspan="4" th:utext="${options.get('provinces').getOrDefault(instance.key+'', '#'+instance.key)}"></td>
            </tr>
            <tr >
                <td>Ca ngoại tỉnh theo hộ khẩu</td>
                <td class="text-center" th:utext="${form.displayNumber(instance.value.get('permanent').dangdieutri)}"></td>
                <td class="text-center" th:utext="${form.displayNumber(instance.value.get('permanent').chuadieutri)}"></td>
                <td class="text-center" th:utext="${form.displayNumber(instance.value.get('permanent').chodieutri)}"></td>
                <td class="text-center" th:utext="${form.displayNumber(instance.value.get('permanent').bodieutri)}"></td>
                <td class="text-center" th:utext="${form.displayNumber(instance.value.get('permanent').matdau)}"></td>
                <td class="text-center" th:utext="${form.displayNumber(instance.value.get('permanent').tuvong)}"></td>
                <td class="text-center" th:utext="${form.displayNumber(instance.value.get('permanent').chuacothongtin)}"></td>
                <td class="text-center" th:utext="${form.displayNumber(instance.value.get('permanent').khongthongtin)}"></td>
                <td class="text-center  text-bold" th:utext="${form.displayNumber(instance.value.get('permanent').sum)             }"></td>

            </tr>
            <tr >
                <td>Ca mới, chưa chuyển quản lý</td>
                <td class="text-center" th:utext="${form.displayNumber(instance.value.get('notmanage').dangdieutri)}"></td>
                <td class="text-center" th:utext="${form.displayNumber(instance.value.get('notmanage').chuadieutri)}"></td>
                <td class="text-center" th:utext="${form.displayNumber(instance.value.get('notmanage').chodieutri)}"></td>
                <td class="text-center" th:utext="${form.displayNumber(instance.value.get('notmanage').bodieutri)}"></td>
                <td class="text-center" th:utext="${form.displayNumber(instance.value.get('notmanage').matdau)}"></td>
                <td class="text-center" th:utext="${form.displayNumber(instance.value.get('notmanage').tuvong)}"></td>
                <td class="text-center" th:utext="${form.displayNumber(instance.value.get('notmanage').chuacothongtin)}"></td>
                <td class="text-center" th:utext="${form.displayNumber(instance.value.get('notmanage').khongthongtin)}"></td>
                <td class="text-center  text-bold" th:utext="${form.displayNumber(instance.value.get('notmanage').sum)             }"></td>
            </tr>
            <tr >
                <td>Ca đã chuyển quản lý</td>
                <td class="text-center" th:utext="${form.displayNumber(instance.value.get('hasmanage').dangdieutri)}"></td>
                <td class="text-center" th:utext="${form.displayNumber(instance.value.get('hasmanage').chuadieutri)}"></td>
                <td class="text-center" th:utext="${form.displayNumber(instance.value.get('hasmanage').chodieutri)}"></td>
                <td class="text-center" th:utext="${form.displayNumber(instance.value.get('hasmanage').bodieutri)}"></td>
                <td class="text-center" th:utext="${form.displayNumber(instance.value.get('hasmanage').matdau)}"></td>
                <td class="text-center" th:utext="${form.displayNumber(instance.value.get('hasmanage').tuvong)}"></td>
                <td class="text-center" th:utext="${form.displayNumber(instance.value.get('hasmanage').chuacothongtin)}"></td>
                <td class="text-center" th:utext="${form.displayNumber(instance.value.get('hasmanage').khongthongtin)}"></td>
                <td class="text-center  text-bold" th:utext="${form.displayNumber(instance.value.get('hasmanage').sum)             }"></td>
            </tr>

        </th:block>
        <tr >
            <td class="text-center text-bold" colspan="2" rowspan="3">Tổng cộng</td>
            <td class=" text-bold">Ca ngoại tỉnh theo hộ khẩu</td>
            <td class="text-center text-bold" th:text="${form.numberFormat(form.getTotal(form.items,'permanent').dangdieutri)}"></td>
            <td class="text-center text-bold" th:text="${form.numberFormat(form.getTotal(form.items,'permanent').chuadieutri)}"></td>
            <td class="text-center text-bold" th:text="${form.numberFormat(form.getTotal(form.items,'permanent').chodieutri)}"></td>
            <td class="text-center text-bold" th:text="${form.numberFormat(form.getTotal(form.items,'permanent').bodieutri)}"></td>
            <td class="text-center text-bold" th:text="${form.numberFormat(form.getTotal(form.items,'permanent').matdau)}"></td>
            <td class="text-center text-bold" th:text="${form.numberFormat(form.getTotal(form.items,'permanent').tuvong)}"></td>
            <td class="text-center text-bold" th:text="${form.numberFormat(form.getTotal(form.items,'permanent').chuacothongtin)}"></td>
            <td class="text-center text-bold" th:text="${form.numberFormat(form.getTotal(form.items,'permanent').khongthongtin)}"></td>
            <td class="text-center text-bold" th:text="${form.numberFormat(form.getTotal(form.items,'permanent').sum)}"></td>
        </tr>
        <tr >
            <td class=" text-bold">Ca mới, chưa chuyển quản lý</td>
            <td class="text-center text-bold" th:text="${form.numberFormat(form.getTotal(form.items,'notmanage').dangdieutri)}"></td>
            <td class="text-center text-bold" th:text="${form.numberFormat(form.getTotal(form.items,'notmanage').chuadieutri)}"></td>
            <td class="text-center text-bold" th:text="${form.numberFormat(form.getTotal(form.items,'notmanage').chodieutri)}"></td>
            <td class="text-center text-bold" th:text="${form.numberFormat(form.getTotal(form.items,'notmanage').bodieutri)}"></td>
            <td class="text-center text-bold" th:text="${form.numberFormat(form.getTotal(form.items,'notmanage').matdau)}"></td>
            <td class="text-center text-bold" th:text="${form.numberFormat(form.getTotal(form.items,'notmanage').tuvong)}"></td>
            <td class="text-center text-bold" th:text="${form.numberFormat(form.getTotal(form.items,'notmanage').chuacothongtin)}"></td>
            <td class="text-center text-bold" th:text="${form.numberFormat(form.getTotal(form.items,'notmanage').khongthongtin)}"></td>
            <td class="text-center text-bold" th:text="${form.numberFormat(form.getTotal(form.items,'notmanage').sum)}"></td>

        </tr>
        <tr >
            <td class=" text-bold">Ca đã chuyển quản lý</td>
            <td class="text-center text-bold" th:text="${form.numberFormat(form.getTotal(form.items,'hasmanage').dangdieutri)}"></td>
            <td class="text-center text-bold" th:text="${form.numberFormat(form.getTotal(form.items,'hasmanage').chuadieutri)}"></td>
            <td class="text-center text-bold" th:text="${form.numberFormat(form.getTotal(form.items,'hasmanage').chodieutri)}"></td>
            <td class="text-center text-bold" th:text="${form.numberFormat(form.getTotal(form.items,'hasmanage').bodieutri)}"></td>
            <td class="text-center text-bold" th:text="${form.numberFormat(form.getTotal(form.items,'hasmanage').matdau)}"></td>
            <td class="text-center text-bold" th:text="${form.numberFormat(form.getTotal(form.items,'hasmanage').tuvong)}"></td>
            <td class="text-center text-bold" th:text="${form.numberFormat(form.getTotal(form.items,'hasmanage').chuacothongtin)}"></td>
            <td class="text-center text-bold" th:text="${form.numberFormat(form.getTotal(form.items,'hasmanage').khongthongtin)}"></td>
            <td class="text-center text-bold" th:text="${form.numberFormat(form.getTotal(form.items,'hasmanage').sum)}"></td>

        </tr>
        </tbody>

    </table>
</div>
<div data-th-fragment="table-out-province-resident()" class="table-responsive">
    <table class="table-report table table-bordered table-hover" >
        <!--<thead>-->
        <tr>
            <th class="text-center vertical-align-middle success" >STT</th>
            <th class="text-center vertical-align-middle success" style="width: 12%">Đơn vị báo cáo</th>
            <th class="text-center vertical-align-middle success" >Tiêu chí</th>
            <th class="text-center vertical-align-middle success col-report" >Hiện đang ở địa phương</th>
            <th class="text-center vertical-align-middle success col-report" >Đi làm ăn xa</th>
            <th class="text-center vertical-align-middle success col-report" >Đi trại</th>
            <th class="text-center vertical-align-middle success col-report" >Chuyển đi nơi khác</th>
            <th class="text-center vertical-align-middle success col-report" >Chuyển trong tỉnh</th>
            <th class="text-center vertical-align-middle success col-report" >Mất dấu</th>
            <th class="text-center vertical-align-middle success col-report" >Chưa xác định được</th>
            <th class="text-center vertical-align-middle success col-report" >Không có thực tế</th>
            <th class="text-center vertical-align-middle success col-report" >Không có thông tin</th>
            <th class="text-center vertical-align-middle success" >Tổng số</th>
        </tr>
        <!--</thead>-->
        <tbody>
        <th:block th:each="instance, iter : ${form.items}">
            <tr >
                <td class="text-center" rowspan="4">[[${iter.index + 1}]]</td>
                <td class="" rowspan="4" th:utext="${options.get('provinces').getOrDefault(instance.key+'', '#'+instance.key)}"></td>
            </tr>
            <tr >
                <td>Ca ngoại tỉnh theo hộ khẩu</td>
                <td class="text-center" th:utext="${form.displayNumber(instance.value.get('permanent').dangODiaPhuong )}"></td>
                <td class="text-center" th:utext="${form.displayNumber(instance.value.get('permanent').diLamAnXa)}"></td>
                <td class="text-center" th:utext="${form.displayNumber(instance.value.get('permanent').diTrai )}"></td>
                <td class="text-center" th:utext="${form.displayNumber(instance.value.get('permanent').chuyenDiNoiKhac)}"></td>
                <td class="text-center" th:utext="${form.displayNumber(instance.value.get('permanent').chuyenTrongTinh)}"></td>
                <td class="text-center" th:utext="${form.displayNumber(instance.value.get('permanent').matDau)}"></td>
                <td class="text-center" th:utext="${form.displayNumber(instance.value.get('permanent').chuaXacDinhDuoc)}"></td>
                <td class="text-center" th:utext="${form.displayNumber(instance.value.get('permanent').khongCoThucTe)}"></td>
                <td class="text-center" th:utext="${form.displayNumber(instance.value.get('permanent').unclear)}"></td>
                <td class="text-center  text-bold" th:utext="${form.displayNumber(instance.value.get('permanent').sum)}"></td>

            </tr>
            <tr >
                <td>Ca mới, chưa chuyển quản lý</td>
                <td class="text-center" th:utext="${form.displayNumber(instance.value.get('notmanage').dangODiaPhuong )}"></td>
                <td class="text-center" th:utext="${form.displayNumber(instance.value.get('notmanage').diLamAnXa)}"></td>
                <td class="text-center" th:utext="${form.displayNumber(instance.value.get('notmanage').diTrai )}"></td>
                <td class="text-center" th:utext="${form.displayNumber(instance.value.get('notmanage').chuyenDiNoiKhac)}"></td>
                <td class="text-center" th:utext="${form.displayNumber(instance.value.get('notmanage').chuyenTrongTinh)}"></td>
                <td class="text-center" th:utext="${form.displayNumber(instance.value.get('notmanage').matDau)}"></td>
                <td class="text-center" th:utext="${form.displayNumber(instance.value.get('notmanage').chuaXacDinhDuoc)}"></td>
                <td class="text-center" th:utext="${form.displayNumber(instance.value.get('notmanage').khongCoThucTe)}"></td>
                <td class="text-center" th:utext="${form.displayNumber(instance.value.get('notmanage').unclear)}"></td>
                <td class="text-center  text-bold" th:utext="${form.displayNumber(instance.value.get('notmanage').sum)}"></td>
            </tr>
            <tr >
                <td>Ca đã chuyển quản lý</td>
                <td class="text-center" th:utext="${form.displayNumber(instance.value.get('hasmanage').dangODiaPhuong )}"></td>
                <td class="text-center" th:utext="${form.displayNumber(instance.value.get('hasmanage').diLamAnXa)}"></td>
                <td class="text-center" th:utext="${form.displayNumber(instance.value.get('hasmanage').diTrai )}"></td>
                <td class="text-center" th:utext="${form.displayNumber(instance.value.get('hasmanage').chuyenDiNoiKhac)}"></td>
                <td class="text-center" th:utext="${form.displayNumber(instance.value.get('hasmanage').chuyenTrongTinh)}"></td>
                <td class="text-center" th:utext="${form.displayNumber(instance.value.get('hasmanage').matDau)}"></td>
                <td class="text-center" th:utext="${form.displayNumber(instance.value.get('hasmanage').chuaXacDinhDuoc)}"></td>
                <td class="text-center" th:utext="${form.displayNumber(instance.value.get('hasmanage').khongCoThucTe)}"></td>
                <td class="text-center" th:utext="${form.displayNumber(instance.value.get('hasmanage').unclear)}"></td>
                <td class="text-center  text-bold" th:utext="${form.displayNumber(instance.value.get('hasmanage').sum)}"></td>
            </tr>

        </th:block>
        <tr >
            <td class="text-center text-bold" colspan="2" rowspan="3">Tổng cộng</td>
            <td class=" text-bold">Ca ngoại tỉnh theo hộ khẩu</td>
            <td class="text-center text-bold" th:text="${form.numberFormat(form.getTotal(form.items,'permanent').dangODiaPhuong )}"></td>
            <td class="text-center text-bold" th:text="${form.numberFormat(form.getTotal(form.items,'permanent').diLamAnXa)}"></td>
            <td class="text-center text-bold" th:text="${form.numberFormat(form.getTotal(form.items,'permanent').diTrai )}"></td>
            <td class="text-center text-bold" th:text="${form.numberFormat(form.getTotal(form.items,'permanent').chuyenDiNoiKhac)}"></td>
            <td class="text-center text-bold" th:text="${form.numberFormat(form.getTotal(form.items,'permanent').chuyenTrongTinh)}"></td>
            <td class="text-center text-bold" th:text="${form.numberFormat(form.getTotal(form.items,'permanent').matDau)}"></td>
            <td class="text-center text-bold" th:text="${form.numberFormat(form.getTotal(form.items,'permanent').chuaXacDinhDuoc)}"></td>
            <td class="text-center text-bold" th:text="${form.numberFormat(form.getTotal(form.items,'permanent').khongCoThucTe)}"></td>
            <td class="text-center text-bold" th:text="${form.numberFormat(form.getTotal(form.items,'permanent').unclear)}"></td>
            <td class="text-center text-bold" th:text="${form.numberFormat(form.getTotal(form.items,'permanent').sum)}"></td>
        </tr>
        <tr >
            <td class=" text-bold">Ca mới, chưa chuyển quản lý</td>
            <td class="text-center text-bold" th:text="${form.numberFormat(form.getTotal(form.items,'notmanage').dangODiaPhuong )}"></td>
            <td class="text-center text-bold" th:text="${form.numberFormat(form.getTotal(form.items,'notmanage').diLamAnXa)}"></td>
            <td class="text-center text-bold" th:text="${form.numberFormat(form.getTotal(form.items,'notmanage').diTrai )}"></td>
            <td class="text-center text-bold" th:text="${form.numberFormat(form.getTotal(form.items,'notmanage').chuyenDiNoiKhac)}"></td>
            <td class="text-center text-bold" th:text="${form.numberFormat(form.getTotal(form.items,'notmanage').chuyenTrongTinh)}"></td>
            <td class="text-center text-bold" th:text="${form.numberFormat(form.getTotal(form.items,'notmanage').matDau)}"></td>
            <td class="text-center text-bold" th:text="${form.numberFormat(form.getTotal(form.items,'notmanage').chuaXacDinhDuoc)}"></td>
            <td class="text-center text-bold" th:text="${form.numberFormat(form.getTotal(form.items,'notmanage').khongCoThucTe)}"></td>
            <td class="text-center text-bold" th:text="${form.numberFormat(form.getTotal(form.items,'notmanage').unclear)}"></td>
            <td class="text-center text-bold" th:text="${form.numberFormat(form.getTotal(form.items,'notmanage').sum)}"></td>

        </tr>
        <tr >
            <td class=" text-bold">Ca đã chuyển quản lý</td>
            <td class="text-center text-bold" th:text="${form.numberFormat(form.getTotal(form.items,'hasmanage').dangODiaPhuong )}"></td>
            <td class="text-center text-bold" th:text="${form.numberFormat(form.getTotal(form.items,'hasmanage').diLamAnXa)}"></td>
            <td class="text-center text-bold" th:text="${form.numberFormat(form.getTotal(form.items,'hasmanage').diTrai )}"></td>
            <td class="text-center text-bold" th:text="${form.numberFormat(form.getTotal(form.items,'hasmanage').chuyenDiNoiKhac)}"></td>
            <td class="text-center text-bold" th:text="${form.numberFormat(form.getTotal(form.items,'hasmanage').chuyenTrongTinh)}"></td>
            <td class="text-center text-bold" th:text="${form.numberFormat(form.getTotal(form.items,'hasmanage').matDau)}"></td>
            <td class="text-center text-bold" th:text="${form.numberFormat(form.getTotal(form.items,'hasmanage').chuaXacDinhDuoc)}"></td>
            <td class="text-center text-bold" th:text="${form.numberFormat(form.getTotal(form.items,'hasmanage').khongCoThucTe)}"></td>
            <td class="text-center text-bold" th:text="${form.numberFormat(form.getTotal(form.items,'hasmanage').unclear)}"></td>
            <td class="text-center text-bold" th:text="${form.numberFormat(form.getTotal(form.items,'hasmanage').sum)}"></td>

        </tr>
        </tbody>

    </table>
</div>
<div data-th-fragment="table-out-province-object()" class="table-responsive">
    <table class="table-report table table-bordered table-hover" >
        <!--<thead>-->
        <tr>
            <th class="text-center vertical-align-middle success" >STT</th>
            <th class="text-center vertical-align-middle success" style="width: 14%">Đơn vị báo cáo</th>
            <th class="text-center vertical-align-middle success" >Tiêu chí</th>
            <th class="text-center vertical-align-middle success col-report" >Nghiện chích ma túy</th>
            <th class="text-center vertical-align-middle success col-report" >Người hành nghề mại dâm</th>
            <th class="text-center vertical-align-middle success col-report" >Nam quan hệ tình dục với nam</th>
            <th class="text-center vertical-align-middle success col-report" >Vợ/chồng/bạn tình của người nhiễm HIV</th>
            <th class="text-center vertical-align-middle success col-report" >Phụ nữ mang thai</th>
            <th class="text-center vertical-align-middle success col-report" >Bệnh nhân Lao</th>
            <th class="text-center vertical-align-middle success col-report" >Đối tượng khác</th>
            <th class="text-center vertical-align-middle success col-report" >Không có thông tin</th>
            <th class="text-center vertical-align-middle success" >Tổng số</th>
        </tr>
        <!--</thead>-->
        <tbody>
        <th:block th:each="instance, iter : ${form.items}">
            <tr >
                <td class="text-center" rowspan="4">[[${iter.index + 1}]]</td>
                <td class="" rowspan="4" th:utext="${options.get('provinces').getOrDefault(instance.key+'', '#'+instance.key)}"></td>
            </tr>
            <tr >
                <td>Ca ngoại tỉnh theo hộ khẩu</td>
                <td class="text-center" th:utext="${form.displayNumber(instance.value.get('permanent').ntmt)}"></td>
                <td class="text-center" th:utext="${form.displayNumber(instance.value.get('permanent').md)}"></td>
                <td class="text-center" th:utext="${form.displayNumber(instance.value.get('permanent').msm)}"></td>
                <td class="text-center" th:utext="${form.displayNumber(instance.value.get('permanent').vcbtbc)}"></td>
                <td class="text-center" th:utext="${form.displayNumber(instance.value.get('permanent').pnmt)}"></td>
                <td class="text-center" th:utext="${form.displayNumber(instance.value.get('permanent').lao)}"></td>
                <td class="text-center" th:utext="${form.displayNumber(instance.value.get('permanent').khac)}"></td>
                <td class="text-center" th:utext="${form.displayNumber(instance.value.get('permanent').khongthongtin)}"></td>
                <td class="text-center  text-bold" th:utext="${form.displayNumber(instance.value.get('permanent').sum)}"></td>

            </tr>
            <tr >
                <td>Ca mới, chưa chuyển quản lý</td>
                <td class="text-center" th:utext="${form.displayNumber(instance.value.get('notmanage').ntmt)}"></td>
                <td class="text-center" th:utext="${form.displayNumber(instance.value.get('notmanage').md)}"></td>
                <td class="text-center" th:utext="${form.displayNumber(instance.value.get('notmanage').msm)}"></td>
                <td class="text-center" th:utext="${form.displayNumber(instance.value.get('notmanage').vcbtbc)}"></td>
                <td class="text-center" th:utext="${form.displayNumber(instance.value.get('notmanage').pnmt)}"></td>
                <td class="text-center" th:utext="${form.displayNumber(instance.value.get('notmanage').lao)}"></td>
                <td class="text-center" th:utext="${form.displayNumber(instance.value.get('notmanage').khac)}"></td>
                <td class="text-center" th:utext="${form.displayNumber(instance.value.get('notmanage').khongthongtin)}"></td>
                <td class="text-center  text-bold" th:utext="${form.displayNumber(instance.value.get('notmanage').sum)}"></td>
            </tr>
            <tr >
                <td>Ca đã chuyển quản lý</td>
                <td class="text-center" th:utext="${form.displayNumber(instance.value.get('hasmanage').ntmt)}"></td>
                <td class="text-center" th:utext="${form.displayNumber(instance.value.get('hasmanage').md)}"></td>
                <td class="text-center" th:utext="${form.displayNumber(instance.value.get('hasmanage').msm)}"></td>
                <td class="text-center" th:utext="${form.displayNumber(instance.value.get('hasmanage').vcbtbc)}"></td>
                <td class="text-center" th:utext="${form.displayNumber(instance.value.get('hasmanage').pnmt)}"></td>
                <td class="text-center" th:utext="${form.displayNumber(instance.value.get('hasmanage').lao)}"></td>
                <td class="text-center" th:utext="${form.displayNumber(instance.value.get('hasmanage').khac)}"></td>
                <td class="text-center" th:utext="${form.displayNumber(instance.value.get('hasmanage').khongthongtin)}"></td>
                <td class="text-center  text-bold" th:utext="${form.displayNumber(instance.value.get('hasmanage').sum)}"></td>
            </tr>

        </th:block>
        <tr >
            <td class="text-center text-bold" colspan="2" rowspan="3">Tổng cộng</td>
            <td class=" text-bold">Ca ngoại tỉnh theo hộ khẩu</td>
            <td class="text-center text-bold" th:text="${form.numberFormat(form.getTotal(form.items,'permanent').ntmt)}"></td>
            <td class="text-center text-bold" th:text="${form.numberFormat(form.getTotal(form.items,'permanent').md)}"></td>
            <td class="text-center text-bold" th:text="${form.numberFormat(form.getTotal(form.items,'permanent').msm)}"></td>
            <td class="text-center text-bold" th:text="${form.numberFormat(form.getTotal(form.items,'permanent').vcbtbc)}"></td>
            <td class="text-center text-bold" th:text="${form.numberFormat(form.getTotal(form.items,'permanent').pnmt)}"></td>
            <td class="text-center text-bold" th:text="${form.numberFormat(form.getTotal(form.items,'permanent').lao)}"></td>
            <td class="text-center text-bold" th:text="${form.numberFormat(form.getTotal(form.items,'permanent').khac)}"></td>
            <td class="text-center text-bold" th:text="${form.numberFormat(form.getTotal(form.items,'permanent').khongthongtin)}"></td>
            <td class="text-center text-bold" th:text="${form.numberFormat(form.getTotal(form.items,'permanent').sum)}"></td>
        </tr>
        <tr >
            <td class=" text-bold">Ca mới, chưa chuyển quản lý</td>
            <td class="text-center text-bold" th:text="${form.numberFormat(form.getTotal(form.items,'notmanage').ntmt)}"></td>
            <td class="text-center text-bold" th:text="${form.numberFormat(form.getTotal(form.items,'notmanage').md)}"></td>
            <td class="text-center text-bold" th:text="${form.numberFormat(form.getTotal(form.items,'notmanage').msm)}"></td>
            <td class="text-center text-bold" th:text="${form.numberFormat(form.getTotal(form.items,'notmanage').vcbtbc)}"></td>
            <td class="text-center text-bold" th:text="${form.numberFormat(form.getTotal(form.items,'notmanage').pnmt)}"></td>
            <td class="text-center text-bold" th:text="${form.numberFormat(form.getTotal(form.items,'notmanage').lao)}"></td>
            <td class="text-center text-bold" th:text="${form.numberFormat(form.getTotal(form.items,'notmanage').khac)}"></td>
            <td class="text-center text-bold" th:text="${form.numberFormat(form.getTotal(form.items,'notmanage').khongthongtin)}"></td>
            <td class="text-center text-bold" th:text="${form.numberFormat(form.getTotal(form.items,'notmanage').sum)}"></td>

        </tr>
        <tr >
            <td class=" text-bold">Ca đã chuyển quản lý</td>
            <td class="text-center text-bold" th:text="${form.numberFormat(form.getTotal(form.items,'hasmanage').ntmt)}"></td>
            <td class="text-center text-bold" th:text="${form.numberFormat(form.getTotal(form.items,'hasmanage').md)}"></td>
            <td class="text-center text-bold" th:text="${form.numberFormat(form.getTotal(form.items,'hasmanage').msm)}"></td>
            <td class="text-center text-bold" th:text="${form.numberFormat(form.getTotal(form.items,'hasmanage').vcbtbc)}"></td>
            <td class="text-center text-bold" th:text="${form.numberFormat(form.getTotal(form.items,'hasmanage').pnmt)}"></td>
            <td class="text-center text-bold" th:text="${form.numberFormat(form.getTotal(form.items,'hasmanage').lao)}"></td>
            <td class="text-center text-bold" th:text="${form.numberFormat(form.getTotal(form.items,'hasmanage').khac)}"></td>
            <td class="text-center text-bold" th:text="${form.numberFormat(form.getTotal(form.items,'hasmanage').khongthongtin)}"></td>
            <td class="text-center text-bold" th:text="${form.numberFormat(form.getTotal(form.items,'hasmanage').sum)}"></td>

        </tr>
        </tbody>

    </table>
</div>
<div data-th-fragment="table-out-province-transmission()" class="table-responsive">
    <table class="table-report table table-bordered table-hover" >
        <!--<thead>-->
        <tr>
            <th class="text-center vertical-align-middle success" >STT</th>
            <th class="text-center vertical-align-middle success" style="width: 14%">Đơn vị báo cáo</th>
            <th class="text-center vertical-align-middle success" >Tiêu chí</th>
            <th class="text-center vertical-align-middle success col-report" >Lây qua đường máu</th>
            <th class="text-center vertical-align-middle success col-report" >Lây qua đường tình dục</th>
            <th class="text-center vertical-align-middle success col-report" >Mẹ truyền sang con</th>
            <th class="text-center vertical-align-middle success col-report" >Không rõ</th>
            <th class="text-center vertical-align-middle success col-report" >Không có thông tin</th>
            <th class="text-center vertical-align-middle success" >Tổng số</th>
        </tr>
        <!--</thead>-->
        <tbody>
        <th:block th:each="instance, iter : ${form.items}">
            <tr >
                <td class="text-center" rowspan="4">[[${iter.index + 1}]]</td>
                <td class="" rowspan="4" th:utext="${options.get('provinces').getOrDefault(instance.key+'', '#'+instance.key)}"></td>
            </tr>
            <tr >
                <td>Ca ngoại tỉnh theo hộ khẩu</td>
                <td class="text-center" th:utext="${form.displayNumber(instance.value.get('permanent').blood            )}"></td>
                <td class="text-center" th:utext="${form.displayNumber(instance.value.get('permanent').sexuality            )}"></td>
                <td class="text-center" th:utext="${form.displayNumber(instance.value.get('permanent').momtochild        )}"></td>
                <td class="text-center" th:utext="${form.displayNumber(instance.value.get('permanent').unclear           )}"></td>
                <td class="text-center" th:utext="${form.displayNumber(instance.value.get('permanent').noinformation   )}"></td>
                <td class="text-center  text-bold" th:utext="${form.displayNumber(instance.value.get('permanent').sum              )}"></td>

            </tr>
            <tr >
                <td>Ca mới, chưa chuyển quản lý</td>
                <td class="text-center" th:utext="${form.displayNumber(instance.value.get('notmanage').blood            )}"></td>
                <td class="text-center" th:utext="${form.displayNumber(instance.value.get('notmanage').sexuality            )}"></td>
                <td class="text-center" th:utext="${form.displayNumber(instance.value.get('notmanage').momtochild        )}"></td>
                <td class="text-center" th:utext="${form.displayNumber(instance.value.get('notmanage').unclear           )}"></td>
                <td class="text-center" th:utext="${form.displayNumber(instance.value.get('notmanage').noinformation   )}"></td>
                <td class="text-center  text-bold" th:utext="${form.displayNumber(instance.value.get('notmanage').sum              )}"></td>
            </tr>
            <tr >
                <td>Ca đã chuyển quản lý</td>
                <td class="text-center" th:utext="${form.displayNumber(instance.value.get('hasmanage').blood            )}"></td>
                <td class="text-center" th:utext="${form.displayNumber(instance.value.get('hasmanage').sexuality            )}"></td>
                <td class="text-center" th:utext="${form.displayNumber(instance.value.get('hasmanage').momtochild        )}"></td>
                <td class="text-center" th:utext="${form.displayNumber(instance.value.get('hasmanage').unclear           )}"></td>
                <td class="text-center" th:utext="${form.displayNumber(instance.value.get('hasmanage').noinformation   )}"></td>
                <td class="text-center  text-bold" th:utext="${form.displayNumber(instance.value.get('hasmanage').sum              )}"></td>
            </tr>

        </th:block>
        <tr >
            <td class="text-center text-bold" colspan="2" rowspan="3">Tổng cộng</td>
            <td class=" text-bold">Ca ngoại tỉnh theo hộ khẩu</td>
            <td class="text-center text-bold" th:text="${form.numberFormat(form.getTotal(form.items,'permanent').blood         )}"></td>
            <td class="text-center text-bold" th:text="${form.numberFormat(form.getTotal(form.items,'permanent').sexuality     )}"></td>
            <td class="text-center text-bold" th:text="${form.numberFormat(form.getTotal(form.items,'permanent').momtochild    )}"></td>
            <td class="text-center text-bold" th:text="${form.numberFormat(form.getTotal(form.items,'permanent').unclear       )}"></td>
            <td class="text-center text-bold" th:text="${form.numberFormat(form.getTotal(form.items,'permanent').noinformation )}"></td>
            <td class="text-center text-bold" th:text="${form.numberFormat(form.getTotal(form.items,'permanent').sum)}"></td>
        </tr>
        <tr >
            <td class=" text-bold">Ca mới, chưa chuyển quản lý</td>
            <td class="text-center text-bold" th:text="${form.numberFormat(form.getTotal(form.items,'notmanage').blood         )}"></td>
            <td class="text-center text-bold" th:text="${form.numberFormat(form.getTotal(form.items,'notmanage').sexuality     )}"></td>
            <td class="text-center text-bold" th:text="${form.numberFormat(form.getTotal(form.items,'notmanage').momtochild    )}"></td>
            <td class="text-center text-bold" th:text="${form.numberFormat(form.getTotal(form.items,'notmanage').unclear       )}"></td>
            <td class="text-center text-bold" th:text="${form.numberFormat(form.getTotal(form.items,'notmanage').noinformation )}"></td>
            <td class="text-center text-bold" th:text="${form.numberFormat(form.getTotal(form.items,'notmanage').sum)}"></td>

        </tr>
        <tr >
            <td class=" text-bold">Ca đã chuyển quản lý</td>
            <td class="text-center text-bold" th:text="${form.numberFormat(form.getTotal(form.items,'hasmanage').blood         )}"></td>
            <td class="text-center text-bold" th:text="${form.numberFormat(form.getTotal(form.items,'hasmanage').sexuality     )}"></td>
            <td class="text-center text-bold" th:text="${form.numberFormat(form.getTotal(form.items,'hasmanage').momtochild    )}"></td>
            <td class="text-center text-bold" th:text="${form.numberFormat(form.getTotal(form.items,'hasmanage').unclear       )}"></td>
            <td class="text-center text-bold" th:text="${form.numberFormat(form.getTotal(form.items,'hasmanage').noinformation )}"></td>
            <td class="text-center text-bold" th:text="${form.numberFormat(form.getTotal(form.items,'hasmanage').sum)}"></td>

        </tr>
        </tbody>

    </table>
</div>
<div data-th-fragment="table-out-province-age()" class="table-responsive">
    <table class="table-report table table-bordered table-hover" >
        <!--<thead>-->
        <tr>
            <th class="text-center vertical-align-middle success" >STT</th>
            <th class="text-center vertical-align-middle success" style="width: 16%">Đơn vị báo cáo</th>
            <th class="text-center vertical-align-middle success" >Tiêu chí</th>
            <th class="text-center vertical-align-middle success col-report" ><15</th>
            <th class="text-center vertical-align-middle success col-report" >15-24</th>
            <th class="text-center vertical-align-middle success col-report" >25-49</th>
            <th class="text-center vertical-align-middle success col-report" >>49</th>
            <th class="text-center vertical-align-middle success col-report" >Tổng số</th>
        </tr>
        <!--</thead>-->
        <tbody>
        <th:block th:each="instance, iter : ${form.items}">
            <tr >
                <td class="text-center" rowspan="4">[[${iter.index + 1}]]</td>
                <td class="" rowspan="4" th:utext="${options.get('provinces').getOrDefault(instance.key+'', '#'+instance.key)}"></td>
            </tr>
            <tr >
                <td>Ca ngoại tỉnh theo hộ khẩu</td>
                <td class="text-center" th:utext="${form.displayNumber(instance.value.get('permanent').under15)}"></td>
                <td class="text-center" th:utext="${form.displayNumber(instance.value.get('permanent').from15to24)}"></td>
                <td class="text-center" th:utext="${form.displayNumber(instance.value.get('permanent').from25to49)}"></td>
                <td class="text-center" th:utext="${form.displayNumber(instance.value.get('permanent').over49)}"></td>
                <td class="text-center  text-bold" th:utext="${form.displayNumber(form.getSum(instance.value,'permanent' ))}"></td>

            </tr>
            <tr >
                <td>Ca mới, chưa chuyển quản lý</td>
                <td class="text-center" th:utext="${form.displayNumber(instance.value.get('notmanage').under15)}"></td>
                <td class="text-center" th:utext="${form.displayNumber(instance.value.get('notmanage').from15to24)}"></td>
                <td class="text-center" th:utext="${form.displayNumber(instance.value.get('notmanage').from25to49)}"></td>
                <td class="text-center" th:utext="${form.displayNumber(instance.value.get('notmanage').over49)}"></td>
                <td class="text-center  text-bold" th:utext="${form.displayNumber(form.getSum(instance.value,'notmanage' ))}"></td>
            </tr>
            <tr >
                <td>Ca đã chuyển quản lý</td>
                <td class="text-center" th:utext="${form.displayNumber(instance.value.get('hasmanage').under15)}"></td>
                <td class="text-center" th:utext="${form.displayNumber(instance.value.get('hasmanage').from15to24)}"></td>
                <td class="text-center" th:utext="${form.displayNumber(instance.value.get('hasmanage').from25to49)}"></td>
                <td class="text-center" th:utext="${form.displayNumber(instance.value.get('hasmanage').over49)}"></td>
                <td class="text-center  text-bold" th:utext="${form.displayNumber(form.getSum(instance.value,'hasmanage' ))}"></td>
            </tr>

        </th:block>
        <tr >
            <td class="text-center text-bold" colspan="2" rowspan="3">Tổng cộng</td>
            <td class=" text-bold">Ca ngoại tỉnh theo hộ khẩu</td>
            <td class="text-center text-bold" th:text="${form.numberFormat(form.getTotal(form.items,'permanent').under15)}"></td>
            <td class="text-center text-bold" th:text="${form.numberFormat(form.getTotal(form.items,'permanent').from15to24)}"></td>
            <td class="text-center text-bold" th:text="${form.numberFormat(form.getTotal(form.items,'permanent').from25to49)}"></td>
            <td class="text-center text-bold" th:text="${form.numberFormat(form.getTotal(form.items,'permanent').over49)}"></td>
            <td class="text-center text-bold" th:text="${form.numberFormat(form.getTotal(form.items,'permanent').sum)}"></td>
        </tr>
        <tr >
            <td class=" text-bold">Ca mới, chưa chuyển quản lý</td>
            <td class="text-center text-bold" th:text="${form.numberFormat(form.getTotal(form.items,'notmanage').under15)}"></td>
            <td class="text-center text-bold" th:text="${form.numberFormat(form.getTotal(form.items,'notmanage').from15to24)}"></td>
            <td class="text-center text-bold" th:text="${form.numberFormat(form.getTotal(form.items,'notmanage').from25to49)}"></td>
            <td class="text-center text-bold" th:text="${form.numberFormat(form.getTotal(form.items,'notmanage').over49)}"></td>
            <td class="text-center text-bold" th:text="${form.numberFormat(form.getTotal(form.items,'notmanage').sum)}"></td>

        </tr>
        <tr >
            <td class=" text-bold">Ca đã chuyển quản lý</td>
            <td class="text-center text-bold" th:text="${form.numberFormat(form.getTotal(form.items,'hasmanage').under15)}"></td>
            <td class="text-center text-bold" th:text="${form.numberFormat(form.getTotal(form.items,'hasmanage').from15to24)}"></td>
            <td class="text-center text-bold" th:text="${form.numberFormat(form.getTotal(form.items,'hasmanage').from25to49)}"></td>
            <td class="text-center text-bold" th:text="${form.numberFormat(form.getTotal(form.items,'hasmanage').over49)}"></td>
            <td class="text-center text-bold" th:text="${form.numberFormat(form.getTotal(form.items,'hasmanage').sum)}"></td>

        </tr>
        </tbody>

    </table>
</div>
<div data-th-fragment="table-out-province-gender()" class="table-responsive">
    <table class="table-report table table-bordered table-hover" >
        <!--<thead>-->
        <tr>
            <th class="text-center vertical-align-middle success" rowspan="2" style="width: 8%">STT</th>
            <th class="text-center vertical-align-middle success" rowspan="2" style="width: 17%">Đơn vị báo cáo</th>
            <th class="text-center vertical-align-middle success" colspan="3">Nam</th>
            <th class="text-center vertical-align-middle success" colspan="3">Nữ</th>
            <th class="text-center vertical-align-middle success" colspan="3">Không rõ</th>
            <th class="text-center vertical-align-middle success" colspan="3">Tổng số</th>
        </tr>
        <tr>
            <th class="text-center col-report">Ca ngoại tỉnh theo hộ khẩu</th>
            <th class="text-center col-report">Ca mới, chưa chuyển quản lý</th>
            <th class="text-center col-report">Ca đã chuyển quản lý</th>
            <th class="text-center col-report">Ca ngoại tỉnh theo hộ khẩu</th>
            <th class="text-center col-report">Ca mới, chưa chuyển quản lý</th>
            <th class="text-center col-report">Ca đã chuyển quản lý</th>
            <th class="text-center col-report">Ca ngoại tỉnh theo hộ khẩu</th>
            <th class="text-center col-report">Ca mới, chưa chuyển quản lý</th>
            <th class="text-center col-report">Ca đã chuyển quản lý</th>
            <th class="text-center col-report">Ca ngoại tỉnh theo hộ khẩu</th>
            <th class="text-center col-report">Ca mới, chưa chuyển quản lý</th>
            <th class="text-center col-report">Ca đã chuyển quản lý</th>
        </tr>
        <!--</thead>-->
        <tbody>
            <tr th:each="instance, iter : ${form.items}">
                <td class="text-center">[[${iter.index + 1}]]</td>
                <td class="" th:utext="${options.get('provinces').getOrDefault(instance.key+'', '#'+instance.key)}"></td>
                <td class="text-center" th:utext="${form.displayNumber(instance.value.get('permanent').nam)}"></td>
                <td class="text-center" th:utext="${form.displayNumber(instance.value.get('notmanage').nam)}"></td>
                <td class="text-center" th:utext="${form.displayNumber(instance.value.get('hasmanage').nam)}"></td>
                <td class="text-center" th:utext="${form.displayNumber(instance.value.get('permanent').nu)}"></td>
                <td class="text-center" th:utext="${form.displayNumber(instance.value.get('notmanage').nu)}"></td>
                <td class="text-center" th:utext="${form.displayNumber(instance.value.get('hasmanage').nu)}"></td>
                <td class="text-center" th:utext="${form.displayNumber(instance.value.get('permanent').khongro)}"></td>
                <td class="text-center" th:utext="${form.displayNumber(instance.value.get('notmanage').khongro)}"></td>
                <td class="text-center" th:utext="${form.displayNumber(instance.value.get('hasmanage').khongro)}"></td>
                <td class="text-center text-bold" th:utext="${form.displayNumber(instance.value.get('permanent').nam + instance.value.get('permanent').nu + instance.value.get('permanent').khongro)}"></td>
                <td class="text-center text-bold" th:utext="${form.displayNumber(instance.value.get('notmanage').nam + instance.value.get('notmanage').nu + instance.value.get('notmanage').khongro)}"></td>
                <td class="text-center text-bold" th:utext="${form.displayNumber(instance.value.get('hasmanage').nam + instance.value.get('hasmanage').nu + instance.value.get('hasmanage').khongro)}"></td>
            </tr>
            <tr >
                <td class="text-center text-bold" colspan="2">Tổng cộng</td>
                <td class="text-center text-bold" th:utext="${form.tableTotal.permanentnam     == 0 ? '0' : form.displayNumber(form.tableTotal.permanentnam     ) }"></td>
                <td class="text-center text-bold" th:utext="${form.tableTotal.notmanagenam     == 0 ? '0' : form.displayNumber(form.tableTotal.notmanagenam     ) }"></td>
                <td class="text-center text-bold" th:utext="${form.tableTotal.hasmanagenam     == 0 ? '0' : form.displayNumber(form.tableTotal.hasmanagenam     ) }"></td>
                <td class="text-center text-bold" th:utext="${form.tableTotal.permanentnu     == 0 ? '0' : form.displayNumber(form.tableTotal.permanentnu     ) }"></td>
                <td class="text-center text-bold" th:utext="${form.tableTotal.notmanagenu     == 0 ? '0' : form.displayNumber(form.tableTotal.notmanagenu     ) }"></td>
                <td class="text-center text-bold" th:utext="${form.tableTotal.hasmanagenu     == 0 ? '0' : form.displayNumber(form.tableTotal.hasmanagenu     ) }"></td>
                <td class="text-center text-bold" th:utext="${form.tableTotal.permanentkhongro     == 0 ? '0' : form.displayNumber(form.tableTotal.permanentkhongro     ) }"></td>
                <td class="text-center text-bold" th:utext="${form.tableTotal.notmanagekhongro     == 0 ? '0' : form.displayNumber(form.tableTotal.notmanagekhongro     ) }"></td>
                <td class="text-center text-bold" th:utext="${form.tableTotal.hasmanagekhongro     == 0 ? '0' : form.displayNumber(form.tableTotal.hasmanagekhongro     ) }"></td>
                <td class="text-center text-bold" th:utext="${  form.tableTotal.permanentnam + form.tableTotal.permanentnu + form.tableTotal.permanentkhongro  == 0 ? 0 : 
                    form.displayNumber(form.tableTotal.permanentnam + form.tableTotal.permanentnu + form.tableTotal.permanentkhongro) }"></td>
                <td class="text-center text-bold" th:utext="${  form.tableTotal.notmanagenam + form.tableTotal.notmanagenu + form.tableTotal.notmanagekhongro  == 0 ? 0 : 
                    form.displayNumber(form.tableTotal.notmanagenam + form.tableTotal.notmanagenu + form.tableTotal.notmanagekhongro) }"></td>
                <td class="text-center text-bold" th:utext="${  form.tableTotal.hasmanagenam + form.tableTotal.hasmanagenu + form.tableTotal.hasmanagekhongro  == 0 ? 0 : 
                    form.displayNumber(form.tableTotal.hasmanagenam + form.tableTotal.hasmanagenu + form.tableTotal.hasmanagekhongro) }"></td>

            </tr>
        </tbody>
    </table>
</div>
<div data-th-fragment="dead-local-table()" class="table-responsive">
    <table class="table-report table table-bordered table-hover" >
        <thead>
            <tr>
                <th class="text-center vertical-align-middle success text-uppercase" rowspan="2">STT</th>
                <th class="text-center vertical-align-middle success donvi-col" rowspan="2">Đơn vị báo cáo</th>
                <th class="text-center vertical-align-middle success" colspan="2">Nam</th>
                <th class="text-center vertical-align-middle success" colspan="2">Nữ</th>
                <th class="text-center vertical-align-middle success" colspan="2">Không rõ</th>
                <th class="text-center vertical-align-middle success" colspan="2">Tổng</th>
            </tr>
            <tr>
                <th class="text-center vertical-align-middle success">Số ca</th>
                <th class="text-center vertical-align-middle success">%</th>
                <th class="text-center vertical-align-middle success">Số ca</th>
                <th class="text-center vertical-align-middle success">%</th>
                <th class="text-center vertical-align-middle success">Số ca</th>
                <th class="text-center vertical-align-middle success">%</th>
                <th class="text-center vertical-align-middle success">Số ca</th>
                <th class="text-center vertical-align-middle success">%</th>
            </tr>
        </thead>
        <tbody>
            <tr th:if="${form.sum == 0}" >
                <td colspan="10" class="text-danger text-bold text-center">Không có thông tin</td>
            </tr>
        <th:block th:if="${form.sum > 0}">
            <tr th:if = "${isVAAC && (form.province == null || form.province == '')}">
                <td class="text-center"></td>
                <td colspan="9"><span class="text-bold text-left">Toàn quốc</span></td>
            </tr>
            <!--        Lặp hiển thị tỉnh-->
            <th:block th:each="item, iter : ${form.table}"  th:if="${form.table != null }">
                <tr th:if = "${(form.levelDisplay != 'province' && form.levelDisplay != '' && isVAAC) || (!isVAAC)}">
                    <td class="text-center" th:utext="${item.stt}"></td> 
                    <td class="text-bold" colspan="9" th:utext="${item.displayName}"></td>
                </tr>
                <tr th:if = "${(form.levelDisplay == 'province' || form.levelDisplay == '' ) && isVAAC}">
                    <td class="text-center" th:utext="${item.stt}"></td> 
                    <td th:class = "${!form.VAAC}" th:utext="${item.displayName}"></td>
                    <td class="text-center" th:utext="${form.displayNumber(item.male)}"></td>
                    <td class="text-center" th:utext="${form.displayPercent(item.malePercent)}"></td>
                    <td class="text-center" th:utext="${form.displayNumber(item.female)}"></td>
                    <td class="text-center" th:utext="${form.displayPercent(item.femalePercent)}"></td>
                    <td class="text-center" th:utext="${form.displayNumber(item.other)}"></td>
                    <td class="text-center" th:utext="${form.displayPercent(item.otherPercent)}"></td>
                    <td class="text-center" th:utext="${item.sum == 0 ? 0 : form.displayNumber(item.sum)}"></td>
                    <td class="text-center" th:utext="${item.getSumPercent(form.sum)}"></td>
                </tr>
                <!--            Lặp hiển thị huyện-->
                <th:block th:if='item.childs != null'  th:each="pChild, iterDistrict : ${item.childs}" >
                    <tr th:if = "${(form.levelDisplay == 'ward' && isVAAC) || (!isVAAC && form.levelDisplay == 'ward' && item.wardID != 'other')}">
                        <td class="text-center" ></td> 
                        <td colspan="11" >&nbsp;&nbsp;&nbsp;&nbsp;<span th:class= "${form.TYT || (form.levelDisplay == 'ward' && isVAAC)  || (!isVAAC && form.levelDisplay == 'ward') ? 'text-bold text-italic': 'text-bold'}" th:utext = "${pChild.displayName}"></span></td>
                    </tr>
                    <tr th:if="${form.levelDisplay == 'district' || item.wardID == 'other'}">
                        <td class="text-center" ></td> 
                        <td th:class= "${form.levelDisplay == 'ward' ? 'text-bold': ''}" th:if = "${item.wardID != 'other'}"> &nbsp;&nbsp;&nbsp;&nbsp;[[${pChild.displayName}]]</td>
                        <td th:class= "${form.levelDisplay == 'ward' ? '': ''}" th:if = "${item.wardID == 'other'}"> [[${pChild.displayName}]]</td>
                        <td class="text-center" th:utext="${form.displayNumber(pChild.male)}"></td>
                        <td class="text-center" th:utext="${form.displayPercent(pChild.malePercent)}"></td>
                        <td class="text-center" th:utext="${form.displayNumber(pChild.female)}"></td>
                        <td class="text-center" th:utext="${form.displayPercent(pChild.femalePercent)}"></td>
                        <td class="text-center" th:utext="${form.displayNumber(pChild.other)}"></td>
                        <td class="text-center" th:utext="${form.displayPercent(pChild.otherPercent)}"></td>
                        <td class="text-center" th:utext="${pChild.sum == 0 ? 0 : form.displayNumber(pChild.sum)}"></td>
                        <td class="text-center" th:utext="${pChild.getSumPercent(form.sum)}"></td>
                    </tr>
                    <!--Lặp hiển thị xã-->
                    <th:block th:if='pChild.childs != null'  th:each="dChild : ${pChild.childs}" >
                        <tr>
                            <td class="text-center"></td> 
                            <td >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[[${dChild.displayName}]]</td>
                            <td class="text-center" th:utext="${form.displayNumber(dChild.male)}"></td>
                            <td class="text-center" th:utext="${form.displayPercent(dChild.malePercent)}"></td>
                            <td class="text-center" th:utext="${form.displayNumber(dChild.female)}"></td>
                            <td class="text-center" th:utext="${form.displayPercent(dChild.femalePercent)}"></td>
                            <td class="text-center" th:utext="${form.displayNumber(dChild.other)}"></td>
                            <td class="text-center" th:utext="${form.displayPercent(dChild.otherPercent)}"></td>
                            <td class="text-center" th:utext="${dChild.sum == 0 ? 0 : form.displayNumber(dChild.sum)}"></td>
                            <td class="text-center" th:utext="${dChild.getSumPercent(form.sum)}"></td>
                        </tr>
                    </th:block>
                    <tr th:if = "${item.childs.size() > 1 && item.displayName != 'Tỉnh khác' && form.levelDisplay == 'ward' && (form.district == null || form.district == '' || form.district.contains(','))}">
                        <td ></td>
                        <td th:class="${form.TYT || form.levelDisplay == 'ward'? 'text-bold text-italic' : 'text-bold'}">&nbsp;&nbsp;&nbsp;&nbsp;Tổng huyện</td>
                        <td th:class="${form.TYT || form.levelDisplay == 'ward'? 'text-bold text-italic text-center' : 'text-bold text-center'}" th:utext="${form.numberFormat(pChild.male)}"></td>
                        <td th:class="${form.TYT || form.levelDisplay == 'ward'? 'text-bold text-italic text-center' : 'text-bold text-center'}" th:utext="${pChild.malePercent}"></td>
                        <td th:class="${form.TYT || form.levelDisplay == 'ward'? 'text-bold text-italic text-center' : 'text-bold text-center'}" th:utext="${form.numberFormat(pChild.female)}"></td>
                        <td th:class="${form.TYT || form.levelDisplay == 'ward'? 'text-bold text-italic text-center' : 'text-bold text-center'}" th:utext="${pChild.femalePercent}"></td>
                        <td th:class="${form.TYT || form.levelDisplay == 'ward'? 'text-bold text-italic text-center' : 'text-bold text-center'}" th:utext="${form.numberFormat(pChild.other)}"></td>
                        <td th:class="${form.TYT || form.levelDisplay == 'ward'? 'text-bold text-italic text-center' : 'text-bold text-center'}" th:utext="${pChild.otherPercent}"></td>
                        <td th:class="${form.TYT || form.levelDisplay == 'ward'? 'text-bold text-italic text-center' : 'text-bold text-center'}" th:utext="${form.numberFormat(pChild.sum)}"></td>
                        <td th:class="${form.TYT || form.levelDisplay == 'ward'? 'text-bold text-italic text-center' : 'text-bold text-center'}" th:utext="${pChild.getSumPercent(form.sum)}"></td>
                    </tr>

                </th:block>
                <tr th:if = "${((form.levelDisplay != 'province') && (form.table.size() > 1) && (form.province == null || form.province == '' || form.province.contains(','))) && item.displayName != 'Tỉnh khác'}">
                    <td ></td> 
                    <td class = "text-bold" >Tổng tỉnh</td>
                    <td class="text-center text-bold" th:utext="${form.numberFormat(item.male)}"></td>
                    <td class="text-center text-bold" th:utext="${item.malePercent}"></td>
                    <td class="text-center text-bold" th:utext="${form.numberFormat(item.female)}"></td>
                    <td class="text-center text-bold" th:utext="${item.femalePercent}"></td>
                    <td class="text-center text-bold" th:utext="${form.numberFormat(item.other)}"></td>
                    <td class="text-center text-bold" th:utext="${item.otherPercent}"></td>
                    <td class="text-center text-bold" th:utext="${form.numberFormat(item.sum)}"></td>
                    <td class="text-center text-bold" th:utext="${item.getSumPercent(form.sum)}"></td>
                </tr>
            </th:block>
            <tr th:if="${form.table != null && form.table.size() > 0}">
                <td colspan="2" class="text-center"><b>Tổng cộng</b></td>
                <td class="text-center text-bold" th:text="${form.numberFormat(form.getMale())}"></td>
                <td class="text-center text-bold" th:text="${form.getMalePercent()}"></td>
                <td class="text-center text-bold" th:text="${form.numberFormat(form.getFemale())}"></td>
                <td class="text-center text-bold" th:text="${form.getFemalePercent()}"></td>
                <td class="text-center text-bold" th:text="${form.numberFormat(form.getOther())}"></td>
                <td class="text-center text-bold" th:text="${form.getOtherPercent()}"></td>
                <td class="text-center text-bold" th:text="${form.numberFormat(form.getSum())}"></td>
                <td class="text-center text-bold" th:text="${form.getSumPercent()}"></td>
            </tr>
        </th:block>
        </tbody>
    </table>
</div>
<div data-th-fragment="table-pdf()" class="table-responsive">
    <table class="table-report table table-bordered table-hover" >
        <thead>
            <tr>
                <th class="text-center vertical-align-middle success text-uppercase">STT</th>
                <th class="text-center vertical-align-middle success">Đơn vị báo cáo</th>
                <th class="text-center vertical-align-middle success" style="width: 65px;">Nam</th>
                <th class="text-center vertical-align-middle success" style="width: 65px;">Nữ</th>
                <th class="text-center vertical-align-middle success" style="width: 65px;">Không rõ</th>
                <th class="text-center vertical-align-middle success" style="width: 80px;">Tổng</th>
            </tr>
        </thead>
        <tbody>
        <th:block th:if="${form.serchWard == false && form.serchDistrict == false && !isTYT && !isTTYT}">
            <tr>
                <td class="text-center" ></td>
                <td class="text-left text-bold" th:text="${form.provinceName}"></td>
                <td class="text-center text-bold" th:text="${#numbers.formatInteger(#aggregates.sum(form.table.?[wardName == null].![male]),2,'POINT')}"></td>
                <td class="text-center text-bold" th:text="${#numbers.formatInteger(#aggregates.sum(form.table.?[wardName == null].![female]),2,'POINT')}"></td>
                <td class="text-center text-bold" th:text="${#numbers.formatInteger(#aggregates.sum(form.table.?[wardName == null].![other]),2,'POINT')}"></td>
                <td class="text-center text-bold" th:text="${#numbers.formatInteger(#aggregates.sum(form.table.?[wardName == null].![total]),2,'POINT')}"></td>
            </tr>
        </th:block>
        <tr th:each="item : ${form.table}" >
            <td class="text-center" th:utext="${item.wardName != '' && item.wardName != null ? '' : item.stt}"></td> 
            <td>
                <span class="text-bold" th:if="${item.wardName == '' || item.wardName == null}" th:utext="${item.districtName}" ></span>
                <span th:if="${item.wardName != '' && item.wardName != null}">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[[${item.wardName}]]</span>
            </td>
            <td th:class="${item.wardName == '' || item.wardName == null} ? 'text-center text-bold' : 'text-center'" th:utext="${#numbers.formatInteger((((item.wardName == '' || item.wardName == null) && (isTYT || form.serchWard)) ? '' : item.male == 0 ? '' : item.male),2,'POINT')}"></td>
            <td th:class="${item.wardName == '' || item.wardName == null} ? 'text-center text-bold' : 'text-center'" th:utext="${#numbers.formatInteger((((item.wardName == '' || item.wardName == null) && (isTYT || form.serchWard)) ? '' : item.female == 0 ? '' : item.female),2,'POINT')}"></td>
            <td th:class="${item.wardName == '' || item.wardName == null} ? 'text-center text-bold' : 'text-center'" th:utext="${#numbers.formatInteger((((item.wardName == '' || item.wardName == null) && (isTYT || form.serchWard)) ? '' : item.other == 0 ? '' : item.other),2,'POINT')}"></td>
            <td th:class="${item.wardName == '' || item.wardName == null} ? 'text-center text-bold' : 'text-center'" th:utext="${#numbers.formatInteger((((item.wardName == '' || item.wardName == null) && (isTYT || form.serchWard)) ? '' : item.total == 0 ? '' : item.total),2,'POINT')}"></td>
        </tr>
        <th:block th:if="${form.serchWard || form.serchDistrict || isTYT || isTTYT}">
            <tr  th:if="${form.serchWard == false && !isTYT}">
                <td colspan="2" class="text-center" colpan="2"><b>Tổng cộng</b></td>
                <td class="text-center text-bold" th:text="${#numbers.formatInteger(#aggregates.sum(form.table.?[wardName == null].![male]),2,'POINT')}"></td>
                <td class="text-center text-bold" th:text="${#numbers.formatInteger(#aggregates.sum(form.table.?[wardName == null].![female]),2,'POINT')}"></td>
                <td class="text-center text-bold" th:text="${#numbers.formatInteger(#aggregates.sum(form.table.?[wardName == null].![other]),2,'POINT')}"></td>
                <td class="text-center text-bold" th:text="${#numbers.formatInteger(#aggregates.sum(form.table.?[wardName == null].![total]),2,'POINT')}"></td>
            </tr>
            <tr th:if="${form.serchWard || isTYT}">
                <td colspan="2" class="text-center" colpan="2"><b>Tổng cộng</b></td>
                <td class="text-center text-bold" th:text="${#numbers.formatInteger(#aggregates.sum(form.table.?[wardName != null].![male]),2,'POINT')}"></td>
                <td class="text-center text-bold" th:text="${#numbers.formatInteger(#aggregates.sum(form.table.?[wardName != null].![female]),2,'POINT')}"></td>
                <td class="text-center text-bold" th:text="${#numbers.formatInteger(#aggregates.sum(form.table.?[wardName != null].![other]),2,'POINT')}"></td>
                <td class="text-center text-bold" th:text="${#numbers.formatInteger(#aggregates.sum(form.table.?[wardName != null].![total]),2,'POINT')}"></td>
            </tr>
        </th:block>
        </tbody>
    </table>
</div>

<!--BC huyện xã cấp VAAC-->
<div data-th-fragment="table-local-vaac()">
    <table class="table-report table table-bordered table-hover" >
        <thead>
            <tr>
                <th class="text-center vertical-align-middle success text-uppercase" rowspan="2">STT</th>
                <th class="text-center vertical-align-middle success" rowspan="2">Đơn vị báo cáo</th>
                <th class="text-center vertical-align-middle success" colspan="3">Số người nhiễm quản lý</th>
            </tr>
            <tr>
                <th class="text-center vertical-align-middle success">Còn sống</th>
                <th class="text-center vertical-align-middle success">Tử vong</th>
                <th class="text-center vertical-align-middle success">Lũy tích</th>
            </tr>
        </thead>
        <tbody>
            <tr th:if="${form != null && form.sum == 0}" >
                <td colspan="5" class="text-danger text-bold text-center">Không có thông tin</td>
            </tr>
        <th:block th:if="${form != null && form.sum > 0}">
            <tr th:if = "${form.VAAC && (form.province == null || form.province == '')}">
                <td class="text-center"></td>
                <td colspan="4"><span class="text-bold text-left">Toàn quốc</span></td>
            </tr>
            <!--Lặp hiển thị tỉnh-->
            <th:block th:each="item, iter : ${form.table}"  th:if="${form.table != null }">
                <tr th:if = "${(form.levelDisplay != 'province' && form.levelDisplay != '' && form.VAAC) || (!form.VAAC)}">
                    <td class="text-center" th:utext="${item.stt}"></td> 
                    <td class="text-bold" colspan="4" th:utext="${item.displayName}"></td>
                </tr>
                <tr th:if = "${(form.levelDisplay == 'province' || form.levelDisplay == '' ) && form.VAAC}">
                    <td class="text-center" th:utext="${item.stt}"></td> 
                    <td th:class = "${!form.VAAC}" th:utext="${item.displayName}"></td>
                    <td class="text-center" th:utext="${form.displayNumber(item.numAlive)}"></td>
                    <td class="text-center" th:utext="${form.displayNumber(item.numDead)}"></td>
                    <td class="text-center" th:utext="${form.displayNumber(item.cumulative)}"></td>
                </tr>
                <!--            Lặp hiển thị huyện-->
                <th:block th:if='item.childs != null'  th:each="pChild, iterDistrict : ${item.childs}" >
                    <tr th:if = "${(form.levelDisplay == 'ward' && form.VAAC) || (!form.VAAC && form.levelDisplay == 'ward' && item.wardID != 'other')}">
                        <td class="text-center" ></td> 
                        <td colspan="11" >&nbsp;&nbsp;&nbsp;&nbsp;<span th:class= "${form.TYT || (form.levelDisplay == 'ward' && form.VAAC)  || (!form.VAAC && form.levelDisplay == 'ward') ? 'text-bold text-italic': 'text-bold'}" th:utext = "${pChild.displayName}"></span></td>
                    </tr>
                    <tr th:if="${form.levelDisplay == 'district'}">
                        <td class="text-center" ></td> 
                        <td th:class= "${form.levelDisplay == 'ward' ? 'text-bold': ''}" > &nbsp;&nbsp;&nbsp;&nbsp;[[${pChild.displayName}]]</td>
                        <td class="text-center" th:utext="${form.displayNumber(pChild.numAlive)}"></td>
                        <td class="text-center" th:utext="${form.displayNumber(pChild.numDead)}"></td>
                        <td class="text-center" th:utext="${form.displayNumber(pChild.cumulative)}"></td>
                    </tr>
                    <!--Lặp hiển thị xã-->
                    <th:block th:if='pChild.childs != null'  th:each="dChild : ${pChild.childs}" >
                        <tr>
                            <td class="text-center"></td> 
                            <td >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[[${dChild.displayName}]]</td>
                            <td class="text-center" th:utext="${form.displayNumber(dChild.numAlive)}"></td>
                            <td class="text-center" th:utext="${form.displayNumber(dChild.numDead)}"></td>
                            <td class="text-center" th:utext="${form.displayNumber(dChild.cumulative)}"></td>
                        </tr>
                    </th:block>
                    <tr th:if = "${item.childs.size() > 1 && item.displayName != 'Tỉnh khác' && form.levelDisplay == 'ward' && (form.district == null || form.district == '' || form.district.contains(','))}">
                        <td ></td>
                        <td th:class="${form.TYT || (form.levelDisplay == 'ward' && form.VAAC)  || ( !form.VAAC && form.levelDisplay == 'ward') ? 'text-bold text-italic' : 'text-bold'}">&nbsp;&nbsp;&nbsp;&nbsp;Tổng huyện</td>
                        <td th:class="${form.TYT || (form.levelDisplay == 'ward' && form.VAAC)  || ( !form.VAAC && form.levelDisplay == 'ward') ? 'text-bold text-italic text-center' : 'text-bold text-center'}" th:utext="${form.numberFormat(pChild.numAlive)}"></td>
                        <td th:class="${form.TYT || (form.levelDisplay == 'ward' && form.VAAC)  || ( !form.VAAC && form.levelDisplay == 'ward') ? 'text-bold text-italic text-center' : 'text-bold text-center'}" th:utext="${form.numberFormat(pChild.numDead)}"></td>
                        <td th:class="${form.TYT || (form.levelDisplay == 'ward' && form.VAAC)  || ( !form.VAAC && form.levelDisplay == 'ward') ? 'text-bold text-italic text-center' : 'text-bold text-center'}" th:utext="${form.numberFormat(pChild.cumulative)}"></td>
                    </tr>
                </th:block>
                <tr th:if = "${((form.levelDisplay != 'province') && (form.table.size() > 1) && (form.province == null || form.province == '' || form.province.contains(','))) && item.displayName != 'Tỉnh khác'}">
                    <td ></td> 
                    <td class = "text-bold" >Tổng tỉnh</td>
                    <td class="text-center text-bold" th:utext="${form.numberFormat(item.numAlive)}"></td>
                    <td class="text-center text-bold" th:utext="${form.numberFormat(item.numDead)}"></td>
                    <td class="text-center text-bold" th:utext="${form.numberFormat(item.cumulative)}"></td>
                </tr>
            </th:block>
            <tr th:if="${form.table != null && form.table.size() > 0}">
                <td colspan="2" class="text-center"><b>Tổng cộng</b></td>
                <td class="text-center text-bold text-bold" th:utext="${form.numberFormat(form.aliveTotal)}"></td>
                <td class="text-center text-bold text-bold" th:utext="${form.numberFormat(form.deadTotal)}"></td>
                <td class="text-center text-bold text-bold" th:utext="${form.numberFormat(form.sum)}"></td>
            </tr>
        </th:block>
        </tbody>
    </table>
</div>
<!--BC huyện xã dưới cấp VAAC-->
<div data-th-fragment="table-local()" class="table-responsive">
    <table class="table-report table table-bordered table-hover" >
        <thead>
            <tr>
                <th class="text-center vertical-align-middle success text-uppercase" rowspan="2">STT</th>
                <th class="text-center vertical-align-middle success" rowspan="2">Đơn vị báo cáo</th>
                <th class="text-center vertical-align-middle success" rowspan="2" th:if="${form.PAC}">Số người nhiễm <br> chưa rà soát</th>
                <th class="text-center vertical-align-middle success" rowspan="2">Số người nhiễm <br> cần rà soát</th>
                <th class="text-center vertical-align-middle success" rowspan="2">Số người nhiễm <br> đã rà soát</th>
                <th class="text-center vertical-align-middle success" colspan="3">Số người nhiễm quản lý</th>
                <th class="text-center vertical-align-middle success" rowspan="2" style="width: 15%">Số người nhiễm ngoại tỉnh</th>
            </tr>
            <tr>
                <th class="text-center vertical-align-middle success">Còn sống</th>
                <th class="text-center vertical-align-middle success">Tử vong</th>
                <th class="text-center vertical-align-middle success">Lũy tích</th>
            </tr>
        </thead>
        <tbody>
            <tr th:if="${form != null && form.sum <= 0 && form.notReviewTotal <= 0 && form.needReviewTotal <= 0 && form.reviewedTotal <= 0 && form.outProvinceTotal <= 0}" >
                <td colspan="9" class="text-danger text-bold text-center">Không có thông tin</td>
            </tr>
        <th:block th:if="${form != null && (form.sum > 0 || form.notReviewTotal > 0 || form.needReviewTotal > 0 || form.reviewedTotal > 0 || form.outProvinceTotal > 0)}">
            <th:block th:each="item, iter : ${form.table}"  th:if="${form.table != null }">
                <!--Lặp hiển thị huyện-->
                <th:block th:if='item.childs != null'  th:each="pChild, iterDistrict : ${item.childs}" >
                    <tr th:if = "${form.TYT}">
                        <td class="text-center" th:utext="${pChild.stt}"></td> 
                        <td><span class="text-bold" th:utext = "${pChild.displayName}"></span></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                    </tr>

                    <tr th:if = "${!form.TYT}">
                        <td class="text-center" th:utext="${pChild.stt}"></td> 
                        <td ><span class="text-bold" th:utext = "${pChild.displayName}"></span></td>
                        <td class="text-center text-bold" th:if="${form.PAC}" th:utext="${form.displayNumber(pChild.notReviewYet)}"></td>
                        <td class="text-center text-bold" th:utext="${form.displayNumber(pChild.needReview)}"></td>
                        <td class="text-center text-bold" th:utext="${form.displayNumber(pChild.reviewed)}"></td>
                        <td class="text-center text-bold" th:utext="${form.displayNumber(pChild.numAlive)}"></td>
                        <td class="text-center text-bold" th:utext="${form.displayNumber(pChild.numDead)}"></td>
                        <td class="text-center text-bold" th:utext="${form.displayNumber(pChild.cumulative)}"></td>
                        <td class="text-center text-bold" th:utext="${form.displayNumber(pChild.outprovince)}"></td>
                    </tr>
                    <!--Lặp hiển thị xã-->
                    <th:block th:if='pChild.childs != null'  th:each="dChild : ${pChild.childs}" >
                        <tr>
                            <td class="text-center"></td> 
                            <td >&nbsp;&nbsp;&nbsp;&nbsp;[[${dChild.displayName}]]</td>
                            <td class="text-center" th:if="${form.PAC}" th:utext="${form.displayNumber(dChild.notReviewYet)}"></td>
                            <td class="text-center" th:utext="${form.displayNumber(dChild.needReview)}"></td>
                            <td class="text-center" th:utext="${form.displayNumber(dChild.reviewed)}"></td>
                            <td class="text-center" th:utext="${form.displayNumber(dChild.numAlive)}"></td>
                            <td class="text-center" th:utext="${form.displayNumber(dChild.numDead)}"></td>
                            <td class="text-center" th:utext="${form.displayNumber(dChild.cumulative)}"></td>
                            <td class="text-center" th:utext="${form.displayNumber(dChild.outprovince)}"></td>
                        </tr>
                    </th:block>
                </th:block>
            </th:block>
        </th:block>
        </tbody>
    </table>
</div>
<div data-th-fragment="table-early-hiv()" class="table-responsive">
    <table class="table-report table table-bordered table-hover" >
        <thead>
            <tr>
                <th class="text-center vertical-align-middle success text-uppercase">STT</th>
                <th class="text-center vertical-align-middle success">Đơn vị báo cáo</th>
                <th class="text-center vertical-align-middle success">Nam</th>
                <th class="text-center vertical-align-middle success">Nữ</th>
                <th class="text-center vertical-align-middle success">Không rõ</th>
                <th class="text-center vertical-align-middle success">Tổng</th>
            </tr>
        </thead>
        <tbody>
            <tr th:each="item : ${form.table}" >
                <td class="text-center" th:utext="${item.wardName != '' && item.wardName != null ? '' : item.stt}"></td> 
                <td>
                    <span class="text-bold" th:if="${item.wardName == '' || item.wardName == null}" th:utext="${item.districtName}" ></span>
                    <span th:if="${item.wardName != '' && item.wardName != null}">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[[${item.wardName}]]</span>
                </td>
                <td style="width: 120px;" th:id="${'male' + item.wardName+ item.male }" th:class="${item.wardName == '' || item.wardName == null} ? 'text-center text-bold' : 'text-center'" th:utext="${((item.wardName == '' || item.wardName == null) && (isTYT || form.serchWard)) ? '' : item.male == 0 ? '' : item.male}"
                    th:attr="ng-click='detailEarlyReportLine({permanentDistrictID:\''+${item.districtID}+'\', permanentWardID:\''+${item.wardID}+'\', genderID:\'1\'},$event)'"></td>
                <td style="width: 120px;" th:id="${'female' + item.female}" class="text-center" th:class="${item.wardName == '' || item.wardName == null} ? 'text-center text-bold' : 'text-center'" th:utext="${((item.wardName == '' || item.wardName == null) && (isTYT || form.serchWard)) ? '' : item.female == 0 ? '' : item.female}"
                    th:attr="ng-click='detailEarlyReportLine({permanentDistrictID:\''+${item.districtID}+'\', permanentWardID:\''+${item.wardID}+'\', genderID:\'2\'},$event)'"></td>
                <td style="width: 120px;" th:id="${'other' + item.other}" class="text-center" th:class="${item.wardName == '' || item.wardName == null} ? 'text-center text-bold' : 'text-center'" th:utext="${((item.wardName == '' || item.wardName == null) && (isTYT || form.serchWard)) ? '' : item.other == 0 ? '' : item.other}"
                    th:attr="ng-click='detailEarlyReportLine({permanentDistrictID:\''+${item.districtID}+'\', permanentWardID:\''+${item.wardID}+'\', genderID:\'3\'},$event)'"></td>
                <td style="width: 150px;" th:id="${'total' + item.total}" class="text-center" th:class="${item.wardName == '' || item.wardName == null} ? 'text-center text-bold' : 'text-center'" th:utext="${((item.wardName == '' || item.wardName == null) && (isTYT || form.serchWard)) ? '' : item.total == 0 ? '' : item.total}"
                    th:attr="ng-click='detailEarlyReportLine({permanentDistrictID:\''+${item.districtID}+'\', permanentWardID:\''+${item.wardID}+'\', genderID:\'\'},$event)'"></td>
            </tr>
            <tr  th:if="${form.serchWard == false && !isTYT}">
                <td colspan="2" class="text-center" colpan="2"><b>Tổng cộng</b></td>
                <td class="text-center text-bold" th:text="${#aggregates.sum(form.table.?[wardName == null].![male])}"></td>
                <td class="text-center text-bold" th:text="${#aggregates.sum(form.table.?[wardName == null].![female])}"></td>
                <td class="text-center text-bold" th:text="${#aggregates.sum(form.table.?[wardName == null].![other])}"></td>
                <td class="text-center text-bold" th:text="${#aggregates.sum(form.table.?[wardName == null].![total])}"></td>
            </tr>
            <tr th:if="${form.serchWard || isTYT}">
                <td colspan="2" class="text-center" colpan="2"><b>Tổng cộng</b></td>
                <td class="text-center text-bold" th:text="${#aggregates.sum(form.table.?[wardName != null].![male])}"></td>
                <td class="text-center text-bold" th:text="${#aggregates.sum(form.table.?[wardName != null].![female])}"></td>
                <td class="text-center text-bold" th:text="${#aggregates.sum(form.table.?[wardName != null].![other])}"></td>
                <td class="text-center text-bold" th:text="${#aggregates.sum(form.table.?[wardName != null].![total])}"></td>
            </tr>
        </tbody>
    </table>
</div>
<div data-th-fragment="table-detecthiv-gender()" class="table-responsive">
    <table class="table-report table table-bordered table-hover" >
        <thead>
            <tr>
                <th class="text-center vertical-align-middle success text-uppercase" rowspan="2">STT</th>
                <th class="text-center vertical-align-middle success donvi-col" rowspan="2">Đơn vị báo cáo</th>
                <th class="text-center vertical-align-middle success" colspan="2">Nam</th>
                <th class="text-center vertical-align-middle success" colspan="2">Nữ</th>
                <th class="text-center vertical-align-middle success" colspan="2">Không rõ</th>
                <th class="text-center vertical-align-middle success" colspan="2">Tổng</th>
            </tr>
            <tr>
                <th class="text-center vertical-align-middle success th-col">Số ca</th>
                <th class="text-center vertical-align-middle success th-col">%</th>
                <th class="text-center vertical-align-middle success th-col">Số ca</th>
                <th class="text-center vertical-align-middle success th-col">%</th>
                <th class="text-center vertical-align-middle success th-col">Số ca</th>
                <th class="text-center vertical-align-middle success th-col">%</th>
                <th class="text-center vertical-align-middle success th-col">Số ca</th>
                <th class="text-center vertical-align-middle success th-col">%</th>
            </tr>
        </thead>
        <tbody>
            <tr th:if="${form != null && form.sum == 0}" >
                <td colspan="10" class="text-danger text-bold text-center">Không có thông tin</td>
            </tr>
        <th:block th:if="${form != null && form.sum > 0}">
            <tr th:if = "${isVAAC && (form.province == null || form.province == '')}">
                <td class="text-center"></td>
                <td colspan="9"><span class="text-bold text-left">Toàn quốc</span></td>
            </tr>
            <!--        Lặp hiển thị tỉnh-->
            <th:block th:each="item, iter : ${form.table}"  th:if="${form.table != null }">
                <tr th:if = "${(form.levelDisplay != 'province' && form.levelDisplay != '' && isVAAC) || (!isVAAC)}">
                    <td class="text-center" th:utext="${item.stt}"></td> 
                    <td class="text-bold" colspan="9" th:utext="${item.displayName}"></td>
                </tr>
                <tr th:if = "${(form.levelDisplay == 'province' || form.levelDisplay == '' ) && isVAAC}">
                    <td class="text-center" th:utext="${item.stt}"></td> 
                    <td th:class = "${!form.VAAC}" th:utext="${item.displayName}"></td>
                    <td class="text-center" th:utext="${form.displayNumber(item.male)}"></td>
                    <td class="text-center" th:utext="${form.displayPercent(item.malePercent)}"></td>
                    <td class="text-center" th:utext="${form.displayNumber(item.female)}"></td>
                    <td class="text-center" th:utext="${form.displayPercent(item.femalePercent)}"></td>
                    <td class="text-center" th:utext="${form.displayNumber(item.other)}"></td>
                    <td class="text-center" th:utext="${form.displayPercent(item.otherPercent)}"></td>
                    <td class="text-center" th:utext="${form.numberFormat(item.sum)}"></td>
                    <td class="text-center" th:utext="${item.getSumPercent(form.sum)}"></td>
                </tr>
                <!--            Lặp hiển thị huyện-->
                <th:block th:if='item.childs != null'  th:each="pChild, iterDistrict : ${item.childs}" >
                    <tr th:if = "${(form.levelDisplay == 'ward' && isVAAC) || (!isVAAC && form.levelDisplay == 'ward' && item.wardID != 'other')}">
                        <td class="text-center" ></td> 
                        <td colspan="11" >&nbsp;&nbsp;&nbsp;&nbsp;<span th:class= "${form.TYT || (form.levelDisplay == 'ward' && isVAAC)  || (!isVAAC && form.levelDisplay == 'ward') ? 'text-bold text-italic': 'text-bold'}" th:utext = "${pChild.displayName}"></span></td>
                    </tr>
                    <tr th:if="${form.levelDisplay == 'district' || item.wardID == 'other'}">
                        <td class="text-center" ></td> 
                        <td th:class= "${form.levelDisplay == 'ward' ? 'text-bold': ''}" th:if = "${item.wardID != 'other'}"> &nbsp;&nbsp;&nbsp;&nbsp;[[${pChild.displayName}]]</td>
                        <td th:class= "${form.levelDisplay == 'ward' ? '': ''}" th:if = "${item.wardID == 'other'}"> [[${pChild.displayName}]]</td>
                        <td class="text-center" th:utext="${form.displayNumber(pChild.male)}"></td>
                        <td class="text-center" th:utext="${form.displayPercent(pChild.malePercent)}"></td>
                        <td class="text-center" th:utext="${form.displayNumber(pChild.female)}"></td>
                        <td class="text-center" th:utext="${form.displayPercent(pChild.femalePercent)}"></td>
                        <td class="text-center" th:utext="${form.displayNumber(pChild.other)}"></td>
                        <td class="text-center" th:utext="${form.displayPercent(pChild.otherPercent)}"></td>
                        <td class="text-center" th:utext="${form.numberFormat(pChild.sum)}"></td>
                        <td class="text-center" th:utext="${pChild.getSumPercent(form.sum)}"></td>
                    </tr>
                    <!--Lặp hiển thị xã-->
                    <th:block th:if='pChild.childs != null'  th:each="dChild : ${pChild.childs}" >
                        <tr>
                            <td class="text-center"></td> 
                            <td >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[[${dChild.displayName}]]</td>
                            <td class="text-center" th:utext="${form.displayNumber(dChild.male)}"></td>
                            <td class="text-center" th:utext="${form.displayPercent(dChild.malePercent)}"></td>
                            <td class="text-center" th:utext="${form.displayNumber(dChild.female)}"></td>
                            <td class="text-center" th:utext="${form.displayPercent(dChild.femalePercent)}"></td>
                            <td class="text-center" th:utext="${form.displayNumber(dChild.other)}"></td>
                            <td class="text-center" th:utext="${form.displayPercent(dChild.otherPercent)}"></td>
                            <td class="text-center" th:utext="${form.numberFormat(dChild.sum)}"></td>
                            <td class="text-center" th:utext="${dChild.getSumPercent(form.sum)}"></td>
                        </tr>
                    </th:block>
                    <tr th:if = "${item.childs.size() > 1 && item.displayName != 'Tỉnh khác' && form.levelDisplay == 'ward' && (form.district == null || form.district == '' || form.district.contains(','))}">
                        <td ></td>
                        <td th:class="${form.TYT || (form.levelDisplay == 'ward' && isVAAC)  || (!isVAAC && form.levelDisplay == 'ward') ? 'text-bold text-italic' : 'text-bold'}">&nbsp;&nbsp;&nbsp;&nbsp;Tổng huyện</td>
                        <td th:class="${form.TYT || (form.levelDisplay == 'ward' && isVAAC)  || (!isVAAC && form.levelDisplay == 'ward') ? 'text-bold text-italic text-center' : 'text-bold text-center'}" th:utext="${form.numberFormat(pChild.male)}"></td>
                        <td th:class="${form.TYT || (form.levelDisplay == 'ward' && isVAAC)  || (!isVAAC && form.levelDisplay == 'ward') ? 'text-bold text-italic text-center' : 'text-bold text-center'}" th:utext="${pChild.malePercent}"></td>
                        <td th:class="${form.TYT || (form.levelDisplay == 'ward' && isVAAC)  || (!isVAAC && form.levelDisplay == 'ward') ? 'text-bold text-italic text-center' : 'text-bold text-center'}" th:utext="${form.numberFormat(pChild.female)}"></td>
                        <td th:class="${form.TYT || (form.levelDisplay == 'ward' && isVAAC)  || (!isVAAC && form.levelDisplay == 'ward') ? 'text-bold text-italic text-center' : 'text-bold text-center'}" th:utext="${pChild.femalePercent}"></td>
                        <td th:class="${form.TYT || (form.levelDisplay == 'ward' && isVAAC)  || (!isVAAC && form.levelDisplay == 'ward') ? 'text-bold text-italic text-center' : 'text-bold text-center'}" th:utext="${form.numberFormat(pChild.other)}"></td>
                        <td th:class="${form.TYT || (form.levelDisplay == 'ward' && isVAAC)  || (!isVAAC && form.levelDisplay == 'ward') ? 'text-bold text-italic text-center' : 'text-bold text-center'}" th:utext="${pChild.otherPercent}"></td>
                        <td th:class="${form.TYT || (form.levelDisplay == 'ward' && isVAAC)  || (!isVAAC && form.levelDisplay == 'ward') ? 'text-bold text-italic text-center' : 'text-bold text-center'}" th:utext="${form.numberFormat(pChild.sum)}"></td>
                        <td th:class="${form.TYT || (form.levelDisplay == 'ward' && isVAAC)  || (!isVAAC && form.levelDisplay == 'ward') ? 'text-bold text-italic text-center' : 'text-bold text-center'}" th:utext="${pChild.getSumPercent(form.sum)}"></td>
                    </tr>

                </th:block>
                <tr th:if = "${((form.levelDisplay != 'province') && (form.table.size() > 1) && (form.province == null || form.province == '' || form.province.contains(','))) && item.displayName != 'Tỉnh khác'}">
                    <td ></td> 
                    <td class = "text-bold" >Tổng tỉnh</td>
                    <td class="text-center text-bold" th:utext="${form.numberFormat(item.male)}"></td>
                    <td class="text-center text-bold" th:utext="${item.malePercent}"></td>
                    <td class="text-center text-bold" th:utext="${form.numberFormat(item.female)}"></td>
                    <td class="text-center text-bold" th:utext="${item.femalePercent}"></td>
                    <td class="text-center text-bold" th:utext="${form.numberFormat(item.other)}"></td>
                    <td class="text-center text-bold" th:utext="${item.otherPercent}"></td>
                    <td class="text-center text-bold" th:utext="${form.numberFormat(item.sum)}"></td>
                    <td class="text-center text-bold" th:utext="${item.getSumPercent(form.sum)}"></td>
                </tr>
            </th:block>
            <tr th:if="${form.table != null && form.table.size() > 0}">
                <td colspan="2" class="text-center"><b>Tổng cộng</b></td>
                <td class="text-center text-bold" th:text="${form.numberFormat(form.getMale())}"></td>
                <td class="text-center text-bold" th:text="${form.getMalePercent()}"></td>
                <td class="text-center text-bold" th:text="${form.numberFormat(form.getFemale())}"></td>
                <td class="text-center text-bold" th:text="${form.getFemalePercent()}"></td>
                <td class="text-center text-bold" th:text="${form.numberFormat(form.getOther())}"></td>
                <td class="text-center text-bold" th:text="${form.getOtherPercent()}"></td>
                <td class="text-center text-bold" th:text="${form.numberFormat(form.getSum())}"></td>
                <td class="text-center text-bold" th:text="${form.getSumPercent()}"></td>
            </tr>
        </th:block>
        </tbody>
    </table>
</div>
<div data-th-fragment="table-detecthiv-insurance()" class="table-responsive">
    <table class="table-report table table-bordered table-hover" >
        <thead>
            <tr>
                <th class="text-center vertical-align-middle success text-uppercase" rowspan="2">STT</th>
                <th class="text-center vertical-align-middle success donvi-col" rowspan="2" style="width: 15%;">Đơn vị báo cáo</th>
                <th class="text-center vertical-align-middle success" colspan="2">Có BHYT</th>
                <th class="text-center vertical-align-middle success" colspan="2">Không có BHYT</th>
                <th class="text-center vertical-align-middle success" colspan="2">Không có thông tin</th>
                <th class="text-center vertical-align-middle success" colspan="2">Tổng</th>
            </tr>
            <tr>
                <th class="text-center vertical-align-middle success th-col">Số ca</th>
                <th class="text-center vertical-align-middle success th-col">%</th>
                <th class="text-center vertical-align-middle success th-col">Số ca</th>
                <th class="text-center vertical-align-middle success th-col">%</th>
                <th class="text-center vertical-align-middle success th-col">Số ca</th>
                <th class="text-center vertical-align-middle success th-col">%</th>
                <th class="text-center vertical-align-middle success th-col">Số ca</th>
                <th class="text-center vertical-align-middle success th-col">%</th>
            </tr>
        </thead>
        <tbody>
            <tr th:if="${form != null && form.sum == 0}" >
                <td colspan="10" class="text-danger text-bold text-center">Không có thông tin</td>
            </tr>
        <th:block th:if="${form != null && form.sum > 0}">
            <tr th:if = "${isVAAC && (form.province == null || form.province == '')}">
                <td class="text-center"></td>
                <td colspan="9"><span class="text-bold text-left">Toàn quốc</span></td>
            </tr>
            <!--        Lặp hiển thị tỉnh-->
            <th:block th:each="item, iter : ${form.table}"  th:if="${form.table != null }">
                <tr th:if = "${(form.levelDisplay != 'province' && form.levelDisplay != '' && isVAAC) || (!isVAAC)}">
                    <td class="text-center" th:utext="${item.stt}"></td> 
                    <td class="text-bold" colspan="9" th:utext="${item.displayName}"></td>
                </tr>
                <tr th:if = "${(form.levelDisplay == 'province' || form.levelDisplay == '' ) && isVAAC}">
                    <td class="text-center" th:utext="${item.stt}"></td> 
                    <td th:class = "${!form.VAAC}" th:utext="${item.displayName}"></td>
                    <td class="text-center" th:utext="${form.displayNumber(item.yes)}"></td>
                    <td class="text-center" th:utext="${form.displayPercent(item.yesPercent)}"></td>
                    <td class="text-center" th:utext="${form.displayNumber(item.no)}"></td>
                    <td class="text-center" th:utext="${form.displayPercent(item.noPercent)}"></td>
                    <td class="text-center" th:utext="${form.displayNumber(item.other)}"></td>
                    <td class="text-center" th:utext="${form.displayPercent(item.otherPercent)}"></td>
                    <td class="text-center" th:utext="${form.numberFormat(item.sum)}"></td>
                    <td class="text-center" th:utext="${item.getSumPercent(form.sum)}"></td>
                </tr>
                <!--            Lặp hiển thị huyện-->
                <th:block th:if='item.childs != null'  th:each="pChild, iterDistrict : ${item.childs}" >
                    <tr th:if = "${(form.levelDisplay == 'ward' && isVAAC) || (!isVAAC && form.levelDisplay == 'ward' && item.wardID != 'other')}">
                        <td class="text-center" ></td> 
                        <td colspan="11" >&nbsp;&nbsp;&nbsp;&nbsp;<span th:class= "${form.TYT || (form.levelDisplay == 'ward' && isVAAC)  || (!isVAAC && form.levelDisplay == 'ward') ? 'text-bold text-italic': 'text-bold'}" th:utext = "${pChild.displayName}"></span></td>
                    </tr>
                    <tr th:if="${form.levelDisplay == 'district' || item.wardID == 'other'}">
                        <td class="text-center" ></td> 
                        <td th:class= "${form.levelDisplay == 'ward' ? 'text-bold': ''}" th:if = "${item.wardID != 'other'}"> &nbsp;&nbsp;&nbsp;&nbsp;[[${pChild.displayName}]]</td>
                        <td th:class= "${form.levelDisplay == 'ward' ? '': ''}" th:if = "${item.wardID == 'other'}"> [[${pChild.displayName}]]</td>
                        <td class="text-center" th:utext="${form.displayNumber(pChild.yes)}"></td>
                        <td class="text-center" th:utext="${form.displayPercent(pChild.yesPercent)}"></td>
                        <td class="text-center" th:utext="${form.displayNumber(pChild.no)}"></td>
                        <td class="text-center" th:utext="${form.displayPercent(pChild.noPercent)}"></td>
                        <td class="text-center" th:utext="${form.displayNumber(pChild.other)}"></td>
                        <td class="text-center" th:utext="${form.displayPercent(pChild.otherPercent)}"></td>
                        <td class="text-center" th:utext="${form.numberFormat(pChild.sum)}"></td>
                        <td class="text-center" th:utext="${pChild.getSumPercent(form.sum)}"></td>
                    </tr>
                    <!--Lặp hiển thị xã-->
                    <th:block th:if='pChild.childs != null'  th:each="dChild : ${pChild.childs}" >
                        <tr>
                            <td class="text-center"></td> 
                            <td >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[[${dChild.displayName}]]</td>
                            <td class="text-center" th:utext="${form.displayNumber(dChild.yes)}"></td>
                            <td class="text-center" th:utext="${form.displayPercent(dChild.yesPercent)}"></td>
                            <td class="text-center" th:utext="${form.displayNumber(dChild.no)}"></td>
                            <td class="text-center" th:utext="${form.displayPercent(dChild.noPercent)}"></td>
                            <td class="text-center" th:utext="${form.displayNumber(dChild.other)}"></td>
                            <td class="text-center" th:utext="${form.displayPercent(dChild.otherPercent)}"></td>
                            <td class="text-center" th:utext="${form.numberFormat(dChild.sum)}"></td>
                            <td class="text-center" th:utext="${dChild.getSumPercent(form.sum)}"></td>
                        </tr>
                    </th:block>
                    <tr th:if = "${item.childs.size() > 1 && item.displayName != 'Tỉnh khác' && form.levelDisplay == 'ward' && (form.district == null || form.district == '' || form.district.contains(','))}">
                        <td ></td>
                        <td th:class="${form.TYT || (form.levelDisplay == 'ward' && isVAAC)  || (!isVAAC && form.levelDisplay == 'ward') ? 'text-bold text-italic' : 'text-bold'}">&nbsp;&nbsp;&nbsp;&nbsp;Tổng huyện</td>
                        <td th:class="${form.TYT || (form.levelDisplay == 'ward' && isVAAC)  || (!isVAAC && form.levelDisplay == 'ward') ? 'text-bold text-italic text-center' : 'text-bold text-center'}" th:utext="${form.numberFormat(pChild.yes)}"></td>
                        <td th:class="${form.TYT || (form.levelDisplay == 'ward' && isVAAC)  || (!isVAAC && form.levelDisplay == 'ward') ? 'text-bold text-italic text-center' : 'text-bold text-center'}" th:utext="${pChild.yesPercent}"></td>
                        <td th:class="${form.TYT || (form.levelDisplay == 'ward' && isVAAC)  || (!isVAAC && form.levelDisplay == 'ward') ? 'text-bold text-italic text-center' : 'text-bold text-center'}" th:utext="${form.numberFormat(pChild.no)}"></td>
                        <td th:class="${form.TYT || (form.levelDisplay == 'ward' && isVAAC)  || (!isVAAC && form.levelDisplay == 'ward') ? 'text-bold text-italic text-center' : 'text-bold text-center'}" th:utext="${pChild.noPercent}"></td>
                        <td th:class="${form.TYT || (form.levelDisplay == 'ward' && isVAAC)  || (!isVAAC && form.levelDisplay == 'ward') ? 'text-bold text-italic text-center' : 'text-bold text-center'}" th:utext="${form.numberFormat(pChild.other)}"></td>
                        <td th:class="${form.TYT || (form.levelDisplay == 'ward' && isVAAC)  || (!isVAAC && form.levelDisplay == 'ward') ? 'text-bold text-italic text-center' : 'text-bold text-center'}" th:utext="${pChild.otherPercent}"></td>
                        <td th:class="${form.TYT || (form.levelDisplay == 'ward' && isVAAC)  || (!isVAAC && form.levelDisplay == 'ward') ? 'text-bold text-italic text-center' : 'text-bold text-center'}" th:utext="${form.numberFormat(pChild.sum)}"></td>
                        <td th:class="${form.TYT || (form.levelDisplay == 'ward' && isVAAC)  || (!isVAAC && form.levelDisplay == 'ward') ? 'text-bold text-italic text-center' : 'text-bold text-center'}" th:utext="${pChild.getSumPercent(form.sum)}"></td>
                    </tr>

                </th:block>
                <tr th:if = "${((form.levelDisplay != 'province') && (form.table.size() > 1) && (form.province == null || form.province == '' || form.province.contains(','))) && item.displayName != 'Tỉnh khác'}">
                    <td ></td> 
                    <td class = "text-bold" >Tổng tỉnh</td>
                    <td class="text-center text-bold" th:utext="${form.numberFormat(item.yes)}"></td>
                    <td class="text-center text-bold" th:utext="${item.yesPercent}"></td>
                    <td class="text-center text-bold" th:utext="${form.numberFormat(item.no)}"></td>
                    <td class="text-center text-bold" th:utext="${item.noPercent}"></td>
                    <td class="text-center text-bold" th:utext="${form.numberFormat(item.other)}"></td>
                    <td class="text-center text-bold" th:utext="${item.otherPercent}"></td>
                    <td class="text-center text-bold" th:utext="${form.numberFormat(item.sum)}"></td>
                    <td class="text-center text-bold" th:utext="${item.getSumPercent(form.sum)}"></td>
                </tr>
            </th:block>
            <tr th:if="${form.table != null && form.table.size() > 0}">
                <td colspan="2" class="text-center"><b>Tổng cộng</b></td>
                <td class="text-center text-bold" th:text="${form.numberFormat(form.getYes())}"></td>
                <td class="text-center text-bold" th:text="${form.getYesPercent()}"></td>
                <td class="text-center text-bold" th:text="${form.numberFormat(form.getNo())}"></td>
                <td class="text-center text-bold" th:text="${form.getNoPercent()}"></td>
                <td class="text-center text-bold" th:text="${form.numberFormat(form.getOther())}"></td>
                <td class="text-center text-bold" th:text="${form.getOtherPercent()}"></td>
                <td class="text-center text-bold" th:text="${form.numberFormat(form.getSum())}"></td>
                <td class="text-center text-bold" th:text="${form.getSumPercent()}"></td>
            </tr>
        </th:block>
        </tbody>
    </table>
</div>
<div data-th-fragment="table-detecthiv-object()" class="table-responsive">
    <table class="table-report table table-bordered table-hover" >
        <thead>
        <th class="text-center vertical-align-middle success text-uppercase">STT</th>
        <th class="text-center vertical-align-middle success">Đơn vị báo cáo</th>
        <th class="text-center vertical-align-middle success cols-format">Nghiện chích ma túy</th>
        <th class="text-center vertical-align-middle success cols-format">Người hành nghề mại dâm</th>
        <th class="text-center vertical-align-middle success cols-format">Nam quan hệ tình dục với nam</th>
        <th class="text-center vertical-align-middle success cols-format">Vợ/chồng/bạn tình của người nhiễm HIV</th>
        <th class="text-center vertical-align-middle success cols-format">Phụ nữ mang thai</th>
        <th class="text-center vertical-align-middle success cols-format">Bệnh nhân Lao</th>
        <th class="text-center vertical-align-middle success cols-format">Bệnh nhân Hoa liễu</th>
        <th class="text-center vertical-align-middle success cols-format">Phạm nhân</th>
        <th class="text-center vertical-align-middle success cols-format">Lây truyền mẹ con</th>
        <th class="text-center vertical-align-middle success cols-format">Thanh niên khám tuyển nghĩa vụ quân sự</th>
        <th class="text-center vertical-align-middle success cols-format">Đối tượng khác</th>
        <th class="text-center vertical-align-middle success cols-format">Không có thông tin</th>
        <th class="text-center vertical-align-middle success cols-format">Tổng</th>
        </thead>
        <tbody> 
            <tr th:if="${form.total == 0}">
                <td colspan="15" class="text-danger text-bold text-center">Không có thông tin</td>
            </tr>
        <th:block th:if="${form.total != 0}" >
            <tr th:if = "${isVAAC && (form.province == null || form.province == '')}">
                <td class="text-center"></td>
                <td colspan="14"><span class="text-bold text-left">Toàn quốc</span></td>
            </tr>
            <th:block th:each="item, iter : ${form.table}" >
                <th:block th:if="${form.levelDisplay == 'province'}" >
                    <tr >
                        <td rowspan="2" class="text-center" th:utext="${item.stt}"></td> 
                        <td rowspan="2" th:class="${isVAAC && form.levelDisplay == 'province' ? 'text-normal' : 'text-bold'}" th:utext="${item.displayName}"></td>
                        <td class="text-center" th:utext="${form.displayNumber(item.ntmt)}"></td>
                        <td class="text-center" th:utext="${form.displayNumber(item.md)}"></td>
                        <td class="text-center" th:utext="${form.displayNumber(item.msm)}"></td>
                        <td class="text-center" th:utext="${form.displayNumber(item.vcbtbc)}"></td>
                        <td class="text-center" th:utext="${form.displayNumber(item.pnmt)}"></td>
                        <td class="text-center" th:utext="${form.displayNumber(item.lao)}"></td>
                        <td class="text-center" th:utext="${form.displayNumber(item.hoalieu)}"></td>
                        <td class="text-center" th:utext="${form.displayNumber(item.phamnhan)}"></td>
                        <td class="text-center" th:utext="${form.displayNumber(item.mecon)}"></td>
                        <td class="text-center" th:utext="${form.displayNumber(item.nghiavu)}"></td>
                        <td class="text-center" th:utext="${form.displayNumber(item.khac)}"></td>
                        <td class="text-center" th:utext="${form.displayNumber(item.khongthongtin)}"></td>
                        <td class="text-center" th:utext="${form.numberFormat(item.sum)}"></td>
                    </tr>
                    <tr>
                        <td class="text-center" th:utext="${form.displayPercent(item.percentntmt)}"></td>
                        <td class="text-center" th:utext="${form.displayPercent(item.percentmd)}"></td>
                        <td class="text-center" th:utext="${form.displayPercent(item.percentmsm)}"></td>
                        <td class="text-center" th:utext="${form.displayPercent(item.percentvcbtbc)}"></td>
                        <td class="text-center" th:utext="${form.displayPercent(item.percentpnmt)}"></td>
                        <td class="text-center" th:utext="${form.displayPercent(item.percentlao)}"></td>
                        <td class="text-center" th:utext="${form.displayPercent(item.percenthoalieu)}"></td>
                        <td class="text-center" th:utext="${form.displayPercent(item.percentphamnhan)}"></td>
                        <td class="text-center" th:utext="${form.displayPercent(item.percentmecon)}"></td>
                        <td class="text-center" th:utext="${form.displayPercent(item.percentnghiavu)}"></td>
                        <td class="text-center" th:utext="${form.displayPercent(item.percentkhac)}"></td>
                        <td class="text-center" th:utext="${form.displayPercent(item.percentkhongthongtin)}"></td>
                        <td class="text-center" th:utext="${item.getSumPercent(form.total)}"></td>
                    </tr>
                </th:block>
                <th:block th:if="${form.levelDisplay != 'province'}" >
                    <tr >
                        <td class="text-center" th:utext="${item.stt}"></td> 
                        <td colspan="14" class="text-bold" th:utext="${item.displayName}"></td>
                    </tr>
                </th:block>
                <th:block th:if='item.childs != null'  th:each="pChild : ${item.childs}" >
                    <th:block th:if="${form.levelDisplay != 'ward' || item.displayName == 'Tỉnh khác'}" >
                        <tr>
                            <td rowspan="2" class="text-center"></td> 
                            <td rowspan="2" th:utext="${item.displayName == 'Tỉnh khác' ?  pChild.displayName : '&nbsp;&nbsp;&nbsp;&nbsp;' + pChild.displayName}"></td>
                            <td class="text-center" th:utext="${form.displayNumber(pChild.ntmt)}"></td>
                            <td class="text-center" th:utext="${form.displayNumber(pChild.md)}"></td>
                            <td class="text-center" th:utext="${form.displayNumber(pChild.msm)}"></td>
                            <td class="text-center" th:utext="${form.displayNumber(pChild.vcbtbc)}"></td>
                            <td class="text-center" th:utext="${form.displayNumber(pChild.pnmt)}"></td>
                            <td class="text-center" th:utext="${form.displayNumber(pChild.lao)}"></td>
                            <td class="text-center" th:utext="${form.displayNumber(pChild.hoalieu)}"></td>
                            <td class="text-center" th:utext="${form.displayNumber(pChild.phamnhan)}"></td>
                            <td class="text-center" th:utext="${form.displayNumber(pChild.mecon)}"></td>
                            <td class="text-center" th:utext="${form.displayNumber(pChild.nghiavu)}"></td>
                            <td class="text-center" th:utext="${form.displayNumber(pChild.khac)}"></td>
                            <td class="text-center" th:utext="${form.displayNumber(pChild.khongthongtin)}"></td>
                            <td class="text-center" th:utext="${form.numberFormat(pChild.sum)}"></td>
                        </tr>
                        <tr>
                            <td class="text-center" th:utext="${form.displayPercent( pChild.percentntmt)}"></td>
                            <td class="text-center" th:utext="${form.displayPercent( pChild.percentmd)}"></td>
                            <td class="text-center" th:utext="${form.displayPercent( pChild.percentmsm)}"></td>
                            <td class="text-center" th:utext="${form.displayPercent( pChild.percentvcbtbc)}"></td>
                            <td class="text-center" th:utext="${form.displayPercent( pChild.percentpnmt)}"></td>
                            <td class="text-center" th:utext="${form.displayPercent( pChild.percentlao)}"></td>
                            <td class="text-center" th:utext="${form.displayPercent( pChild.percenthoalieu)}"></td>
                            <td class="text-center" th:utext="${form.displayPercent( pChild.percentphamnhan)}"></td>
                            <td class="text-center" th:utext="${form.displayPercent( pChild.percentmecon)}"></td>
                            <td class="text-center" th:utext="${form.displayPercent( pChild.percentnghiavu)}"></td>
                            <td class="text-center" th:utext="${form.displayPercent( pChild.percentkhac)}"></td>
                            <td class="text-center" th:utext="${form.displayPercent( pChild.percentkhongthongtin)}"></td>
                            <td class="text-center" th:utext="${pChild.getSumPercent(form.total)}"></td>
                        </tr>
                    </th:block>
                    <th:block th:if="${form.levelDisplay == 'ward' && item.displayName != 'Tỉnh khác'}" >
                        <tr >
                            <td class="text-center"></td> 
                            <td  colspan="14" class="text-italic text-bold" >&nbsp;&nbsp;&nbsp;&nbsp;[[${pChild.displayName}]]</td>
                        </tr>
                    </th:block>
                    <th:block th:if='pChild.childs != null' th:each="dChild : ${pChild.childs}">
                        <th:block th:if="${!form.TTYT || !(form.TTYT && !form.isWard(dChild.wardID) && dChild.sum == 0)}">
                            <tr >
                                <td rowspan="2" class="text-center"></td> 
                                <td rowspan="2" >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[[${dChild.displayName}]]</td>
                                <td class="text-center" th:utext="${form.displayNumber(dChild.ntmt)}"></td>
                                <td class="text-center" th:utext="${form.displayNumber(dChild.md)}"></td>
                                <td class="text-center" th:utext="${form.displayNumber(dChild.msm)}"></td>
                                <td class="text-center" th:utext="${form.displayNumber(dChild.vcbtbc)}"></td>
                                <td class="text-center" th:utext="${form.displayNumber(dChild.pnmt)}"></td>
                                <td class="text-center" th:utext="${form.displayNumber(dChild.lao)}"></td>
                                <td class="text-center" th:utext="${form.displayNumber(dChild.hoalieu)}"></td>
                            <td class="text-center" th:utext="${form.displayNumber(dChild.phamnhan)}"></td>
                            <td class="text-center" th:utext="${form.displayNumber(dChild.mecon)}"></td>
                            <td class="text-center" th:utext="${form.displayNumber(dChild.nghiavu)}"></td>
                                <td class="text-center" th:utext="${form.displayNumber(dChild.khac)}"></td>
                                <td class="text-center" th:utext="${form.displayNumber(dChild.khongthongtin)}"></td>
                                <td class="text-center" th:utext="${form.numberFormat(dChild.sum)}"></td>
                            </tr>
                            <tr>
                                <td class="text-center" th:utext="${form.displayPercent(dChild.percentntmt)}"></td>
                                <td class="text-center" th:utext="${form.displayPercent(dChild.percentmd)}"></td>
                                <td class="text-center" th:utext="${form.displayPercent(dChild.percentmsm)}"></td>
                                <td class="text-center" th:utext="${form.displayPercent(dChild.percentvcbtbc)}"></td>
                                <td class="text-center" th:utext="${form.displayPercent(dChild.percentpnmt)}"></td>
                                <td class="text-center" th:utext="${form.displayPercent(dChild.percentlao)}"></td>
                                <td class="text-center" th:utext="${form.displayPercent( dChild.percenthoalieu)}"></td>
                            <td class="text-center" th:utext="${form.displayPercent( dChild.percentphamnhan)}"></td>
                            <td class="text-center" th:utext="${form.displayPercent( dChild.percentmecon)}"></td>
                            <td class="text-center" th:utext="${form.displayPercent( dChild.percentnghiavu)}"></td>
                                <td class="text-center" th:utext="${form.displayPercent(dChild.percentkhac)}"></td>
                                <td class="text-center" th:utext="${form.displayPercent(dChild.percentkhongthongtin)}"></td>
                                <td class="text-center" th:utext="${dChild.getSumPercent(form.total)}"></td>
                            </tr>
                        </th:block>
                    </th:block>
                    <th:block th:if="${form.levelDisplay == 'ward' && item.childs != null && #lists.size(item.childs) > 1 && item.displayName != 'Tỉnh khác'}">
                        <tr>
                            <td rowspan="2" class="text-center"></td> 
                            <td class=" text-italic text-bold" rowspan="2" >&nbsp;&nbsp;&nbsp;&nbsp;Tổng huyện</td>
                            <td class=" text-italic text-center text-bold" th:utext="${form.numberFormat(pChild.ntmt )}"></td>
                            <td class=" text-italic text-center text-bold" th:utext="${form.numberFormat(pChild.md )}"></td>
                            <td class=" text-italic text-center text-bold" th:utext="${form.numberFormat(pChild.msm )}"></td>
                            <td class=" text-italic text-center text-bold" th:utext="${form.numberFormat(pChild.vcbtbc )}"></td>
                            <td class=" text-italic text-center text-bold" th:utext="${form.numberFormat(pChild.pnmt )}"></td>
                            <td class=" text-italic text-center text-bold" th:utext="${form.numberFormat(pChild.lao )}"></td>
                            <td class=" text-italic text-center text-bold" th:utext="${form.numberFormat(pChild.hoalieu  )}"></td>
                            <td class=" text-italic text-center text-bold" th:utext="${form.numberFormat(pChild.phamnhan )}"></td>
                            <td class=" text-italic text-center text-bold" th:utext="${form.numberFormat(pChild.mecon    )}"></td>
                            <td class=" text-italic text-center text-bold" th:utext="${form.numberFormat(pChild.nghiavu  )}"></td>
                            <td class=" text-italic text-center text-bold" th:utext="${form.numberFormat(pChild.khac )}"></td>
                            <td class=" text-italic text-center text-bold" th:utext="${form.numberFormat(pChild.khongthongtin )}"></td>
                            <td class=" text-italic text-center text-bold" th:utext="${form.numberFormat(pChild.sum )}"></td>
                        </tr>
                        <tr>
                            <td class="text-italic text-center text-bold" th:utext="${pChild.percentntmt }"></td>
                            <td class="text-italic text-center text-bold" th:utext="${pChild.percentmd }"></td>
                            <td class="text-italic text-center text-bold" th:utext="${pChild.percentmsm }"></td>
                            <td class="text-italic text-center text-bold" th:utext="${pChild.percentvcbtbc }"></td>
                            <td class="text-italic text-center text-bold" th:utext="${pChild.percentpnmt }"></td>
                            <td class="text-italic text-center text-bold" th:utext="${pChild.percentlao }"></td>
                            <td class="text-italic text-center text-bold" th:utext="${pChild.percenthoalieu  }"></td>
                            <td class="text-italic text-center text-bold" th:utext="${pChild.percentphamnhan }"></td>
                            <td class="text-italic text-center text-bold" th:utext="${pChild.percentmecon    }"></td>
                            <td class="text-italic text-center text-bold" th:utext="${pChild.percentnghiavu  }"></td>
                            <td class="text-italic text-center text-bold" th:utext="${pChild.percentkhac }"></td>
                            <td class="text-italic text-center text-bold" th:utext="${pChild.percentkhongthongtin }"></td>
                            <td class="text-italic text-center text-bold" th:utext="${pChild.getSumPercent(form.total)}"></td>
                        </tr>
                    </th:block>
                </th:block>
                <th:block th:if="${form.levelDisplay != 'province' && #lists.size(form.table) > 1 && item.displayName != 'Tỉnh khác'}" >
                    <tr >
                        <td rowspan="2" class="text-center"></td> 
                        <td rowspan="2" class="text-bold">Tổng tỉnh</td>
                        <td class="text-center text-bold" th:utext="${form.numberFormat(item.ntmt)}"></td>
                        <td class="text-center text-bold" th:utext="${form.numberFormat(item.md)}"></td>
                        <td class="text-center text-bold" th:utext="${form.numberFormat(item.msm)}"></td>
                        <td class="text-center text-bold" th:utext="${form.numberFormat(item.vcbtbc)}"></td>
                        <td class="text-center text-bold" th:utext="${form.numberFormat(item.pnmt)}"></td>
                        <td class="text-center text-bold" th:utext="${form.numberFormat(item.lao)}"></td>
                        <td class="text-center text-bold" th:utext="${form.numberFormat(item.hoalieu )}"></td>
                        <td class="text-center text-bold" th:utext="${form.numberFormat(item.phamnhan)}"></td>
                        <td class="text-center text-bold" th:utext="${form.numberFormat(item.mecon   )}"></td>
                        <td class="text-center text-bold" th:utext="${form.numberFormat(item.nghiavu )}"></td>
                        <td class="text-center text-bold" th:utext="${form.numberFormat(item.khac)}"></td>
                        <td class="text-center text-bold" th:utext="${form.numberFormat(item.khongthongtin)}"></td>
                        <td class="text-center text-bold" th:utext="${form.numberFormat(item.sum)}"></td>
                    </tr>
                    <tr>
                        <td class="text-center text-bold" th:utext="${item.percentntmt}"></td>
                        <td class="text-center text-bold" th:utext="${item.percentmd}"></td>
                        <td class="text-center text-bold" th:utext="${item.percentmsm}"></td>
                        <td class="text-center text-bold" th:utext="${item.percentvcbtbc}"></td>
                        <td class="text-center text-bold" th:utext="${item.percentpnmt}"></td>
                        <td class="text-center text-bold" th:utext="${item.percentlao}"></td>
                        <td class="text-center text-bold" th:utext="${item.percenthoalieu }"></td>
                        <td class="text-center text-bold" th:utext="${item.percentphamnhan}"></td>
                        <td class="text-center text-bold" th:utext="${item.percentmecon   }"></td>
                        <td class="text-center text-bold" th:utext="${item.percentnghiavu }"></td>
                        <td class="text-center text-bold" th:utext="${item.percentkhac}"></td>
                        <td class="text-center text-bold" th:utext="${item.percentkhongthongtin}"></td>
                        <td class="text-center text-bold" th:utext="${item.getSumPercent(form.total)}"></td>
                    </tr>
                </th:block>
            </th:block>
            <th:block >
                <tr >
                    <td colspan="2" rowspan="2" class="text-center"><b>Tổng cộng</b></td>
                    <td class="text-center text-bold" th:text="${form.numberFormat(form.totalntmt )}"></td>
                    <td class="text-center text-bold" th:text="${form.numberFormat(form.totalmd )}"></td>
                    <td class="text-center text-bold" th:text="${form.numberFormat(form.totalmsm )}"></td>
                    <td class="text-center text-bold" th:text="${form.numberFormat(form.totalvcbtbc )}"></td>
                    <td class="text-center text-bold" th:text="${form.numberFormat(form.totalpnmt )}"></td>
                    <td class="text-center text-bold" th:text="${form.numberFormat(form.totallao )}"></td>
                    <td class="text-center text-bold" th:text="${form.numberFormat(form.totalhoalieu  )}"></td>
                    <td class="text-center text-bold" th:text="${form.numberFormat(form.totalphamnhan )}"></td>
                    <td class="text-center text-bold" th:text="${form.numberFormat(form.totalmecon    )}"></td>
                    <td class="text-center text-bold" th:text="${form.numberFormat(form.totalnghiavu  )}"></td>
                    <td class="text-center text-bold" th:text="${form.numberFormat(form.totalkhac )}"></td>
                    <td class="text-center text-bold" th:text="${form.numberFormat(form.totalkhongthongtin )}"></td>
                    <td class="text-center text-bold" th:text="${form.numberFormat(form.total )}"></td>
                </tr>
                <tr >
                    <td class="text-center text-bold" th:text="${form.getSumTotal(form.totalntmt , form.total)}"></td>
                    <td class="text-center text-bold" th:text="${form.getSumTotal(form.totalmd , form.total)}"></td>
                    <td class="text-center text-bold" th:text="${form.getSumTotal(form.totalmsm , form.total)}"></td>
                    <td class="text-center text-bold" th:text="${form.getSumTotal(form.totalvcbtbc , form.total)}"></td>
                    <td class="text-center text-bold" th:text="${form.getSumTotal(form.totalpnmt , form.total)}"></td>
                    <td class="text-center text-bold" th:text="${form.getSumTotal(form.totallao , form.total)}"></td>
                    <td class="text-center text-bold" th:text="${form.getSumTotal(form.totalhoalieu  , form.total)}"></td>
                    <td class="text-center text-bold" th:text="${form.getSumTotal(form.totalphamnhan , form.total)}"></td>
                    <td class="text-center text-bold" th:text="${form.getSumTotal(form.totalmecon    , form.total)}"></td>
                    <td class="text-center text-bold" th:text="${form.getSumTotal(form.totalnghiavu  , form.total)}"></td>
                    <td class="text-center text-bold" th:text="${form.getSumTotal(form.totalkhac , form.total)}"></td>
                    <td class="text-center text-bold" th:text="${form.getSumTotal(form.totalkhongthongtin , form.total)}"></td>
                    <td class="text-center text-bold" th:text="${form.getSumTotal(form.total , form.total)}"></td>
                </tr>
            </th:block>
        </th:block>
        </tbody>
    </table>
</div>
<div data-th-fragment="table-detecthiv-resident()" class="table-responsive">
    <table class="table-report table table-bordered table-hover" >
        <thead>
        <th class="text-center vertical-align-middle success">STT</th>
        <th class="text-center vertical-align-middle success">Đơn vị báo cáo</th>
        <th class="text-center vertical-align-middle success cols-format">Hiện đang ở địa phương</th>
        <th class="text-center vertical-align-middle success cols-format">Đi làm ăn xa</th>
        <th class="text-center vertical-align-middle success cols-format">Đi trại</th>
        <th class="text-center vertical-align-middle success cols-format">Chuyển đi nơi khác</th>
        <th class="text-center vertical-align-middle success cols-format">Chuyển trong tỉnh</th>
        <th class="text-center vertical-align-middle success cols-format">Mất dấu</th>
        <th class="text-center vertical-align-middle success cols-format">Chưa xác định được</th>
        <th class="text-center vertical-align-middle success cols-format">Không có thực tế</th>
        <th class="text-center vertical-align-middle success cols-format">Không có thông tin</th>
        <th class="text-center vertical-align-middle success">Tổng</th>
        </thead>
        <tbody> 
            <tr th:if="${form.total == 0}">
                <td colspan="12" class="text-danger text-bold text-center">Không có thông tin</td>
            </tr>
        <th:block th:if="${form.total != 0}" >
            <tr th:if = "${isVAAC && (form.province == null || form.province == '')}">
                <td class="text-center"></td>
                <td colspan="11"><span class="text-bold text-left">Toàn quốc</span></td>
            </tr>
            <th:block th:each="item, iter : ${form.table}" >
                <th:block th:if="${form.levelDisplay == 'province'}" >
                    <tr >
                        <td rowspan="2" class="text-center" th:utext="${item.stt}"></td> 
                        <td rowspan="2" th:class="${isVAAC && form.levelDisplay == 'province' ? 'text-normal' : 'text-bold'}" th:utext="${item.displayName}"></td>
                        <td class="text-center" th:utext="${form.displayNumber(item.dangODiaPhuong )}"></td>
                        <td class="text-center" th:utext="${form.displayNumber(item.diLamAnXa)}"></td>
                        <td class="text-center" th:utext="${form.displayNumber(item.diTrai )}"></td>
                        <td class="text-center" th:utext="${form.displayNumber(item.chuyenDiNoiKhac)}"></td>
                        <td class="text-center" th:utext="${form.displayNumber(item.chuyenTrongTinh)}"></td>
                        <td class="text-center" th:utext="${form.displayNumber(item.matDau)}"></td>
                        <td class="text-center" th:utext="${form.displayNumber(item.chuaXacDinhDuoc)}"></td>
                        <td class="text-center" th:utext="${form.displayNumber(item.khongCoThucTe)}"></td>
                        <td class="text-center" th:utext="${form.displayNumber(item.unclear)}"></td>
                        <td class="text-center" th:utext="${form.numberFormat(item.sum)}"></td>
                    </tr>
                    <tr>
                        <td class="text-center" th:utext="${form.displayPercent(item.percentdangODiaPhuong )}"></td>
                        <td class="text-center" th:utext="${form.displayPercent(item.percentdiLamAnXa)}"></td>
                        <td class="text-center" th:utext="${form.displayPercent(item.percentdiTrai )}"></td>
                        <td class="text-center" th:utext="${form.displayPercent(item.percentchuyenDiNoiKhac)}"></td>
                        <td class="text-center" th:utext="${form.displayPercent(item.percentchuyenTrongTinh)}"></td>
                        <td class="text-center" th:utext="${form.displayPercent(item.percentmatDau )}"></td>
                        <td class="text-center" th:utext="${form.displayPercent(item.percentchuaXacDinhDuoc)}"></td>
                        <td class="text-center" th:utext="${form.displayPercent(item.percentkhongCoThucTe)}"></td>
                        <td class="text-center" th:utext="${form.displayPercent(item.percentunclear)}"></td>
                        <td class="text-center" th:utext="${item.getSumPercent(form.total)}"></td>
                    </tr>
                </th:block>
                <th:block th:if="${form.levelDisplay != 'province'}" >
                    <tr >
                        <td class="text-center" th:utext="${item.stt}"></td> 
                        <td colspan="11" class="text-bold" th:utext="${item.displayName}"></td>
                    </tr>
                </th:block>
                <th:block th:if='item.childs != null'  th:each="pChild : ${item.childs}" >
                    <th:block th:if="${form.levelDisplay != 'ward' || item.displayName == 'Tỉnh khác'}" >
                        <tr>
                            <td rowspan="2" class="text-center"></td> 
                            <td rowspan="2" th:utext="${item.displayName == 'Tỉnh khác' ?  pChild.displayName : '&nbsp;&nbsp;&nbsp;&nbsp;' + pChild.displayName}"></td>
                            <td class="text-center" th:utext="${form.displayNumber(pChild.dangODiaPhuong )}"></td>
                            <td class="text-center" th:utext="${form.displayNumber(pChild.diLamAnXa)}"></td>
                            <td class="text-center" th:utext="${form.displayNumber(pChild.diTrai )}"></td>
                            <td class="text-center" th:utext="${form.displayNumber(pChild.chuyenDiNoiKhac)}"></td>
                            <td class="text-center" th:utext="${form.displayNumber(pChild.chuyenTrongTinh)}"></td>
                            <td class="text-center" th:utext="${form.displayNumber(pChild.matDau)}"></td>
                            <td class="text-center" th:utext="${form.displayNumber(pChild.chuaXacDinhDuoc)}"></td>
                            <td class="text-center" th:utext="${form.displayNumber(pChild.khongCoThucTe)}"></td>
                            <td class="text-center" th:utext="${form.displayNumber(pChild.unclear)}"></td>
                            <td class="text-center" th:utext="${form.numberFormat(pChild.sum)}"></td>
                        </tr>
                        <tr>
                            <td class="text-center" th:utext="${form.displayPercent(pChild.percentdangODiaPhuong )}"></td>
                            <td class="text-center" th:utext="${form.displayPercent(pChild.percentdiLamAnXa)}"></td>
                            <td class="text-center" th:utext="${form.displayPercent(pChild.percentdiTrai )}"></td>
                            <td class="text-center" th:utext="${form.displayPercent(pChild.percentchuyenDiNoiKhac)}"></td>
                            <td class="text-center" th:utext="${form.displayPercent(pChild.percentchuyenTrongTinh)}"></td>
                            <td class="text-center" th:utext="${form.displayPercent(pChild.percentmatDau )}"></td>
                            <td class="text-center" th:utext="${form.displayPercent(pChild.percentchuaXacDinhDuoc)}"></td>
                            <td class="text-center" th:utext="${form.displayPercent(pChild.percentkhongCoThucTe)}"></td>
                            <td class="text-center" th:utext="${form.displayPercent(pChild.percentunclear)}"></td>
                            <td class="text-center" th:utext="${pChild.getSumPercent( form.total)}"></td>
                        </tr>
                    </th:block>
                    <th:block th:if="${form.levelDisplay == 'ward' && item.displayName != 'Tỉnh khác'}" >
                        <tr >
                            <td class="text-center"></td> 
                            <td  colspan="11" class="text-italic text-bold" >&nbsp;&nbsp;&nbsp;&nbsp;[[${pChild.displayName}]]</td>
                        </tr>
                    </th:block>
                    <th:block th:if='pChild.childs != null' th:each="dChild : ${pChild.childs}">
                        <th:block th:if="${!form.TTYT || !(form.TTYT && !form.isWard(dChild.wardID) && dChild.sum == 0)}">
                            <tr >
                                <td rowspan="2" class="text-center"></td> 
                                <td rowspan="2" >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[[${dChild.displayName}]]</td>
                                <td class="text-center" th:utext="${form.displayNumber(dChild.dangODiaPhuong )}"></td>
                                <td class="text-center" th:utext="${form.displayNumber(dChild.diLamAnXa)}"></td>
                                <td class="text-center" th:utext="${form.displayNumber(dChild.diTrai )}"></td>
                                <td class="text-center" th:utext="${form.displayNumber(dChild.chuyenDiNoiKhac)}"></td>
                                <td class="text-center" th:utext="${form.displayNumber(dChild.chuyenTrongTinh)}"></td>
                                <td class="text-center" th:utext="${form.displayNumber(dChild.matDau)}"></td>
                                <td class="text-center" th:utext="${form.displayNumber(dChild.chuaXacDinhDuoc)}"></td>
                                <td class="text-center" th:utext="${form.displayNumber(dChild.khongCoThucTe)}"></td>
                                <td class="text-center" th:utext="${form.displayNumber(dChild.unclear)}"></td>
                                <td class="text-center" th:utext="${form.numberFormat(dChild.sum)}"></td>
                            </tr>
                            <tr>
                                <td class="text-center" th:utext="${form.displayPercent(dChild.percentdangODiaPhuong )}"></td>
                                <td class="text-center" th:utext="${form.displayPercent(dChild.percentdiLamAnXa)}"></td>
                                <td class="text-center" th:utext="${form.displayPercent(dChild.percentdiTrai )}"></td>
                                <td class="text-center" th:utext="${form.displayPercent(dChild.percentchuyenDiNoiKhac)}"></td>
                                <td class="text-center" th:utext="${form.displayPercent(dChild.percentchuyenTrongTinh)}"></td>
                                <td class="text-center" th:utext="${form.displayPercent(dChild.percentmatDau )}"></td>
                                <td class="text-center" th:utext="${form.displayPercent(dChild.percentchuaXacDinhDuoc)}"></td>
                                <td class="text-center" th:utext="${form.displayPercent(dChild.percentkhongCoThucTe)}"></td>
                                <td class="text-center" th:utext="${form.displayPercent(dChild.percentunclear)}"></td>
                                <td class="text-center" th:utext="${dChild.getSumPercent(form.total)}"></td>
                            </tr>
                        </th:block>
                    </th:block>  
                    <th:block th:if="${form.levelDisplay == 'ward' && item.childs != null && #lists.size(item.childs) > 1 && item.displayName != 'Tỉnh khác'}">
                        <tr>
                            <td rowspan="2" class="text-center"></td> 
                            <td class=" text-italic text-bold" rowspan="2" >&nbsp;&nbsp;&nbsp;&nbsp;Tổng huyện</td>
                            <td class=" text-italic text-center text-bold" th:utext="${form.numberFormat(pChild.dangODiaPhuong )}"></td>
                            <td class=" text-italic text-center text-bold" th:utext="${form.numberFormat(pChild.diLamAnXa)}"></td>
                            <td class=" text-italic text-center text-bold" th:utext="${form.numberFormat(pChild.diTrai )}"></td>
                            <td class=" text-italic text-center text-bold" th:utext="${form.numberFormat(pChild.chuyenDiNoiKhac)}"></td>
                            <td class=" text-italic text-center text-bold" th:utext="${form.numberFormat(pChild.chuyenTrongTinh)}"></td>
                            <td class=" text-italic text-center text-bold" th:utext="${form.numberFormat(pChild.matDau)}"></td>
                            <td class=" text-italic text-center text-bold" th:utext="${form.numberFormat(pChild.chuaXacDinhDuoc)}"></td>
                            <td class=" text-italic text-center text-bold" th:utext="${form.numberFormat(pChild.khongCoThucTe)}"></td>
                            <td class=" text-italic text-center text-bold" th:utext="${form.numberFormat(pChild.unclear)}"></td>
                            <td class=" text-italic text-center text-bold" th:utext="${form.numberFormat(pChild.sum )}"></td>
                        </tr>
                        <tr>
                            <td class="text-italic text-center text-bold" th:utext="${pChild.percentdangODiaPhuong }"></td>
                            <td class="text-italic text-center text-bold" th:utext="${pChild.percentdiLamAnXa}"></td>
                            <td class="text-italic text-center text-bold" th:utext="${pChild.percentdiTrai }"></td>
                            <td class="text-italic text-center text-bold" th:utext="${pChild.percentchuyenDiNoiKhac}"></td>
                            <td class="text-italic text-center text-bold" th:utext="${pChild.percentchuyenTrongTinh}"></td>
                            <td class="text-italic text-center text-bold" th:utext="${pChild.percentmatDau }"></td>
                            <td class="text-italic text-center text-bold" th:utext="${pChild.percentchuaXacDinhDuoc}"></td>
                            <td class="text-italic text-center text-bold" th:utext="${pChild.percentkhongCoThucTe}"></td>
                            <td class="text-italic text-center text-bold" th:utext="${pChild.percentunclear}"></td>
                            <td class="text-italic text-center text-bold" th:utext="${pChild.getSumPercent(form.total)}"></td>
                        </tr>
                    </th:block>
                </th:block>
                <th:block th:if="${form.levelDisplay != 'province' && #lists.size(form.table) > 1 && item.displayName != 'Tỉnh khác'}" >
                    <tr >
                        <td rowspan="2" class="text-center"></td> 
                        <td rowspan="2" class="text-bold">Tổng tỉnh</td>
                        <td class="text-center text-bold" th:utext="${form.numberFormat(item.dangODiaPhuong )}"></td>
                        <td class="text-center text-bold" th:utext="${form.numberFormat(item.diLamAnXa)}"></td>
                        <td class="text-center text-bold" th:utext="${form.numberFormat(item.diTrai )}"></td>
                        <td class="text-center text-bold" th:utext="${form.numberFormat(item.chuyenDiNoiKhac)}"></td>
                        <td class="text-center text-bold" th:utext="${form.numberFormat(item.chuyenTrongTinh)}"></td>
                        <td class="text-center text-bold" th:utext="${form.numberFormat(item.matDau)}"></td>
                        <td class="text-center text-bold" th:utext="${form.numberFormat(item.chuaXacDinhDuoc)}"></td>
                        <td class="text-center text-bold" th:utext="${form.numberFormat(item.khongCoThucTe)}"></td>
                        <td class="text-center text-bold" th:utext="${form.numberFormat(item.unclear)}"></td>
                        <td class="text-center text-bold" th:utext="${form.numberFormat(item.sum)}"></td>
                    </tr>
                    <tr>
                        <td class="text-center text-bold" th:utext="${item.percentdangODiaPhuong }"></td>
                        <td class="text-center text-bold" th:utext="${item.percentdiLamAnXa}"></td>
                        <td class="text-center text-bold" th:utext="${item.percentdiTrai }"></td>
                        <td class="text-center text-bold" th:utext="${item.percentchuyenDiNoiKhac}"></td>
                        <td class="text-center text-bold" th:utext="${item.percentchuyenTrongTinh}"></td>
                        <td class="text-center text-bold" th:utext="${item.percentmatDau }"></td>
                        <td class="text-center text-bold" th:utext="${item.percentchuaXacDinhDuoc}"></td>
                        <td class="text-center text-bold" th:utext="${item.percentkhongCoThucTe}"></td>
                        <td class="text-center text-bold" th:utext="${item.percentunclear}"></td>
                        <td class="text-center text-bold" th:utext="${item.getSumPercent(form.total)}"></td>
                    </tr>
                </th:block>
            </th:block>
            <th:block >
                <tr >
                    <td colspan="2" rowspan="2" class="text-center"><b>Tổng cộng</b></td>
                    <td class="text-center text-bold" th:text="${form.numberFormat(form.dangODiaPhuong)}"></td>
                    <td class="text-center text-bold" th:text="${form.numberFormat(form.diLamAnXa )}"></td>
                    <td class="text-center text-bold" th:text="${form.numberFormat(form.diTrai)}"></td>
                    <td class="text-center text-bold" th:text="${form.numberFormat(form.chuyenDiNoiKhac )}"></td>
                    <td class="text-center text-bold" th:text="${form.numberFormat(form.chuyenTrongTinh )}"></td>
                    <td class="text-center text-bold" th:text="${form.numberFormat(form.matDau)}"></td>
                    <td class="text-center text-bold" th:text="${form.numberFormat(form.chuaXacDinhDuoc )}"></td>
                    <td class="text-center text-bold" th:text="${form.numberFormat(form.khongCoThucTe )}"></td>
                    <td class="text-center text-bold" th:text="${form.numberFormat(form.unclear )}"></td>
                    <td class="text-center text-bold" th:text="${form.numberFormat(form.total )}"></td>
                </tr>
                <tr >
                    <td class="text-center text-bold" th:text="${form.getSumTotal(form.dangODiaPhuong , form.total)}"></td>
                    <td class="text-center text-bold" th:text="${form.getSumTotal(form.diLamAnXa , form.total)}"></td>
                    <td class="text-center text-bold" th:text="${form.getSumTotal(form.diTrai, form.total)}"></td>
                    <td class="text-center text-bold" th:text="${form.getSumTotal(form.chuyenDiNoiKhac , form.total)}"></td>
                    <td class="text-center text-bold" th:text="${form.getSumTotal(form.chuyenTrongTinh , form.total)}"></td>
                    <td class="text-center text-bold" th:text="${form.getSumTotal(form.matDau, form.total)}"></td>
                    <td class="text-center text-bold" th:text="${form.getSumTotal(form.chuaXacDinhDuoc , form.total)}"></td>
                    <td class="text-center text-bold" th:text="${form.getSumTotal(form.khongCoThucTe , form.total)}"></td>
                    <td class="text-center text-bold" th:text="${form.getSumTotal(form.unclear , form.total)}"></td>
                    <td class="text-center text-bold" th:text="${form.getSumTotal(form.total , form.total)}"></td>
                </tr>
            </th:block>
        </th:block>
        </tbody>
    </table>
</div>
<div data-th-fragment="tableDetectHivTransmission()" class="table-responsive">
    <table class="table-report table table-bordered table-hover" 
           th:with="lastItem = ${form.table != null && form.table.size() > 0 ? form.table[form.table.size() -1] : item}">
        <thead>
            <tr>
                <th class="text-center vertical-align-middle success text-uppercase" rowspan="2">STT</th>
                <th class="min-width-200 text-center vertical-align-middle success" rowspan="2">Đơn vị báo cáo</th>
                <th class=" text-center vertical-align-middle success" colspan="2">Lây qua đường máu</th>
                <th class=" text-center vertical-align-middle success" colspan="2">Lây qua đường tình dục</th>
                <th class="text-center vertical-align-middle success" colspan="2">Mẹ truyền sang con</th>
                <th class="text-center vertical-align-middle success" colspan="2">Không rõ</th>
                <th class="text-center vertical-align-middle success" colspan="2">Không có thông tin</th>
                <th class="text-center vertical-align-middle success" colspan="2">Tổng</th>
            </tr>
            <tr>
                <th class="min-width-40 text-center vertical-align-middle success" >Số ca</th>
                <th class="min-width-40 text-center vertical-align-middle success" >%</th>
                <th class="min-width-40 text-center vertical-align-middle success" >Số ca</th>
                <th class="min-width-40 text-center vertical-align-middle success" >%</th>
                <th class="min-width-40 text-center vertical-align-middle success" >Số ca</th>
                <th class="min-width-40 text-center vertical-align-middle success" >%</th>
                <th class="min-width-40 text-center vertical-align-middle success" >Số ca</th>
                <th class="min-width-40 text-center vertical-align-middle success" >%</th>
                <th class="min-width-40 text-center vertical-align-middle success" >Số ca</th>
                <th class="min-width-40 text-center vertical-align-middle success" >%</th>
                <th class="min-width-40 text-center vertical-align-middle success" >Số ca</th>
                <th class="min-width-40 text-center vertical-align-middle success" >%</th>
            </tr>
        </thead>
        <tbody th:if="${lastItem != null && lastItem.tong > 0}">
            <tr th:if="${isVAAC && (form.province == null || form.province == '') && (form.levelDisplay == 'province' || form.levelDisplay == '')}">
                <td></td> 
                <td colspan="13"><b>Toàn quốc</b></td> 
            </tr>
        <th:block th:each="item, iter : ${form.table}">
            <tr th:if="${item.provinceID != 'all' && (form.levelDisplay == 'province' || form.levelDisplay == '') && ! isTYT && !isTTYT && !isPAC}">
                <td  class="text-center" th:utext="${item.stt}"></td> 
                <td ><span th:utext="${item.displayName}"></span></td>
                <td  class="text-center" th:utext="${form.displayNumber(item.blood)}"></td>
                <td  class="text-center" th:utext="${form.displayPercent(item.bloodPercent)}"></td>
                <td  class="text-center" th:utext="${form.displayNumber(item.sexuality)}"></td>
                <td  class="text-center" th:utext="${form.displayPercent(item.sexualityPercent)}"></td>
                <td  class="text-center" th:utext="${form.displayNumber(item.momtochild)}"></td>
                <td  class="text-center" th:utext="${form.displayPercent(item.momtochildPercent)}"></td>
                <td  class="text-center" th:utext="${form.displayNumber(item.unclear)}"></td>
                <td  class="text-center" th:utext="${form.displayPercent(item.unclearPercent)}"></td>
                <td  class="text-center" th:utext="${form.displayNumber(item.noinformation)}"></td>
                <td  class="text-center" th:utext="${form.displayPercent(item.noinformationPercent)}"></td>
                <td  class="text-center" th:utext="${item.tong == 0 ? 0 : form.displayNumber(item.tong)}"></td>
                <td  class="text-center" th:utext="${item.getTongPercent(lastItem.tong)}"></td>
            </tr>
            <tr th:if="${(item.provinceID != 'all' && form.levelDisplay != 'province' && form.levelDisplay != '') || (item.provinceID != 'all' && (isTTYT || isPAC || isTYT))}">
                <td class="text-center" ><b><span th:utext="${item.stt}"></span></b></td> 
                <td colspan="13" ><b><span th:utext="${item.displayName}"></span></b></td>
            </tr>   
            <th:block th:if='item.childs'  th:each="pChild : ${item.childs}" >
                <tr th:if="${(isVAAC || isPAC) && item.provinceID != 'all' && form.levelDisplay != 'ward'}">
                    <td  class="text-center"></td> 
                    <td  th:utext="${item.displayName == 'Tỉnh khác' ? pChild.displayName : '&nbsp;&nbsp;&nbsp;&nbsp;' + pChild.displayName}"></td>
                    <td  class="text-center" th:utext="${form.displayNumber(pChild.blood)}"></td>
                    <td  class="text-center" th:utext="${form.displayPercent(pChild.bloodPercent)}"></td>
                    <td  class="text-center" th:utext="${form.displayNumber(pChild.sexuality)}"></td>
                    <td  class="text-center" th:utext="${form.displayPercent(pChild.sexualityPercent)}"></td>
                    <td  class="text-center" th:utext="${form.displayNumber(pChild.momtochild)}"></td>
                    <td  class="text-center" th:utext="${form.displayPercent(pChild.momtochildPercent)}"></td>
                    <td  class="text-center" th:utext="${form.displayNumber(pChild.unclear)}"></td>
                    <td  class="text-center" th:utext="${form.displayPercent(pChild.unclearPercent)}"></td>
                    <td  class="text-center" th:utext="${form.displayNumber(pChild.noinformation)}"></td>
                    <td  class="text-center" th:utext="${form.displayPercent(pChild.noinformationPercent)}"></td>
                    <td  class="text-center" th:utext="${pChild.tong == 0 ? 0 : form.displayNumber(pChild.tong)}"></td>
                    <td  class="text-center" th:utext="${pChild.getTongPercent(lastItem.tong)}"></td>
                </tr>
                <tr th:if="${form.levelDisplay == 'ward' && item.displayName != 'Tỉnh khác'}">
                    <td></td> 
                    <td colspan="13"><b><i>&nbsp;&nbsp;&nbsp;&nbsp;[[${pChild.displayName}]]</i></b></td>
                </tr>  
                <th:block th:if='pChild.childs != null'  th:each="dChild : ${pChild.childs}">
                    <tr>
                        <td class="text-center"></td> 
                        <td >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[[${dChild.displayName}]]</td>
                        <td  class="text-center" th:utext="${form.displayNumber(dChild.blood)}"></td>
                        <td  class="text-center" th:utext="${form.displayPercent(dChild.bloodPercent)}"></td>
                        <td  class="text-center" th:utext="${form.displayNumber(dChild.sexuality)}"></td>
                        <td  class="text-center" th:utext="${form.displayPercent(dChild.sexualityPercent)}"></td>
                        <td  class="text-center" th:utext="${form.displayNumber(dChild.momtochild)}"></td>
                        <td  class="text-center" th:utext="${form.displayPercent(dChild.momtochildPercent)}"></td>
                        <td  class="text-center" th:utext="${form.displayNumber(dChild.unclear)}"></td>
                        <td  class="text-center" th:utext="${form.displayPercent(dChild.unclearPercent)}"></td>
                        <td  class="text-center" th:utext="${form.displayNumber(dChild.noinformation)}"></td>
                        <td  class="text-center" th:utext="${form.displayPercent(dChild.noinformationPercent)}"></td>
                        <td  class="text-center" th:utext="${dChild.tong == 0 ? 0 : form.displayNumber(dChild.tong)}"></td>
                        <td  class="text-center" th:utext="${dChild.getTongPercent(lastItem.tong)}"></td>
                    </tr>
                </th:block>
                <th:block th:if="${form.levelDisplay == 'ward' && item.childs != null && #lists.size(item.childs) > 1 && item.displayName != 'Tỉnh khác'}">
                    <tr class="font-weight-bold font-italic">
                        <td ></td>
                        <td ><b><i>&nbsp;&nbsp;&nbsp;&nbsp;Tổng huyện</i></b></td>
                        <td  class="text-center" th:utext="${pChild.blood == 0 ? 0 : form.displayNumber(pChild.blood)}"></td>
                        <td  class="text-center" th:utext="${pChild.bloodPercent}"></td>
                        <td  class="text-center" th:utext="${pChild.sexuality == 0 ? 0 : form.displayNumber(pChild.sexuality)}"></td>
                        <td  class="text-center" th:utext="${pChild.sexualityPercent}"></td>
                        <td  class="text-center" th:utext="${pChild.momtochild == 0 ? 0 : form.displayNumber(pChild.momtochild)}"></td>
                        <td  class="text-center" th:utext="${pChild.momtochildPercent}"></td>
                        <td  class="text-center" th:utext="${pChild.unclear == 0 ? 0 : form.displayNumber(pChild.unclear)}"></td>
                        <td  class="text-center" th:utext="${pChild.unclearPercent}"></td>
                        <td  class="text-center" th:utext="${pChild.noinformation == 0 ? 0 : form.displayNumber(pChild.noinformation)}"></td>
                        <td  class="text-center" th:utext="${pChild.noinformationPercent}"></td>
                        <td  class="text-center" th:utext="${pChild.tong == 0 ? 0 : form.displayNumber(pChild.tong)}"></td>
                        <td  class="text-center" th:utext="${pChild.getTongPercent(lastItem.tong)}"></td>
                    </tr>
                </th:block>
                <th:block th:if="${(item.provinceID != 'all' && form.levelDisplay == 'ward' && pChild.childs == null) || 
                          (isTYT && item.provinceID != form.province && pChild.childs == null)}">
                    <tr>
                        <td ></td>
                        <td>[[${pChild.displayName}]]</td>
                        <td  class="text-center" th:utext="${form.displayNumber(pChild.blood)}"></td>
                        <td  class="text-center" th:utext="${form.displayPercent(pChild.bloodPercent)}"></td>
                        <td  class="text-center" th:utext="${form.displayNumber(pChild.sexuality)}"></td>
                        <td  class="text-center" th:utext="${form.displayPercent(pChild.sexualityPercent)}"></td>
                        <td  class="text-center" th:utext="${form.displayNumber(pChild.momtochild)}"></td>
                        <td  class="text-center" th:utext="${form.displayPercent(pChild.momtochildPercent)}"></td>
                        <td  class="text-center" th:utext="${form.displayNumber(pChild.unclear)}"></td>
                        <td  class="text-center" th:utext="${form.displayPercent(pChild.unclearPercent)}"></td>
                        <td  class="text-center" th:utext="${form.displayNumber(pChild.noinformation)}"></td>
                        <td  class="text-center" th:utext="${form.displayPercent(pChild.noinformationPercent)}"></td>
                        <td  class="text-center" th:utext="${pChild.tong == 0 ? 0 : form.displayNumber(pChild.tong)}"></td>
                        <td  class="text-center" th:utext="${pChild.getTongPercent(lastItem.tong)}"></td>
                    </tr>
                </th:block>
            </th:block>
            <th:block  th:if="${form.levelDisplay != 'province' && #lists.size(form.table) > 2 && item.displayName != 'Tỉnh khác' && item.provinceID != 'all'}">
                <tr class="font-weight-bold">
                    <td ></td>
                    <td ><b>Tổng tỉnh</b></td>
                    <td  class="text-center" th:utext="${item.blood == 0 ? 0 : form.displayNumber(item.blood)}"></td>
                    <td  class="text-center" th:utext="${item.bloodPercent}"></td>
                    <td  class="text-center" th:utext="${item.sexuality == 0 ? 0 : form.displayNumber(item.sexuality)}"></td>
                    <td  class="text-center" th:utext="${item.sexualityPercent}"></td>
                    <td  class="text-center" th:utext="${item.momtochild == 0 ? 0 : form.displayNumber(item.momtochild)}"></td>
                    <td  class="text-center" th:utext="${item.momtochildPercent}"></td>
                    <td  class="text-center" th:utext="${item.unclear == 0 ? 0 : form.displayNumber(item.unclear)}"></td>
                    <td  class="text-center" th:utext="${item.unclearPercent}"></td>
                    <td  class="text-center" th:utext="${item.noinformation == 0 ? 0 : form.displayNumber(item.noinformation)}"></td>
                    <td  class="text-center" th:utext="${item.noinformationPercent}"></td>
                    <td  class="text-center" th:utext="${item.tong == 0 ? 0 : form.displayNumber(item.tong)}"></td>
                    <td  class="text-center" th:utext="${item.getTongPercent(lastItem.tong)}"></td>
                </tr>
            </th:block>
        </th:block>
        <th:block th:with="item = ${form.table.size() == 0 ? item : form.table[form.table.size() -1]}">
            <tr class="font-weight-bold">
                <td colspan="2" class="text-center"><b>TỔNG CỘNG</b></td>
                <td  class="text-center" th:utext="${item.blood == 0 ? 0 : form.displayNumber(item.blood)}"></td>
                <td  class="text-center" th:utext="${item.bloodPercent}"></td>
                <td  class="text-center" th:utext="${item.sexuality == 0 ? 0 : form.displayNumber(item.sexuality)}"></td>
                <td  class="text-center" th:utext="${item.sexualityPercent}"></td>
                <td  class="text-center" th:utext="${item.momtochild == 0 ? 0 : form.displayNumber(item.momtochild)}"></td>
                <td  class="text-center" th:utext="${item.momtochildPercent}"></td>
                <td  class="text-center" th:utext="${item.unclear == 0 ? 0 : form.displayNumber(item.unclear)}"></td>
                <td  class="text-center" th:utext="${item.unclearPercent}"></td>
                <td  class="text-center" th:utext="${item.noinformation == 0 ? 0 : form.displayNumber(item.noinformation)}"></td>
                <td  class="text-center" th:utext="${item.noinformationPercent}"></td>
                <td  class="text-center" th:utext="${item.tong == 0 ? 0 : form.displayNumber(item.tong)}"></td>
                <td  class="text-center" th:utext="${item.getTongPercent(item.tong)}"></td>
            </tr>
        </th:block>
        </tbody>
        <tbody th:if="${lastItem == null || lastItem.tong == 0}">
            <tr>
                <td class="text-center text-danger" colspan="14"><b>Không có thông tin</b></td> 
            </tr>
        </tbody>
    </table>
</div>
<div data-th-fragment="table-detecthiv-age()" class="table-responsive">
    <table class="table-report table table-bordered table-hover" >
        <thead>
            <tr>
                <th class="text-center vertical-align-middle success text-uppercase" rowspan="2">STT</th>
                <th class="text-center vertical-align-middle success" rowspan="2">Đơn vị báo cáo</th>
                <th class="text-center vertical-align-middle success" th:if="${form.age1 != ''}" th:utext="${form.age1}" colspan="2"></th>
                <th class="text-center vertical-align-middle success" th:if="${form.age2 != ''}" th:utext="${form.age2}" colspan="2"></th>
                <th class="text-center vertical-align-middle success" th:if="${form.age3 != ''}" th:utext="${form.age3}" colspan="2"></th>
                <th class="text-center vertical-align-middle success" th:if="${form.age4 != ''}" th:utext="${form.age4}" colspan="2"></th>
                <th class="text-center vertical-align-middle success" th:if="${form.age5 != ''}" th:utext="${form.age5}" colspan="2"></th>
                <th class="text-center vertical-align-middle success" colspan="2">Tổng</th>
            </tr>
            <tr>
                <th class="text-center vertical-align-middle success" th:if="${form.age1 != ''}" >Số ca</th>
                <th class="text-center vertical-align-middle success" th:if="${form.age1 != ''}">%</th>
                <th class="text-center vertical-align-middle success" th:if="${form.age2 != ''}">Số ca</th>
                <th class="text-center vertical-align-middle success" th:if="${form.age2 != ''}">%</th>
                <th class="text-center vertical-align-middle success" th:if="${form.age3 != ''}">Số ca</th>
                <th class="text-center vertical-align-middle success" th:if="${form.age3 != ''}">%</th>
                <th class="text-center vertical-align-middle success" th:if="${form.age4 != ''}">Số ca</th>
                <th class="text-center vertical-align-middle success" th:if="${form.age4 != ''}">%</th>
                <th class="text-center vertical-align-middle success" th:if="${form.age5 != ''}">Số ca</th>
                <th class="text-center vertical-align-middle success" th:if="${form.age5 != ''}">%</th>
                <th class="text-center vertical-align-middle success" >Số ca</th>
                <th class="text-center vertical-align-middle success" >%</th>
            </tr>

        </thead>
        <tbody>
            <tr th:if="${form != null && form.sum == 0}" >
                <td colspan="14" class="text-danger text-bold text-center">Không có thông tin</td>
            </tr>
        <th:block th:if="${form != null && form.sum > 0}">
            <tr th:if = "${isVAAC && (form.province == null || form.province == '')}">
                <td class="text-center"></td>
                <td colspan="14"><span class="text-bold text-left">Toàn quốc</span></td>
            </tr>
            <!--        Lặp hiển thị tỉnh-->
            <th:block th:each="item, iter : ${form.table}"  th:if="${form.table != null }">
                <tr th:if = "${(form.levelDisplay != 'province' && form.levelDisplay != '' && isVAAC) || (!isVAAC)}">
                    <td class="text-center" th:utext="${item.stt}"></td> 
                    <td class="text-bold" colspan="14" th:utext="${item.displayName}"></td>
                </tr>
                <tr th:if = "${(form.levelDisplay == 'province' || form.levelDisplay == '' ) && isVAAC}">
                    <td class="text-center" th:utext="${item.stt}"></td> 
                    <td th:class= "${!form.VAAC}" th:utext="${item.displayName}"></td>

                    <td class="text-center" th:if="${form.age1 != ''}" th:utext="${form.displayNumber(item.age1)}"></td>
                    <td class="text-center" th:if="${form.age1 != ''}" th:utext="${form.displayPercent(item.age1Percent)}"></td>
                    <td class="text-center" th:if="${form.age2 != ''}" th:utext="${form.displayNumber(item.age2)}"></td>
                    <td class="text-center" th:if="${form.age2 != ''}" th:utext="${form.displayPercent(item.age2Percent)}"></td>
                    <td class="text-center" th:if="${form.age3 != ''}" th:utext="${form.displayNumber(item.age3)}"></td>
                    <td class="text-center" th:if="${form.age3 != ''}" th:utext="${form.displayPercent(item.age3Percent)}"></td>
                    <td class="text-center" th:if="${form.age4 != ''}" th:utext="${form.displayNumber(item.age4)}"></td>
                    <td class="text-center" th:if="${form.age4 != ''}" th:utext="${form.displayPercent(item.age4Percent)}"></td>
                    <td class="text-center" th:if="${form.age5 != ''}" th:utext="${form.displayNumber(item.age5)}"></td>
                    <td class="text-center" th:if="${form.age5 != ''}" th:utext="${form.displayPercent(item.age5Percent)}"></td>
                    <td class="text-center" th:utext="${form.numberFormat(item.sum)}"></td>
                    <td class="text-center" th:utext="${item.getSumPercent(form.sum)}"></td>
                </tr>
                <!--Lặp hiển thị huyện-->
                <th:block th:if='item.childs != null'  th:each="pChild, iterDistrict : ${item.childs}" >
                    <tr th:if = "${(form.levelDisplay == 'ward' && isVAAC) || (!isVAAC && form.levelDisplay == 'ward' && item.wardID != 'other')}">
                        <td class="text-center" ></td> 
                        <td colspan="14" >&nbsp;&nbsp;&nbsp;&nbsp;<span th:class= "${form.TYT || (form.levelDisplay == 'ward' && isVAAC)  || (!isVAAC && form.levelDisplay == 'ward') ? 'text-bold text-italic': 'text-bold'}" th:utext = "${pChild.displayName}"></span></td>
                    </tr>
                    <tr th:if="${form.levelDisplay == 'district' || item.wardID == 'other'}">
                        <td class="text-center" ></td> 
                        <td th:class= "${form.levelDisplay == 'ward' ? 'text-bold': ''}" th:if = "${item.wardID != 'other'}"> &nbsp;&nbsp;&nbsp;&nbsp;[[${pChild.displayName}]]</td>
                        <td th:class= "${form.levelDisplay == 'ward' ? '': ''}" th:if = "${item.wardID == 'other'}"> [[${pChild.displayName}]]</td>
                        <td class="text-center" th:if="${form.age1 != ''}" th:utext="${form.displayNumber(pChild.age1)}"></td>
                        <td class="text-center" th:if="${form.age1 != ''}" th:utext="${form.displayPercent(pChild.age1Percent)}"></td>
                        <td class="text-center" th:if="${form.age2 != ''}" th:utext="${form.displayNumber(pChild.age2)}"></td>
                        <td class="text-center" th:if="${form.age2 != ''}" th:utext="${form.displayPercent(pChild.age2Percent)}"></td>
                        <td class="text-center" th:if="${form.age3 != ''}" th:utext="${form.displayNumber(pChild.age3)}"></td>
                        <td class="text-center" th:if="${form.age3 != ''}" th:utext="${form.displayPercent(pChild.age3Percent)}"></td>
                        <td class="text-center" th:if="${form.age4 != ''}" th:utext="${form.displayNumber(pChild.age4)}"></td>
                        <td class="text-center" th:if="${form.age4 != ''}" th:utext="${form.displayPercent(pChild.age4Percent)}"></td>
                        <td class="text-center" th:if="${form.age5 != ''}" th:utext="${form.displayNumber(pChild.age5)}"></td>
                        <td class="text-center" th:if="${form.age5 != ''}" th:utext="${form.displayPercent(pChild.age5Percent)}"></td>
                        <td class="text-center" th:utext="${form.numberFormat(pChild.sum)}"></td>
                        <td class="text-center" th:utext="${pChild.getSumPercent(form.sum)}"></td>
                    </tr>
                    <!--Lặp hiển thị xã-->
                    <th:block th:if='pChild.childs != null'  th:each="dChild : ${pChild.childs}" >
                        <tr>
                            <td class="text-center"></td> 
                            <td >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[[${dChild.displayName}]]</td>
                            <td class="text-center" th:if="${form.age1 != ''}" th:utext="${form.displayNumber(dChild.age1)}"></td>
                            <td class="text-center" th:if="${form.age1 != ''}" th:utext="${form.displayPercent(dChild.age1Percent)}"></td>
                            <td class="text-center" th:if="${form.age2 != ''}" th:utext="${form.displayNumber(dChild.age2)}"></td>
                            <td class="text-center" th:if="${form.age2 != ''}" th:utext="${form.displayPercent(dChild.age2Percent)}"></td>
                            <td class="text-center" th:if="${form.age3 != ''}" th:utext="${form.displayNumber(dChild.age3)}"></td>
                            <td class="text-center" th:if="${form.age3 != ''}" th:utext="${form.displayPercent(dChild.age3Percent)}"></td>
                            <td class="text-center" th:if="${form.age4 != ''}" th:utext="${form.displayNumber(dChild.age4)}"></td>
                            <td class="text-center" th:if="${form.age4 != ''}" th:utext="${form.displayPercent(dChild.age4Percent)}"></td>
                            <td class="text-center" th:if="${form.age5 != ''}" th:utext="${form.displayNumber(dChild.age5)}"></td>
                            <td class="text-center" th:if="${form.age5 != ''}" th:utext="${form.displayPercent(dChild.age5Percent)}"></td>
                            <td class="text-center" th:utext="${form.numberFormat(dChild.sum)}"></td>
                            <td class="text-center" th:utext="${dChild.getSumPercent(form.sum)}"></td>
                        </tr>
                    </th:block>
                    <tr th:if = "${item.childs.size() > 1 && item.displayName != 'Tỉnh khác' && form.levelDisplay == 'ward' && (form.district == null || form.district == '' || form.district.contains(','))}">
                        <td ></td>
                        <td th:class="${form.TYT || (form.levelDisplay == 'ward' && isVAAC)  || (!isVAAC && form.levelDisplay == 'ward') ? 'text-bold text-italic' : 'text-bold'}">&nbsp;&nbsp;&nbsp;&nbsp;Tổng huyện</td>
                        <td  th:class="${form.TYT || (form.levelDisplay == 'ward' && isVAAC)  || (!isVAAC && form.levelDisplay == 'ward') ? 'text-bold text-italic text-center' : 'text-bold text-center'}" class="text-center" th:if="${form.age1 != ''}" th:utext="${form.numberFormat(pChild.age1)}"></td>
                        <td  th:class="${form.TYT || (form.levelDisplay == 'ward' && isVAAC)  || (!isVAAC && form.levelDisplay == 'ward') ? 'text-bold text-italic text-center' : 'text-bold text-center'}" class="text-center" th:if="${form.age1 != ''}" th:utext="${pChild.age1Percent}"></td>
                        <td  th:class="${form.TYT || (form.levelDisplay == 'ward' && isVAAC)  || (!isVAAC && form.levelDisplay == 'ward') ? 'text-bold text-italic text-center' : 'text-bold text-center'}" class="text-center" th:if="${form.age2 != ''}" th:utext="${form.numberFormat(pChild.age2)}"></td>
                        <td  th:class="${form.TYT || (form.levelDisplay == 'ward' && isVAAC)  || (!isVAAC && form.levelDisplay == 'ward') ? 'text-bold text-italic text-center' : 'text-bold text-center'}" class="text-center" th:if="${form.age2 != ''}" th:utext="${pChild.age2Percent}"></td>
                        <td  th:class="${form.TYT || (form.levelDisplay == 'ward' && isVAAC)  || (!isVAAC && form.levelDisplay == 'ward') ? 'text-bold text-italic text-center' : 'text-bold text-center'}" class="text-center" th:if="${form.age3 != ''}" th:utext="${form.numberFormat(pChild.age3)}"></td>
                        <td  th:class="${form.TYT || (form.levelDisplay == 'ward' && isVAAC)  || (!isVAAC && form.levelDisplay == 'ward') ? 'text-bold text-italic text-center' : 'text-bold text-center'}" class="text-center" th:if="${form.age3 != ''}" th:utext="${pChild.age3Percent}"></td>
                        <td  th:class="${form.TYT || (form.levelDisplay == 'ward' && isVAAC)  || (!isVAAC && form.levelDisplay == 'ward') ? 'text-bold text-italic text-center' : 'text-bold text-center'}" class="text-center" th:if="${form.age4 != ''}" th:utext="${form.numberFormat(pChild.age4)}"></td>
                        <td  th:class="${form.TYT || (form.levelDisplay == 'ward' && isVAAC)  || (!isVAAC && form.levelDisplay == 'ward') ? 'text-bold text-italic text-center' : 'text-bold text-center'}" class="text-center" th:if="${form.age4 != ''}" th:utext="${pChild.age4Percent}"></td>
                        <td  th:class="${form.TYT || (form.levelDisplay == 'ward' && isVAAC)  || (!isVAAC && form.levelDisplay == 'ward') ? 'text-bold text-italic text-center' : 'text-bold text-center'}" class="text-center" th:if="${form.age5 != ''}" th:utext="${form.numberFormat(pChild.age5)}"></td>
                        <td  th:class="${form.TYT || (form.levelDisplay == 'ward' && isVAAC)  || (!isVAAC && form.levelDisplay == 'ward') ? 'text-bold text-italic text-center' : 'text-bold text-center'}" class="text-center" th:if="${form.age5 != ''}" th:utext="${pChild.age5Percent}"></td>
                        <td  th:class="${form.TYT || (form.levelDisplay == 'ward' && isVAAC)  || (!isVAAC && form.levelDisplay == 'ward') ? 'text-bold text-italic text-center' : 'text-bold text-center'}" class="text-center" th:utext="${form.numberFormat(pChild.sum)}"></td>
                        <td  th:class="${form.TYT || (form.levelDisplay == 'ward' && isVAAC)  || (!isVAAC && form.levelDisplay == 'ward') ? 'text-bold text-italic text-center' : 'text-bold text-center'}" class="text-center" th:utext="${pChild.getSumPercent(form.sum)}"></td>
                    </tr>
                </th:block>
                <tr th:if = "${((form.levelDisplay != 'province') && (form.table.size() > 1) && (form.province == null || form.province == '' || form.province.contains(','))) && item.displayName != 'Tỉnh khác'}">
                    <td ></td> 
                    <td class = "text-bold" >Tổng tỉnh</td>
                    <td class="text-center text-bold" th:if="${form.age1 != ''}" th:utext="${form.numberFormat(item.age1)}"></td>
                    <td class="text-center text-bold" th:if="${form.age1 != ''}" th:utext="${item.age1Percent}"></td>
                    <td class="text-center text-bold" th:if="${form.age2 != ''}" th:utext="${form.numberFormat(item.age2)}"></td>
                    <td class="text-center text-bold" th:if="${form.age2 != ''}" th:utext="${item.age2Percent}"></td>
                    <td class="text-center text-bold" th:if="${form.age3 != ''}" th:utext="${form.numberFormat(item.age3)}"></td>
                    <td class="text-center text-bold" th:if="${form.age3 != ''}" th:utext="${item.age3Percent}"></td>
                    <td class="text-center text-bold" th:if="${form.age4 != ''}" th:utext="${form.numberFormat(item.age4)}"></td>
                    <td class="text-center text-bold" th:if="${form.age4 != ''}" th:utext="${item.age4Percent}"></td>
                    <td class="text-center text-bold" th:if="${form.age5 != ''}" th:utext="${form.numberFormat(item.age5)}"></td>
                    <td class="text-center text-bold" th:if="${form.age5 != ''}" th:utext="${item.age5Percent}"></td>
                    <td class="text-center text-bold" th:utext="${form.numberFormat(item.sum)}"></td>
                    <td class="text-center text-bold" th:utext="${item.getSumPercent(form.sum)}"></td>
                </tr>
            </th:block>
            <tr th:if="${form.table != null && form.table.size() > 0}">
                <td colspan="2" class="text-center"><b>Tổng cộng</b></td>
                <td class="text-center text-bold" th:if="${form.age1 != ''}" th:text="${form.numberFormat(form.getAge1Total())}"></td>
                <td class="text-center text-bold" th:if="${form.age1 != ''}" th:text="${form.getAge1Percent()}"></td>
                <td class="text-center text-bold" th:if="${form.age2 != ''}" th:text="${form.numberFormat(form.getAge2Total())}"></td>
                <td class="text-center text-bold" th:if="${form.age2 != ''}" th:text="${form.getAge2Percent()}"></td>
                <td class="text-center text-bold" th:if="${form.age3 != ''}" th:text="${form.numberFormat(form.getAge3Total())}"></td>
                <td class="text-center text-bold" th:if="${form.age3 != ''}" th:text="${form.getAge3Percent()}"></td>
                <td class="text-center text-bold" th:if="${form.age4 != ''}" th:text="${form.numberFormat(form.getAge4Total())}"></td>
                <td class="text-center text-bold" th:if="${form.age4 != ''}" th:text="${form.getAge4Percent()}"></td>
                <td class="text-center text-bold" th:if="${form.age5 != ''}" th:text="${form.numberFormat(form.getAge5Total())}"></td>
                <td class="text-center text-bold" th:if="${form.age5 != ''}" th:text="${form.getAge5Percent()}"></td>
                <td class="text-center text-bold" th:text="${form.numberFormat(form.getSum())}"></td>
                <td class="text-center text-bold" th:text="${form.getSumPercent()}"></td>
            </tr>
        </th:block> 
        </tbody>
    </table>
</div>


<div data-th-fragment="table-ward()">
    <table class="table-report table table-bordered table-hover table-full" >
        <!--<thead>-->
        <tr>
            <th class="text-center vertical-align-middle success text-uppercase" rowspan="2" style="width: 3%;">STT</th>
            <th class="text-center vertical-align-middle success" style="width: 16%;" rowspan="2">Địa bàn quản lý</th>
            <th th:if="${form.PAC}" class="text-center vertical-align-middle success"  rowspan="2">Xã/phường trọng điểm về HIV/AIDS</th>
            <th class="text-center vertical-align-middle success" colspan="3">Số liệu theo danh sách quản lý</th>
            <th class="text-center vertical-align-middle success" colspan="6">Không rõ địa chỉ</th>
            <th class="text-center vertical-align-middle success" colspan="5">Số người hiện đang được quản lý</th>
            <th class="text-center vertical-align-middle success" colspan="3">Nhóm tuổi</th>
        </tr>
        <tr>
            <th class="text-center vertical-align-middle success col-report" >HIV</th>
            <th class="text-center vertical-align-middle success col-report" >AIDS</th>
            <th class="text-center vertical-align-middle success col-report" >Tử vong</th>
            <th class="text-center vertical-align-middle success col-report" >Mất dấu</th>
            <th class="text-center vertical-align-middle success col-report" >Không có thực tế</th>	
            <th class="text-center vertical-align-middle success col-report" >Chuyển ngoại tỉnh</th>
            <th class="text-center vertical-align-middle success col-report" >Chưa xác định được</th>
            <th class="text-center vertical-align-middle success col-report" >Không có thông tin</th>
            <th class="text-center vertical-align-middle success col-report" >Tổng cộng</th>
            <th class="text-center vertical-align-middle success col-report" >Chuyển trong tỉnh</th>
            <th class="text-center vertical-align-middle success col-report" >Đi làm ăn xa</th>
            <th class="text-center vertical-align-middle success col-report" >Trong trại</th>
            <th class="text-center vertical-align-middle success col-report" >Đang ở địa phương</th>
            <th class="text-center vertical-align-middle success col-report" >Tổng cộng</th>
            <th class="text-center vertical-align-middle success col-report" >&nbsp;&nbsp;<15&nbsp;&nbsp;</th>
            <th class="text-center vertical-align-middle success col-report" >>=15</th>
            <th class="text-center vertical-align-middle success col-report" >Tổng cộng</th>
        </tr>
        <!--</thead>-->
        <tbody>
            <tr th:each="item, iter : ${form.table}" th:if="${item.active}"> 
                <td class="text-center" th:utext="${form.PAC && item.wardName != null ? '' : item.stt}" ></td>
                <td  ><span th:if="${form.PAC && item.districtName == null }">&nbsp;&nbsp;&nbsp;</span><span th:class="${ (item.wardName == null && form.levelDisplay == 'district') ||  item.wardName != null ? '' : 'text-bold'}" th:utext="${item.wardName == null ? item.districtName : item.wardName}"></span></td>
                <td th:if="${form.PAC}" th:class="${(item.wardName == null && form.levelDisplay == 'district') ||  item.wardName != null ? 'text-center' : 'text-center text-bold'}" th:utext="${item.districtName == 'Không rõ' ? '' : item.wardName == null ? item.countWard +'/' + item.countWard + '' : ''}"></td>
                <td th:class="${ (item.wardName == null && form.levelDisplay == 'district') || item.wardName != null ? 'text-center' : 'text-center text-bold'}" th:utext="${form.displayNumber(item.hiv              )   }" ></td>
                <td th:class="${ (item.wardName == null && form.levelDisplay == 'district') || item.wardName != null ? 'text-center' : 'text-center text-bold'}" th:utext="${form.displayNumber(item.aids             )   }" ></td>
                <td th:class="${ (item.wardName == null && form.levelDisplay == 'district') || item.wardName != null ? 'text-center' : 'text-center text-bold'}" th:utext="${form.displayNumber(item.tv               )   }" ></td>
                <td th:class="${ (item.wardName == null && form.levelDisplay == 'district') || item.wardName != null ? 'text-center' : 'text-center text-bold'}" th:utext="${form.displayNumber(item.matDau           )   }" ></td>
                <td th:class="${ (item.wardName == null && form.levelDisplay == 'district') || item.wardName != null ? 'text-center' : 'text-center text-bold'}" th:utext="${form.displayNumber(item.khongCoThucTe    )   }" ></td>
                <td th:class="${ (item.wardName == null && form.levelDisplay == 'district') || item.wardName != null ? 'text-center' : 'text-center text-bold'}" th:utext="${form.displayNumber(item.chuyenDiNoiKhac  )   }" ></td>
                <td th:class="${ (item.wardName == null && form.levelDisplay == 'district') || item.wardName != null ? 'text-center' : 'text-center text-bold'}" th:utext="${form.displayNumber(item.chuaXacDinhDuoc  )   }" ></td>
                <td th:class="${ (item.wardName == null && form.levelDisplay == 'district') || item.wardName != null ? 'text-center' : 'text-center text-bold'}" th:utext="${form.displayNumber(item.khongCoThongTin  )   }" ></td>
                <td th:class="${ (item.wardName == null && form.levelDisplay == 'district') || item.wardName != null ? 'text-center' : 'text-center text-bold'}" th:utext="${form.displayNumber(item.totalUnclear     )   }" ></td>
                <td th:class="${ (item.wardName == null && form.levelDisplay == 'district') || item.wardName != null ? 'text-center' : 'text-center text-bold'}" th:utext="${form.displayNumber(item.chuyenTrongTinh  )   }" ></td>
                <td th:class="${ (item.wardName == null && form.levelDisplay == 'district') || item.wardName != null ? 'text-center' : 'text-center text-bold'}" th:utext="${form.displayNumber(item.diLamAnXa        )   }" ></td>
                <td th:class="${ (item.wardName == null && form.levelDisplay == 'district') || item.wardName != null ? 'text-center' : 'text-center text-bold'}" th:utext="${form.displayNumber(item.diTrai           )   }" ></td>
                <td th:class="${ (item.wardName == null && form.levelDisplay == 'district') || item.wardName != null ? 'text-center' : 'text-center text-bold'}" th:utext="${form.displayNumber(item.dangODiaPhuong   )   }" ></td>
                <td th:class="${ (item.wardName == null && form.levelDisplay == 'district') || item.wardName != null ? 'text-center' : 'text-center text-bold'}" th:utext="${form.displayNumber(item.totalManage      )   }" ></td>
                <td th:class="${ (item.wardName == null && form.levelDisplay == 'district') || item.wardName != null ? 'text-center' : 'text-center text-bold'}" th:utext="${form.displayNumber(item.under15      )   }" ></td>
                <td th:class="${ (item.wardName == null && form.levelDisplay == 'district') || item.wardName != null ? 'text-center' : 'text-center text-bold'}" th:utext="${form.displayNumber(item.over15      )   }" ></td>
                <td th:class="${ (item.wardName == null && form.levelDisplay == 'district') || item.wardName != null ? 'text-center' : 'text-center text-bold'}" th:utext="${form.displayNumber(item.totalAge      )   }" ></td>
            </tr>
            <tr > 
                <td class="text-center text-bold" colspan="2">Tổng cộng</td>
                <td th:if="${form.PAC}" class="text-center text-bold" th:utext="${form.tableTotal.countWard + '/' + form.tableTotal.countWard + ''}" ></td>
                <td class="text-center text-bold" th:utext="${form.numberFormat(form.tableTotal.hiv             )}" ></td>
                <td class="text-center text-bold" th:utext="${form.numberFormat(form.tableTotal.aids            )}" ></td>
                <td class="text-center text-bold" th:utext="${form.numberFormat(form.tableTotal.tv              )}" ></td>
                <td class="text-center text-bold" th:utext="${form.numberFormat(form.tableTotal.matDau          )}" ></td>
                <td class="text-center text-bold" th:utext="${form.numberFormat(form.tableTotal.khongCoThucTe   )}" ></td>
                <td class="text-center text-bold" th:utext="${form.numberFormat(form.tableTotal.chuyenDiNoiKhac )}" ></td>
                <td class="text-center text-bold" th:utext="${form.numberFormat(form.tableTotal.chuaXacDinhDuoc )}" ></td>
                <td class="text-center text-bold" th:utext="${form.numberFormat(form.tableTotal.khongCoThongTin )}" ></td>
                <td class="text-center text-bold" th:utext="${form.numberFormat(form.tableTotal.totalUnclear    )}" ></td>
                <td class="text-center text-bold" th:utext="${form.numberFormat(form.tableTotal.chuyenTrongTinh )}" ></td>
                <td class="text-center text-bold" th:utext="${form.numberFormat(form.tableTotal.diLamAnXa       )}" ></td>
                <td class="text-center text-bold" th:utext="${form.numberFormat(form.tableTotal.diTrai          )}" ></td>
                <td class="text-center text-bold" th:utext="${form.numberFormat(form.tableTotal.dangODiaPhuong  )}" ></td>
                <td class="text-center text-bold" th:utext="${form.numberFormat(form.tableTotal.totalManage     )    }" ></td>
                <td class="text-center text-bold" th:utext="${form.numberFormat(form.tableTotal.under15     )    }" ></td>
                <td class="text-center text-bold" th:utext="${form.numberFormat(form.tableTotal.over15      )    }" ></td>
                <td class="text-center text-bold" th:utext="${form.numberFormat(form.tableTotal.totalAge    )    }" ></td>
            </tr>
        </tbody>
    </table>
</div>
<div data-th-fragment="pac-aids-table()" class="table-responsive">
    <table class="table-report table table-bordered table-hover" >
        <thead>
            <tr>
                <th class="text-center vertical-align-middle success text-uppercase" rowspan="2">STT</th>
                <th class="text-center vertical-align-middle success donvi-col" rowspan="2">Đơn vị báo cáo</th>
                <th class="text-center vertical-align-middle success" colspan="4">Lũy tích</th>
                <th class="text-center vertical-align-middle success" colspan="4">Còn sống</th>
                <th class="text-center vertical-align-middle success" colspan="4">Tử vong</th>
            </tr>
            <tr>
                <th class="text-center vertical-align-middle success">Nam</th>
                <th class="text-center vertical-align-middle success">Nữ</th>
                <th class="text-center vertical-align-middle success">Không rõ</th>
                <th class="text-center vertical-align-middle success">Tổng</th>
                <th class="text-center vertical-align-middle success">Nam</th>
                <th class="text-center vertical-align-middle success">Nữ</th>
                <th class="text-center vertical-align-middle success">Không rõ</th>
                <th class="text-center vertical-align-middle success">Tổng</th>
                <th class="text-center vertical-align-middle success">Nam</th>
                <th class="text-center vertical-align-middle success">Nữ</th>
                <th class="text-center vertical-align-middle success">Không rõ</th>
                <th class="text-center vertical-align-middle success">Tổng</th>
            </tr>
        </thead>
        <tbody>
            <tr th:if="${form.sum == 0}" >
                <td colspan="14" class="text-danger text-bold text-center">Không có thông tin</td>
            </tr>
        <th:block th:if="${form.sum > 0}">
            <tr th:if = "${isVAAC && (form.province == null || form.province == '')}">
                <td class="text-center"></td>
                <td colspan="13"><span class="text-bold text-left">Toàn quốc</span></td>
            </tr>
            <!--        Lặp hiển thị tỉnh-->
            <th:block th:each="item, iter : ${form.table}"  th:if="${form.table != null }">
                <tr th:if = "${(form.levelDisplay != 'province' && form.levelDisplay != '' && isVAAC) || (!isVAAC)}">
                    <td class="text-center" th:utext="${item.stt}"></td> 
                    <td class="text-bold" colspan="13" th:utext="${item.displayName}"></td>
                </tr>
                <tr th:if = "${(form.levelDisplay == 'province' || form.levelDisplay == '' ) && isVAAC}">
                    <td class="text-center" th:utext="${item.stt}"></td> 
                    <td th:class = "${!form.VAAC}" th:utext="${item.displayName}"></td>
                    <td class="text-center" th:utext="${form.displayNumber(item.male)}"></td>
                    <td class="text-center" th:utext="${form.displayNumber(item.female)}"></td>
                    <td class="text-center" th:utext="${form.displayNumber(item.other)}"></td>
                    <td class="text-center" th:utext="${item.sum == 0 ? 0 : form.displayNumber(item.sum)}"></td>
                    <td class="text-center" th:utext="${form.displayNumber(item.maleAlive)}"></td>
                    <td class="text-center" th:utext="${form.displayNumber(item.femaleAlive)}"></td>
                    <td class="text-center" th:utext="${form.displayNumber(item.otherAlive)}"></td>
                    <td class="text-center" th:utext="${item.sumAlive == 0 ? 0 : form.displayNumber(item.sumAlive)}"></td>
                    <td class="text-center" th:utext="${form.displayNumber(item.maleDeath)}"></td>
                    <td class="text-center" th:utext="${form.displayNumber(item.femaleDeath)}"></td>
                    <td class="text-center" th:utext="${form.displayNumber(item.otherDeath)}"></td>
                    <td class="text-center" th:utext="${item.sumDeath == 0 ? 0 : form.displayNumber(item.sumDeath)}"></td>

                </tr>
                <!--            Lặp hiển thị huyện-->
                <th:block th:if='item.childs != null'  th:each="pChild, iterDistrict : ${item.childs}" >
                    <tr th:if = "${(form.levelDisplay == 'ward' && isVAAC) || (!isVAAC && form.levelDisplay == 'ward' && item.wardID != 'other')}">
                        <td class="text-center" ></td> 
                        <td colspan="13" >&nbsp;&nbsp;&nbsp;&nbsp;<span th:class= "${form.TYT || (form.levelDisplay == 'ward' && isVAAC)  || (!isVAAC && form.levelDisplay == 'ward') ? 'text-bold text-italic': 'text-bold'}" th:utext = "${pChild.displayName}"></span></td>
                    </tr>
                    <tr th:if="${form.levelDisplay == 'district' || item.wardID == 'other'}">
                        <td class="text-center" ></td> 
                        <td th:class= "${form.levelDisplay == 'ward' ? 'text-bold': ''}" th:if = "${item.wardID != 'other'}"> &nbsp;&nbsp;&nbsp;&nbsp;[[${pChild.displayName}]]</td>
                        <td th:class= "${form.levelDisplay == 'ward' ? '': ''}" th:if = "${item.wardID == 'other'}"> [[${pChild.displayName}]]</td>
                        <td class="text-center" th:utext="${form.displayNumber(pChild.male)}"></td>
                        <td class="text-center" th:utext="${form.displayNumber(pChild.female)}"></td>
                        <td class="text-center" th:utext="${form.displayNumber(pChild.other)}"></td>
                        <td class="text-center" th:utext="${pChild.sum == 0 ? 0 : form.displayNumber(pChild.sum)}"></td>
                        <td class="text-center" th:utext="${form.displayNumber(pChild.maleAlive)}"></td>
                        <td class="text-center" th:utext="${form.displayNumber(pChild.femaleAlive)}"></td>
                        <td class="text-center" th:utext="${form.displayNumber(pChild.otherAlive)}"></td>
                        <td class="text-center" th:utext="${pChild.sumAlive == 0 ? 0 : form.displayNumber(pChild.sumAlive)}"></td>
                        <td class="text-center" th:utext="${form.displayNumber(pChild.maleDeath)}"></td>
                        <td class="text-center" th:utext="${form.displayNumber(pChild.femaleDeath)}"></td>
                        <td class="text-center" th:utext="${form.displayNumber(pChild.otherDeath)}"></td>
                        <td class="text-center" th:utext="${pChild.sumDeath == 0 ? 0 : form.displayNumber(pChild.sumDeath)}"></td>

                    </tr>
                    <!--Lặp hiển thị xã-->
                    <th:block th:if='pChild.childs != null'  th:each="dChild : ${pChild.childs}" >
                        <tr>
                            <td class="text-center"></td> 
                            <td >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[[${dChild.displayName}]]</td>
                            <td class="text-center" th:utext="${form.displayNumber(dChild.male)}"></td>
                            <td class="text-center" th:utext="${form.displayNumber(dChild.female)}"></td>
                            <td class="text-center" th:utext="${form.displayNumber(dChild.other)}"></td>
                            <td class="text-center" th:utext="${dChild.sum == 0 ? 0 : form.displayNumber(dChild.sum)}"></td>
                            <td class="text-center" th:utext="${form.displayNumber(dChild.maleAlive)}"></td>
                            <td class="text-center" th:utext="${form.displayNumber(dChild.femaleAlive)}"></td>
                            <td class="text-center" th:utext="${form.displayNumber(dChild.otherAlive)}"></td>
                            <td class="text-center" th:utext="${dChild.sumAlive == 0 ? 0 : form.displayNumber(dChild.sumAlive)}"></td>
                            <td class="text-center" th:utext="${form.displayNumber(dChild.maleDeath)}"></td>
                            <td class="text-center" th:utext="${form.displayNumber(dChild.femaleDeath)}"></td>
                            <td class="text-center" th:utext="${form.displayNumber(dChild.otherDeath)}"></td>
                            <td class="text-center" th:utext="${dChild.sumDeath == 0 ? 0 : form.displayNumber(dChild.sumDeath)}"></td>

                        </tr>
                    </th:block>
                    <tr th:if = "${item.childs.size() > 1 && item.displayName != 'Tỉnh khác' && form.levelDisplay == 'ward' && (form.district == null || form.district == '' || form.district.contains(','))}">
                        <td ></td>
                        <td th:class="${form.TYT || form.levelDisplay == 'ward'? 'text-bold text-italic' : 'text-bold'}">&nbsp;&nbsp;&nbsp;&nbsp;Tổng huyện</td>
                        <td th:class="${form.TYT || form.levelDisplay == 'ward'? 'text-bold text-italic text-center' : 'text-bold text-center'}" th:utext="${form.numberFormat(pChild.male)}"></td>
                        <td th:class="${form.TYT || form.levelDisplay == 'ward'? 'text-bold text-italic text-center' : 'text-bold text-center'}" th:utext="${form.numberFormat(pChild.female)}"></td>
                        <td th:class="${form.TYT || form.levelDisplay == 'ward'? 'text-bold text-italic text-center' : 'text-bold text-center'}" th:utext="${form.numberFormat(pChild.other)}"></td>
                        <td th:class="${form.TYT || form.levelDisplay == 'ward'? 'text-bold text-italic text-center' : 'text-bold text-center'}" th:utext="${form.numberFormat(pChild.sum)}"></td>
                        <td th:class="${form.TYT || form.levelDisplay == 'ward'? 'text-bold text-italic text-center' : 'text-bold text-center'}" th:utext="${form.numberFormat(pChild.maleAlive)}"></td>
                        <td th:class="${form.TYT || form.levelDisplay == 'ward'? 'text-bold text-italic text-center' : 'text-bold text-center'}" th:utext="${form.numberFormat(pChild.femaleAlive)}"></td>
                        <td th:class="${form.TYT || form.levelDisplay == 'ward'? 'text-bold text-italic text-center' : 'text-bold text-center'}" th:utext="${form.numberFormat(pChild.otherAlive)}"></td>
                        <td th:class="${form.TYT || form.levelDisplay == 'ward'? 'text-bold text-italic text-center' : 'text-bold text-center'}" th:utext="${form.numberFormat(pChild.sumAlive)}"></td>
                        <td th:class="${form.TYT || form.levelDisplay == 'ward'? 'text-bold text-italic text-center' : 'text-bold text-center'}" th:utext="${form.numberFormat(pChild.maleDeath)}"></td>
                        <td th:class="${form.TYT || form.levelDisplay == 'ward'? 'text-bold text-italic text-center' : 'text-bold text-center'}" th:utext="${form.numberFormat(pChild.femaleDeath)}"></td>
                        <td th:class="${form.TYT || form.levelDisplay == 'ward'? 'text-bold text-italic text-center' : 'text-bold text-center'}" th:utext="${form.numberFormat(pChild.otherDeath)}"></td>
                        <td th:class="${form.TYT || form.levelDisplay == 'ward'? 'text-bold text-italic text-center' : 'text-bold text-center'}" th:utext="${form.numberFormat(pChild.sumDeath)}"></td>

                    </tr>

                </th:block>
                <tr th:if = "${((form.levelDisplay != 'province') && (form.table.size() > 1) && (form.province == null || form.province == '' || form.province.contains(','))) && item.displayName != 'Tỉnh khác'}">
                    <td ></td> 
                    <td class = "text-bold" >Tổng tỉnh</td>
                    <td class="text-center text-bold" th:utext="${form.numberFormat(item.male)}"></td>
                    <td class="text-center text-bold" th:utext="${form.numberFormat(item.female)}"></td>
                    <td class="text-center text-bold" th:utext="${form.numberFormat(item.other)}"></td>
                    <td class="text-center text-bold" th:utext="${form.numberFormat(item.sum)}"></td>
                    <td class="text-center text-bold" th:utext="${form.numberFormat(item.maleAlive)}"></td>
                    <td class="text-center text-bold" th:utext="${form.numberFormat(item.femaleAlive)}"></td>
                    <td class="text-center text-bold" th:utext="${form.numberFormat(item.otherAlive)}"></td>
                    <td class="text-center text-bold" th:utext="${form.numberFormat(item.sumAlive)}"></td>
                    <td class="text-center text-bold" th:utext="${form.numberFormat(item.maleDeath)}"></td>
                    <td class="text-center text-bold" th:utext="${form.numberFormat(item.femaleDeath)}"></td>
                    <td class="text-center text-bold" th:utext="${form.numberFormat(item.otherDeath)}"></td>
                    <td class="text-center text-bold" th:utext="${form.numberFormat(item.sumDeath)}"></td>

                </tr>
            </th:block>
            <tr th:if="${form.table != null && form.table.size() > 0}">
                <td colspan="2" class="text-center"><b>Tổng cộng</b></td>
                <td class="text-center text-bold" th:text="${form.numberFormat(form.getMale())}"></td>
                <td class="text-center text-bold" th:text="${form.numberFormat(form.getFemale())}"></td>
                <td class="text-center text-bold" th:text="${form.numberFormat(form.getOther())}"></td>
                <td class="text-center text-bold" th:text="${form.numberFormat(form.getSum())}"></td>
                <td class="text-center text-bold" th:text="${form.numberFormat(form.getMaleAlive())}"></td>
                <td class="text-center text-bold" th:text="${form.numberFormat(form.getFemaleAlive())}"></td>
                <td class="text-center text-bold" th:text="${form.numberFormat(form.getOtherAlive())}"></td>
                <td class="text-center text-bold" th:text="${form.numberFormat(form.getSumAlive())}"></td>
                <td class="text-center text-bold" th:text="${form.numberFormat(form.getMaleDeath())}"></td>
                <td class="text-center text-bold" th:text="${form.numberFormat(form.getFemaleDeath())}"></td>
                <td class="text-center text-bold" th:text="${form.numberFormat(form.getOtherDeath())}"></td>
                <td class="text-center text-bold" th:text="${form.numberFormat(form.getSumDeath())}"></td>
            </tr>
        </th:block>
        </tbody>
    </table>
</div>
