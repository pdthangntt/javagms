<div data-th-fragment="arv-book(dataPage)" >
    <table class="table-report table table-striped table-bordered table-hover table-full"
           data-scrollY="auto" ng-cloak>
        <thead>
            <tr>
                <th class="text-center vertical-align-middle " colspan="5" >Thông tin cơ bản</th>
                <th class="text-center vertical-align-middle " colspan="5" >Khi bắt đầu điều trị</th>
                <th class="text-center vertical-align-middle " colspan="3" >Thay đổi phác đồ điều trị</th>
                <th class="text-center vertical-align-middle " colspan="41">Theo dõi người bệnh trong quá trình điều trị bằng thuốc kháng HIV</th>
            </tr>
            <tr>
                <th class="text-center vertical-align-middle bg-gray disabled color-palette " rowspan="2">Số TT</th>
                <th class="text-center vertical-align-middle bg-gray disabled color-palette " rowspan="2">Mã số bệnh án</th>
                <th class="text-center vertical-align-middle bg-gray disabled color-palette " rowspan="2">Họ và tên</th>
                <th class="text-center vertical-align-middle bg-gray disabled color-palette " colspan="2">Năm sinh</th>
                <th class="text-center vertical-align-middle bg-gray disabled color-palette " rowspan="2">Ngày bắt đầu</th>
                <th class="text-center vertical-align-middle bg-gray disabled color-palette " rowspan="2">Phác đồ ban đầu</th>
                <th class="text-center vertical-align-middle bg-gray disabled color-palette " rowspan="2">Giai đoạn LS</th>
                <th class="text-center vertical-align-middle bg-gray disabled color-palette " rowspan="2">CD4</th>
                <th class="text-center vertical-align-middle bg-gray disabled color-palette " rowspan="2">Cân nặng/Chiều cao</th>
                <th class="text-center vertical-align-middle bg-gray disabled color-palette " rowspan="2">Ngày thay đổi phác đồ</th>
                <th class="text-center vertical-align-middle bg-gray disabled color-palette " rowspan="2">Lý do thay đổi</th>
                <th class="text-center vertical-align-middle bg-gray disabled color-palette " rowspan="2">Phác đồ thay thế</th>
                <th class="text-center vertical-align-middle bg-gray disabled color-palette " rowspan="2">Tháng ĐT đầu tiên (0)</th>
                <th class="text-center vertical-align-middle bg-gray disabled color-palette " rowspan="2">1</th>
                <th class="text-center vertical-align-middle bg-gray disabled color-palette " rowspan="2">2</th>
                <th class="text-center vertical-align-middle bg-gray disabled color-palette " rowspan="2">3</th>
                <th class="text-center vertical-align-middle bg-gray disabled color-palette " rowspan="2">4</th>
                <th class="text-center vertical-align-middle bg-gray disabled color-palette " rowspan="2">5</th>
                <th class="text-center vertical-align-middle bg-gray disabled color-palette " colspan="2">Tháng thứ 6</th>
                <th class="text-center vertical-align-middle bg-gray disabled color-palette " rowspan="2">7</th>
                <th class="text-center vertical-align-middle bg-gray disabled color-palette " rowspan="2">8</th>
                <th class="text-center vertical-align-middle bg-gray disabled color-palette " rowspan="2">9</th>
                <th class="text-center vertical-align-middle bg-gray disabled color-palette " rowspan="2">10</th>
                <th class="text-center vertical-align-middle bg-gray disabled color-palette " rowspan="2">11</th>
                <th class="text-center vertical-align-middle bg-gray disabled color-palette " colspan="2">Tháng thứ 12</th>
                <th class="text-center vertical-align-middle bg-gray disabled color-palette " rowspan="2">13</th>
                <th class="text-center vertical-align-middle bg-gray disabled color-palette " rowspan="2">14</th>
                <th class="text-center vertical-align-middle bg-gray disabled color-palette " rowspan="2">15</th>
                <th class="text-center vertical-align-middle bg-gray disabled color-palette " rowspan="2">16</th>
                <th class="text-center vertical-align-middle bg-gray disabled color-palette " rowspan="2">17</th>
                <th class="text-center vertical-align-middle bg-gray disabled color-palette " colspan="2">Tháng thứ 18</th>
                <th class="text-center vertical-align-middle bg-gray disabled color-palette " rowspan="2">19</th>
                <th class="text-center vertical-align-middle bg-gray disabled color-palette " rowspan="2">20</th>
                <th class="text-center vertical-align-middle bg-gray disabled color-palette " rowspan="2">21</th>
                <th class="text-center vertical-align-middle bg-gray disabled color-palette " rowspan="2">22</th>
                <th class="text-center vertical-align-middle bg-gray disabled color-palette " rowspan="2">23</th>
                <th class="text-center vertical-align-middle bg-gray disabled color-palette " colspan="2">Tháng thứ 24</th>
                <th class="text-center vertical-align-middle bg-gray disabled color-palette " colspan="2">Tháng thứ 30</th>
                <th class="text-center vertical-align-middle bg-gray disabled color-palette " colspan="2">Tháng thứ 36</th>
                <th class="text-center vertical-align-middle bg-gray disabled color-palette " colspan="2">Tháng thứ 42</th>
                <th class="text-center vertical-align-middle bg-gray disabled color-palette " colspan="2">Tháng thứ 48</th>
                <th class="text-center vertical-align-middle bg-gray disabled color-palette " colspan="2">Tháng thứ 54</th>
                <th class="text-center vertical-align-middle bg-gray disabled color-palette " colspan="2">Tháng thứ 60</th>
            </tr>
            <tr>
                <th class="text-center vertical-align-middle bg-gray disabled color-palette ">Nam</th>
                <th class="text-center vertical-align-middle bg-gray disabled color-palette ">Nữ</th>
                <th class="text-center vertical-align-middle bg-gray disabled color-palette "></th>
                <th class="text-center vertical-align-middle bg-gray disabled color-palette ">CD4</th>
                <th class="text-center vertical-align-middle bg-gray disabled color-palette "></th>
                <th class="text-center vertical-align-middle bg-gray disabled color-palette ">CD4</th>
                <th class="text-center vertical-align-middle bg-gray disabled color-palette "></th>
                <th class="text-center vertical-align-middle bg-gray disabled color-palette ">CD4</th>
                <th class="text-center vertical-align-middle bg-gray disabled color-palette "></th>
                <th class="text-center vertical-align-middle bg-gray disabled color-palette ">CD4</th>
                <th class="text-center vertical-align-middle bg-gray disabled color-palette "></th>
                <th class="text-center vertical-align-middle bg-gray disabled color-palette ">CD4</th>
                <th class="text-center vertical-align-middle bg-gray disabled color-palette "></th>
                <th class="text-center vertical-align-middle bg-gray disabled color-palette ">CD4</th>
                <th class="text-center vertical-align-middle bg-gray disabled color-palette "></th>
                <th class="text-center vertical-align-middle bg-gray disabled color-palette ">CD4</th>
                <th class="text-center vertical-align-middle bg-gray disabled color-palette "></th>
                <th class="text-center vertical-align-middle bg-gray disabled color-palette ">CD4</th>
                <th class="text-center vertical-align-middle bg-gray disabled color-palette "></th>
                <th class="text-center vertical-align-middle bg-gray disabled color-palette ">CD4</th>
                <th class="text-center vertical-align-middle bg-gray disabled color-palette "></th>
                <th class="text-center vertical-align-middle bg-gray disabled color-palette ">CD4</th>
            </tr>
            <tr>
                <td class="text-center vertical-align-middle" >(1)</td>
                <td class="text-center vertical-align-middle" >(2)</td>
                <td class="text-center vertical-align-middle" >(3)</td>
                <td class="text-center vertical-align-middle" colspan="2">(4)</td>
                <td class="text-center vertical-align-middle" >(5)</td>
                <td class="text-center vertical-align-middle" >(6)</td>
                <td class="text-center vertical-align-middle" >(7)</td>
                <td class="text-center vertical-align-middle" >(8)</td>
                <td class="text-center vertical-align-middle" >(9)</td>
                <td class="text-center vertical-align-middle" >(10)</td>
                <td class="text-center vertical-align-middle" >(11)</td>
                <td class="text-center vertical-align-middle" >(12)</td>
                <td class="text-center vertical-align-middle" >(13)</td>
                <td class="text-center vertical-align-middle" >(14)</td>
                <td class="text-center vertical-align-middle" >(15)</td>
                <td class="text-center vertical-align-middle" >(16)</td>
                <td class="text-center vertical-align-middle" >(17)</td>
                <td class="text-center vertical-align-middle" >(18)</td>
                <td class="text-center vertical-align-middle" >(19)</td>
                <td class="text-center vertical-align-middle" >(20)</td>
                <td class="text-center vertical-align-middle" >(21)</td>
                <td class="text-center vertical-align-middle" >(22)</td>
                <td class="text-center vertical-align-middle" >(23)</td>
                <td class="text-center vertical-align-middle" >(24)</td>
                <td class="text-center vertical-align-middle" >(25)</td>
                <td class="text-center vertical-align-middle" >(26)</td>
                <td class="text-center vertical-align-middle" >(27)</td>
                <td class="text-center vertical-align-middle" >(28)</td>
                <td class="text-center vertical-align-middle" >(29)</td>
                <td class="text-center vertical-align-middle" >(30)</td>
                <td class="text-center vertical-align-middle" >(31)</td>
                <td class="text-center vertical-align-middle" >(32)</td>
                <td class="text-center vertical-align-middle" >(33)</td>
                <td class="text-center vertical-align-middle" >(34)</td>
                <td class="text-center vertical-align-middle" >(35)</td>
                <td class="text-center vertical-align-middle" >(36)</td>
                <td class="text-center vertical-align-middle" >(37)</td>
                <td class="text-center vertical-align-middle" >(38)</td>
                <td class="text-center vertical-align-middle" >(39)</td>
                <td class="text-center vertical-align-middle" >(40)</td>
                <td class="text-center vertical-align-middle" >(41)</td>
                <td class="text-center vertical-align-middle" >(42)</td>
                <td class="text-center vertical-align-middle" >(43)</td>
                <td class="text-center vertical-align-middle" >(44)</td>
                <td class="text-center vertical-align-middle" >(45)</td>
                <td class="text-center vertical-align-middle" >(46)</td>
                <td class="text-center vertical-align-middle" >(47)</td>
                <td class="text-center vertical-align-middle" >(48)</td>
                <td class="text-center vertical-align-middle" >(49)</td>
                <td class="text-center vertical-align-middle" >(50)</td>
                <td class="text-center vertical-align-middle" >(51)</td>
                <td class="text-center vertical-align-middle" >(52)</td>
                <td class="text-center vertical-align-middle" >(53)</td>
            </tr>
        </thead>
        <tbody >
            <tr th:each="item, iter : ${dataPage.data}" th:with="days=${T(java.util.concurrent.TimeUnit).DAYS}, millis=${T(java.util.concurrent.TimeUnit).MILLISECONDS}">
                <td rowspan="2" th:if="${item.arvID != null}" class="text-center row-min-height" th:utext="${form.order.get(iter.index)}" ></td>
                <td th:if="${item.arvID == null}" class="text-center row-min-heigh display-none"></td>
                
                <td rowspan="2" th:if="${item.arvID != null}" class="text-center row-min-height"><span th:text="${item.code}"></span></td>
                <td th:if="${item.arvID == null}" class="text-center row-min-height display-none"></td>
                
                <td rowspan="2" th:if="${item.arvID != null}" class=""><span th:text="${item.fullName}"></span></td>
                <td th:if="${item.arvID == null}" class="text-center row-min-height display-none"></td>
                
                <td rowspan="2" th:if="${item.arvID != null}" class="text-center row-min-height" th:utext="${(item.genderID != '' && item.genderID != null && item.genderID == '1') ? item.dob : ''}" ></td>
                <td th:if="${item.arvID == null}" class="text-center row-min-height display-none"></td>
                
                <td rowspan="2" th:if="${item.arvID != null}" class="text-center row-min-height" th:utext="${(item.genderID != '' && item.genderID != null &&  item.genderID == '2')? item.dob : ''}" ></td>
                <td th:if="${item.arvID == null}" class="text-center row-min-height display-none"></td>
                
                <td rowspan="2" th:if="${item.arvID != null}" class="text-center row-min-height"><span th:text="${item.treatmentTime}"></span></td>
                <td th:if="${item.arvID == null}" class="text-center row-min-height display-none"></td>
                
                <td rowspan="2" th:if="${item.arvID != null}" class="" th:text="${item.firstTreatmentRegimentID == null || item.firstTreatmentRegimentID == '' ? '' : options.get(T(com.gms.entity.db.ParameterEntity).TREATMENT_REGIMEN).get(item.firstTreatmentRegimentID + '')}"></td>
                <td th:if="${item.arvID == null}" class="text-center row-min-height display-none"></td>
                
                <td rowspan="2" th:if="${item.arvID != null}" class="" th:text="${item.clinicalStage == null || item.clinicalStage == '' ? '' : options.get(T(com.gms.entity.db.ParameterEntity).CLINICAL_STAGE).get(item.clinicalStage + '')}"></td>
                <td th:if="${item.arvID == null}" class="text-center row-min-height display-none"></td>
                
                <td rowspan="2" th:if="${item.arvID != null}" class="text-center row-min-height" th:utext="${(item.cd4 == null || item.cd4 == '') ? '' : item.cd4}" ></td>
                <td th:if="${item.arvID == null}" class="text-center row-min-height display-none"></td>
                
                <td th:if="${item.arvID != null}" class="text-center row-min-height" th:utext="${item.patientWeight == 0.0 ? '&nbsp;' : (item.patientWeight)}"></td>
                <td th:if="${item.arvID == null}" class="text-center row-min-height bg-gray-active color-palette" th:utext="${item.patientHeight == 0.0 ? '&nbsp;' : (item.patientHeight)}"></td>
                
                <td rowspan="2" th:if="${item.arvID != null}" class="text-center row-min-height" th:utext="${(item.regimentDate == null || item.regimentDate == '') ? '' : item.regimentDate}" ></td>
                <td th:if="${item.arvID == null}" class="text-center row-min-height display-none"></td>
                
                <td rowspan="2" th:if="${item.arvID != null}" class="" th:text="${item.causesChange == null ? '' : item.causesChange}"></td>
                <td th:if="${item.arvID == null}" class="text-center row-min-height display-none"></td>
                
                <td rowspan="2" th:if="${item.arvID != null}" class="" th:text="${item.treatmentRegimentID == null || item.treatmentRegimentID == '' ? '' : options.get(T(com.gms.entity.db.ParameterEntity).TREATMENT_REGIMEN).get(item.treatmentRegimentID + '')}"></td>
                <td th:if="${item.arvID == null}" class="text-center row-min-height display-none"></td>
                
                <td th:if="${item.arvID != null}" class="text-center row-min-height" >
                    <span><span th:text="${options.get(T(com.gms.entity.db.ParameterEntity).TREATMENT_REGIMEN).get(item.firstTreatmentRegimentID)}"></span><br/></span>
                    <th:block th:if="${item.childs != null && item.childs.size() > 0}" th:each="child : ${item.childs}">
                       <span th:if="${child.month == '0' && item.month >= 0 && (child.type == 'ĐT' || child.type == 'CĐ' || child.type == 'TV' || child.type == 'B' || child.type == 'CT' || child.type == 'ĐTL' || child.type == 'KT')}">
                           <span th:if="${(child.statusOftreatment != '3' || child.flag) && child.type != 'ĐT'}"><span class="text-bold text-uppercase" th:text="${child.type}"></span><br></span>
                           <span th:if="${(child.statusOftreatment != '3' || child.flag) && child.type != 'ĐT'}">(<span th:text="${child.time}"></span>)<br></span>
                       </span>
                   </th:block>
                </td>
                
                <td th:if="${item.arvID != null}" class="text-center row-min-height">
                    <th:block th:if="${item.childs != null && item.childs.size() > 0}" th:each="child : ${item.childs}">
                        <span th:if="${child.month == '1' && item.month >= 1 && (child.type == 'ĐT' || child.type == 'CĐ' || child.type == 'TV' || child.type == 'B' || child.type == 'CT' || child.type == 'ĐTL' || child.type == 'KT')}">
                            <span th:if="${item.month >= 1}"><span th:text="${options.get(T(com.gms.entity.db.ParameterEntity).TREATMENT_REGIMEN).get(child.treatmentRegimentID)}"></span><br/></span>
                            <span th:if="${(child.statusOftreatment != '3' || child.flag) && child.type != 'ĐT'}"><span class="text-bold text-uppercase" th:text="${child.type}"></span><br></span>
                            <span th:if="${(child.statusOftreatment != '3' || child.flag) && child.type != 'ĐT'}">(<span th:text="${child.time}"></span>)<br></span>
                       </span>
                   </th:block>
                </td>
                <td th:if="${item.arvID != null}" class="text-center row-min-height">
                    <th:block th:if="${item.childs != null && item.childs.size() > 0}" th:each="child : ${item.childs}">
                        <span th:if="${child.month == '2' && item.month >= 2 && (child.type == 'ĐT' || child.type == 'CĐ' || child.type == 'TV' || child.type == 'B' || child.type == 'CT' || child.type == 'ĐTL' || child.type == 'KT')}">
                           <span><span th:text="${options.get(T(com.gms.entity.db.ParameterEntity).TREATMENT_REGIMEN).get(child.treatmentRegimentID)}"></span><br/></span>
                           <span th:if="${(child.statusOftreatment != '3' || child.flag) && child.type != 'ĐT'}"> <span class="text-bold text-uppercase" th:text="${child.type}"></span><br></span>
                           <span th:if="${(child.statusOftreatment != '3' || child.flag) && child.type != 'ĐT'}">(<span th:text="${child.time}"></span>)<br></span>
                       </span>
                   </th:block>
                </td>
                <td th:if="${item.arvID != null}" class="text-center row-min-height">
                    <th:block th:if="${item.childs != null && item.childs.size() > 0}" th:each="child : ${item.childs}">
                        <span th:if="${child.month == '3' && item.month >= 3 && (child.type == 'ĐT' || child.type == 'CĐ' || child.type == 'TV' || child.type == 'B' || child.type == 'CT' || child.type == 'ĐTL' || child.type == 'KT')}">
                           <span><span th:text="${options.get(T(com.gms.entity.db.ParameterEntity).TREATMENT_REGIMEN).get(child.treatmentRegimentID)}"></span><br/></span>
                            <span th:if="${(child.statusOftreatment != '3' || child.flag) && child.type != 'ĐT'}"><span class="text-bold text-uppercase" th:text="${child.type}"></span><br></span>
                           <span th:if="${(child.statusOftreatment != '3' || child.flag) && child.type != 'ĐT'}">(<span th:text="${child.time}"></span>)<br></span>
                       </span>
                   </th:block>
                </td>
                <td th:if="${item.arvID != null}" class="text-center row-min-height">
                    <th:block th:if="${item.childs != null && item.childs.size() > 0}" th:each="child : ${item.childs}">
                        <span th:if="${child.month == '4' && item.month >= 4 && (child.type == 'ĐT' || child.type == 'CĐ' || child.type == 'TV' || child.type == 'B' || child.type == 'CT' || child.type == 'ĐTL' || child.type == 'KT')}">
                           <span><span th:text="${options.get(T(com.gms.entity.db.ParameterEntity).TREATMENT_REGIMEN).get(child.treatmentRegimentID)}"></span><br/></span>
                            <span th:if="${(child.statusOftreatment != '3' || child.flag) && child.type != 'ĐT'}"><span class="text-bold text-uppercase" th:text="${child.type}"></span><br></span>
                           <span th:if="${(child.statusOftreatment != '3' || child.flag) && child.type != 'ĐT'}">(<span th:text="${child.time}"></span>)<br></span>
                       </span>
                   </th:block>
                </td>
                <td th:if="${item.arvID != null}" class="text-center row-min-height">
                    <th:block th:if="${item.childs != null && item.childs.size() > 0}" th:each="child : ${item.childs}">
                        <span th:if="${child.month == '5' && item.month >= 5 && (child.type == 'ĐT' || child.type == 'CĐ' || child.type == 'TV' || child.type == 'B' || child.type == 'CT' || child.type == 'ĐTL' || child.type == 'KT')}">
                           <span><span th:text="${options.get(T(com.gms.entity.db.ParameterEntity).TREATMENT_REGIMEN).get(child.treatmentRegimentID)}"></span><br/></span>
                           <span th:if="${(child.statusOftreatment != '3' || child.flag) && child.type != 'ĐT'}"><span class="text-bold text-uppercase" th:text="${child.type}"></span><br></span>
                           <span th:if="${(child.statusOftreatment != '3' || child.flag) && child.type != 'ĐT'}">(<span th:text="${child.time}"></span>)<br></span>
                       </span>
                   </th:block>
                </td>
                <td th:if="${item.arvID != null}" class="text-center row-min-height">
                    <th:block th:if="${item.childs != null && item.childs.size() > 0}" th:each="child : ${item.childs}">
                        <span th:if="${child.month == '6' && item.month >= 6 && (child.type == 'ĐT' || child.type == 'CĐ' || child.type == 'TV' || child.type == 'B' || child.type == 'CT' || child.type == 'ĐTL' || child.type == 'KT')}">
                            <span><span th:text="${options.get(T(com.gms.entity.db.ParameterEntity).TREATMENT_REGIMEN).get(child.treatmentRegimentID)}"></span><br/></span>
                            <span th:if="${(child.statusOftreatment != '3' || child.flag) && child.type != 'ĐT'}"><span class="text-bold text-uppercase" th:text="${child.type}"></span><br></span>
                           <span th:if="${(child.statusOftreatment != '3' || child.flag) && child.type != 'ĐT'}">(<span th:text="${child.time}"></span>)<br></span>
                       </span>
                   </th:block>
                </td>
                <td rowspan="2" th:if="${item.arvID != null}" class="text-center row-min-height">
                    <th:block th:if="${item.childs != null && item.childs.size() > 0}" th:each="child : ${item.childs}">
                       <span th:if="${child.month == '6' && (child.type == 'cd4')}">
                           <span th:text="${child.time}"></span><br>
                           <span th:text="${child.result}"></span><br/>
                       </span>
                   </th:block>
                </td>
                <td th:if="${item.arvID != null}" class="text-center row-min-height">
                    <th:block th:if="${item.childs != null && item.childs.size() > 0}" th:each="child : ${item.childs}">
                        <span th:if="${child.month == '7' && item.month >= 7 && (child.type == 'ĐT' || child.type == 'CĐ' || child.type == 'TV' || child.type == 'B' || child.type == 'CT' || child.type == 'ĐTL' || child.type == 'KT')}">
                           <span><span th:text="${options.get(T(com.gms.entity.db.ParameterEntity).TREATMENT_REGIMEN).get(child.treatmentRegimentID)}"></span><br/></span>
                           <span th:if="${(child.statusOftreatment != '3' || child.flag) && child.type != 'ĐT'}"> <span class="text-bold text-uppercase" th:text="${child.type}"></span><br></span>
                           <span th:if="${(child.statusOftreatment != '3' || child.flag) && child.type != 'ĐT'}">(<span th:text="${child.time}"></span>)<br></span>
                       </span>
                   </th:block>
                </td>
                <td th:if="${item.arvID != null}" class="text-center row-min-height">
                    <th:block th:if="${item.childs != null && item.childs.size() > 0}" th:each="child : ${item.childs}">
                        <span th:if="${child.month == '8' && item.month >= 8 && (child.type == 'ĐT' || child.type == 'CĐ' || child.type == 'TV' || child.type == 'B' || child.type == 'CT' || child.type == 'ĐTL' || child.type == 'KT')}">
                           <span><span th:text="${options.get(T(com.gms.entity.db.ParameterEntity).TREATMENT_REGIMEN).get(child.treatmentRegimentID)}"></span><br/></span>
                            <span th:if="${(child.statusOftreatment != '3' || child.flag) && child.type != 'ĐT'}"><span class="text-bold text-uppercase" th:text="${child.type}"></span><br></span>
                           <span th:if="${(child.statusOftreatment != '3' || child.flag) && child.type != 'ĐT'}">(<span th:text="${child.time}"></span>)<br></span>
                       </span>
                   </th:block>
                </td>
                <td th:if="${item.arvID != null}" class="text-center row-min-height">
                    <th:block th:if="${item.childs != null && item.childs.size() > 0}" th:each="child : ${item.childs}">
                       <span th:if="${child.month == '9' && item.month >= 9 && (child.type == 'ĐT' || child.type == 'CĐ' || child.type == 'TV' || child.type == 'B' || child.type == 'CT' || child.type == 'ĐTL' || child.type == 'KT')}">
                           <span><span th:text="${options.get(T(com.gms.entity.db.ParameterEntity).TREATMENT_REGIMEN).get(child.treatmentRegimentID)}"></span><br/></span>
                           <span th:if="${(child.statusOftreatment != '3' || child.flag) && child.type != 'ĐT'}"><span class="text-bold text-uppercase" th:text="${child.type}"></span><br></span>
                           <span th:if="${(child.statusOftreatment != '3' || child.flag) && child.type != 'ĐT'}">(<span th:text="${child.time}"></span>)<br></span>
                       </span>
                   </th:block>
                </td>
                
                <td th:if="${item.arvID != null}" class="text-center row-min-height">
                    <th:block th:if="${item.childs != null && item.childs.size() > 0}" th:each="child : ${item.childs}">
                       <span th:if="${child.month == '10' && item.month >= 10 && (child.type == 'ĐT' || child.type == 'CĐ' || child.type == 'TV' || child.type == 'B' || child.type == 'CT' || child.type == 'ĐTL' || child.type == 'KT')}">
                           <span><span th:text="${options.get(T(com.gms.entity.db.ParameterEntity).TREATMENT_REGIMEN).get(child.treatmentRegimentID)}"></span><br/></span>
                           <span th:if="${(child.statusOftreatment != '3' || child.flag) && child.type != 'ĐT'}"><span class="text-bold text-uppercase" th:text="${child.type}"></span><br></span>
                           <span th:if="${(child.statusOftreatment != '3' || child.flag) && child.type != 'ĐT'}">(<span th:text="${child.time}"></span>)<br></span>
                       </span>
                   </th:block>
                </td>
                <td th:if="${item.arvID != null}" class="text-center row-min-height">
                    <th:block th:if="${item.childs != null && item.childs.size() > 0}" th:each="child : ${item.childs}">
                       <span th:if="${child.month == '11' && item.month >= 11 && (child.type == 'ĐT' || child.type == 'CĐ' || child.type == 'TV' || child.type == 'B' || child.type == 'CT' || child.type == 'ĐTL' || child.type == 'KT')}">
                           <span><span th:text="${options.get(T(com.gms.entity.db.ParameterEntity).TREATMENT_REGIMEN).get(child.treatmentRegimentID)}"></span><br/></span>
                           <span th:if="${(child.statusOftreatment != '3' || child.flag) && child.type != 'ĐT'}"><span class="text-bold text-uppercase" th:text="${child.type}"></span><br></span>
                           <span th:if="${(child.statusOftreatment != '3' || child.flag) && child.type != 'ĐT'}">(<span th:text="${child.time}"></span>)<br></span>
                       </span>
                   </th:block>
                </td>
                <td th:if="${item.arvID != null}" class="text-center row-min-height">
                    <th:block th:if="${item.childs != null && item.childs.size() > 0}" th:each="child : ${item.childs}">
                       <span th:if="${child.month == '12' && item.month >= 12 && (child.type == 'ĐT' || child.type == 'CĐ' || child.type == 'TV' || child.type == 'B' || child.type == 'CT' || child.type == 'ĐTL' || child.type == 'KT')}">
                           <span><span th:text="${options.get(T(com.gms.entity.db.ParameterEntity).TREATMENT_REGIMEN).get(child.treatmentRegimentID)}"></span><br/></span>
                           <span th:if="${(child.statusOftreatment != '3' || child.flag) && child.type != 'ĐT'}"><span class="text-bold text-uppercase" th:text="${child.type}"></span><br></span>
                           <span th:if="${(child.statusOftreatment != '3' || child.flag) && child.type != 'ĐT'}">(<span th:text="${child.time}"></span>)<br></span>
                       </span>
                   </th:block>
                </td>
                <td rowspan="2"  th:if="${item.arvID != null}" class="text-center row-min-height">
                    <th:block th:if="${item.childs != null && item.childs.size() > 0}" th:each="child : ${item.childs}">
                       <span th:if="${child.month == '12' && (child.type == 'cd4')}">
                          <span th:text="${child.time}"></span><br>
                           <span th:text="${child.result}"></span><br/>
                       </span>
                   </th:block>
                </td>
                <td th:if="${item.arvID != null}" class="text-center row-min-height">
                    <th:block th:if="${item.childs != null && item.childs.size() > 0}" th:each="child : ${item.childs}">
                       <span th:if="${child.month == '13' && item.month >= 13 && (child.type == 'ĐT' || child.type == 'CĐ' || child.type == 'TV' || child.type == 'B' || child.type == 'CT' || child.type == 'ĐTL' || child.type == 'KT')}">
                           <span><span th:text="${options.get(T(com.gms.entity.db.ParameterEntity).TREATMENT_REGIMEN).get(child.treatmentRegimentID)}"></span><br/></span>
                           <span th:if="${(child.statusOftreatment != '3' || child.flag) && child.type != 'ĐT'}"><span class="text-bold text-uppercase" th:text="${child.type}"></span><br></span>
                           <span th:if="${(child.statusOftreatment != '3' || child.flag) && child.type != 'ĐT'}">(<span th:text="${child.time}"></span>)<br></span>
                       </span>
                   </th:block>
                </td>
                <td th:if="${item.arvID != null}" class="text-center row-min-height">
                    <th:block th:if="${item.childs != null && item.childs.size() > 0}" th:each="child : ${item.childs}">
                       <span th:if="${child.month == '14' && item.month >= 14 && (child.type == 'ĐT' || child.type == 'CĐ' || child.type == 'TV' || child.type == 'B' || child.type == 'CT' || child.type == 'ĐTL' || child.type == 'KT')}">
                           <span><span th:text="${options.get(T(com.gms.entity.db.ParameterEntity).TREATMENT_REGIMEN).get(child.treatmentRegimentID)}"></span><br/></span>
                           <span th:if="${(child.statusOftreatment != '3' || child.flag) && child.type != 'ĐT'}"><span class="text-bold text-uppercase" th:text="${child.type}"></span><br></span>
                           <span th:if="${(child.statusOftreatment != '3' || child.flag) && child.type != 'ĐT'}">(<span th:text="${child.time}"></span>)<br></span>
                       </span>
                   </th:block>
                </td>
                <td th:if="${item.arvID != null}" class="text-center row-min-height">
                    <th:block th:if="${item.childs != null && item.childs.size() > 0}" th:each="child : ${item.childs}">
                       <span th:if="${child.month == '15' && item.month >= 15 && (child.type == 'ĐT' || child.type == 'CĐ' || child.type == 'TV' || child.type == 'B' || child.type == 'CT' || child.type == 'ĐTL' || child.type == 'KT')}">
                           <span><span th:text="${options.get(T(com.gms.entity.db.ParameterEntity).TREATMENT_REGIMEN).get(child.treatmentRegimentID)}"></span><br/></span>
                           <span th:if="${(child.statusOftreatment != '3' || child.flag) && child.type != 'ĐT'}"><span class="text-bold text-uppercase" th:text="${child.type}"></span><br></span>
                           <span th:if="${(child.statusOftreatment != '3' || child.flag) && child.type != 'ĐT'}">(<span th:text="${child.time}"></span>)<br></span>
                       </span>
                   </th:block>
                </td>
                <td th:if="${item.arvID != null}" class="text-center row-min-height">
                    <th:block th:if="${item.childs != null && item.childs.size() > 0}" th:each="child : ${item.childs}">
                       <span th:if="${child.month == '16' && item.month >= 16 && (child.type == 'ĐT' || child.type == 'CĐ' || child.type == 'TV' || child.type == 'B' || child.type == 'CT' || child.type == 'ĐTL' || child.type == 'KT')}">
                           <span><span th:text="${options.get(T(com.gms.entity.db.ParameterEntity).TREATMENT_REGIMEN).get(child.treatmentRegimentID)}"></span><br/></span>
                           <span th:if="${(child.statusOftreatment != '3' || child.flag) && child.type != 'ĐT'}"><span class="text-bold text-uppercase" th:text="${child.type}"></span><br></span>
                           <span th:if="${(child.statusOftreatment != '3' || child.flag) && child.type != 'ĐT'}">(<span th:text="${child.time}"></span>)<br></span>
                       </span>
                   </th:block>
                </td>
                <td th:if="${item.arvID != null}" class="text-center row-min-height">
                    <th:block th:if="${item.childs != null && item.childs.size() > 0}" th:each="child : ${item.childs}">
                       <span th:if="${child.month == '17' && item.month >= 17 && (child.type == 'ĐT' || child.type == 'CĐ' || child.type == 'TV' || child.type == 'B' || child.type == 'CT' || child.type == 'ĐTL' || child.type == 'KT')}">
                           <span><span th:text="${options.get(T(com.gms.entity.db.ParameterEntity).TREATMENT_REGIMEN).get(child.treatmentRegimentID)}"></span><br/></span>
                           <span th:if="${(child.statusOftreatment != '3' || child.flag) && child.type != 'ĐT'}"><span class="text-bold text-uppercase" th:text="${child.type}"></span><br></span>
                           <span th:if="${(child.statusOftreatment != '3' || child.flag) && child.type != 'ĐT'}">(<span th:text="${child.time}"></span>)<br></span>
                       </span>
                   </th:block>
                </td>
                <td th:if="${item.arvID != null}" class="text-center row-min-height">
                    <th:block th:if="${item.childs != null && item.childs.size() > 0}" th:each="child : ${item.childs}">
                       <span th:if="${child.month == '18' && item.month >= 18 && (child.type == 'ĐT' || child.type == 'CĐ' || child.type == 'TV' || child.type == 'B' || child.type == 'CT' || child.type == 'ĐTL' || child.type == 'KT')}">
                           <span><span th:text="${options.get(T(com.gms.entity.db.ParameterEntity).TREATMENT_REGIMEN).get(child.treatmentRegimentID)}"></span><br/></span>
                           <span th:if="${(child.statusOftreatment != '3' || child.flag) && child.type != 'ĐT'}"><span class="text-bold text-uppercase" th:text="${child.type}"></span><br></span>
                           <span th:if="${(child.statusOftreatment != '3' || child.flag) && child.type != 'ĐT'}">(<span th:text="${child.time}"></span>)<br></span>
                       </span>
                   </th:block>
                </td>
                
                <td rowspan="2"  th:if="${item.arvID != null}" class="text-center row-min-height">
                    <th:block th:if="${item.childs != null && item.childs.size() > 0}" th:each="child : ${item.childs}">
                       <span th:if="${child.month == '18' && (child.type == 'cd4')}">
                           <span th:text="${child.time}"></span><br>
                           <span th:text="${child.result}"></span><br/>
                       </span>
                   </th:block>
                </td>
                <td th:if="${item.arvID != null}" class="text-center row-min-height">
                    <th:block th:if="${item.childs != null && item.childs.size() > 0}" th:each="child : ${item.childs}">
                       <span th:if="${child.month == '19' && item.month >= 19 && (child.type == 'ĐT' || child.type == 'CĐ' || child.type == 'TV' || child.type == 'B' || child.type == 'CT' || child.type == 'ĐTL' || child.type == 'KT')}">
                           <span><span th:text="${options.get(T(com.gms.entity.db.ParameterEntity).TREATMENT_REGIMEN).get(child.treatmentRegimentID)}"></span><br/></span>
                           <span th:if="${(child.statusOftreatment != '3' || child.flag) && child.type != 'ĐT'}"><span class="text-bold text-uppercase" th:text="${child.type}"></span><br></span>
                           <span th:if="${(child.statusOftreatment != '3' || child.flag) && child.type != 'ĐT'}">(<span th:text="${child.time}"></span>)<br></span>
                       </span>
                   </th:block>
                </td>
                <td th:if="${item.arvID != null}" class="text-center row-min-height">
                    <th:block th:if="${item.childs != null && item.childs.size() > 0}" th:each="child : ${item.childs}">
                       <span th:if="${child.month == '20' && item.month >= 20 && (child.type == 'ĐT' || child.type == 'CĐ' || child.type == 'TV' || child.type == 'B' || child.type == 'CT' || child.type == 'ĐTL' || child.type == 'KT')}">
                           <span><span th:text="${options.get(T(com.gms.entity.db.ParameterEntity).TREATMENT_REGIMEN).get(child.treatmentRegimentID)}"></span><br/></span>
                           <span th:if="${(child.statusOftreatment != '3' || child.flag) && child.type != 'ĐT'}"><span class="text-bold text-uppercase" th:text="${child.type}"></span><br></span>
                           <span th:if="${(child.statusOftreatment != '3' || child.flag) && child.type != 'ĐT'}">(<span th:text="${child.time}"></span>)<br></span>
                       </span>
                   </th:block>
                </td>
                <td th:if="${item.arvID != null}" class="text-center row-min-height">
                    <th:block th:if="${item.childs != null && item.childs.size() > 0}" th:each="child : ${item.childs}">
                       <span th:if="${child.month == '21' && item.month >= 21 && (child.type == 'ĐT' || child.type == 'CĐ' || child.type == 'TV' || child.type == 'B' || child.type == 'CT' || child.type == 'ĐTL' || child.type == 'KT')}">
                           <span><span th:text="${options.get(T(com.gms.entity.db.ParameterEntity).TREATMENT_REGIMEN).get(child.treatmentRegimentID)}"></span><br/></span>
                           <span th:if="${(child.statusOftreatment != '3' || child.flag) && child.type != 'ĐT'}"><span class="text-bold text-uppercase" th:text="${child.type}"></span><br></span>
                           <span th:if="${(child.statusOftreatment != '3' || child.flag) && child.type != 'ĐT'}">(<span th:text="${child.time}"></span>)<br></span>
                       </span>
                   </th:block>
                </td>
                <td th:if="${item.arvID != null}" class="text-center row-min-height">
                    <th:block th:if="${item.childs != null && item.childs.size() > 0}" th:each="child : ${item.childs}">
                       <span th:if="${child.month == '22' && item.month >= 22 && (child.type == 'ĐT' || child.type == 'CĐ' || child.type == 'TV' || child.type == 'B' || child.type == 'CT' || child.type == 'ĐTL' || child.type == 'KT')}">
                           <span><span th:text="${options.get(T(com.gms.entity.db.ParameterEntity).TREATMENT_REGIMEN).get(child.treatmentRegimentID)}"></span><br/></span>
                           <span th:if="${(child.statusOftreatment != '3' || child.flag) && child.type != 'ĐT'}"><span class="text-bold text-uppercase" th:text="${child.type}"></span><br></span>
                           <span th:if="${(child.statusOftreatment != '3' || child.flag) && child.type != 'ĐT'}">(<span th:text="${child.time}"></span>)<br></span>
                       </span>
                   </th:block>
                </td>
                <td th:if="${item.arvID != null}" class="text-center row-min-height">
                    <th:block th:if="${item.childs != null && item.childs.size() > 0}" th:each="child : ${item.childs}">
                       <span th:if="${child.month == '23' && item.month >= 23 && (child.type == 'ĐT' || child.type == 'CĐ' || child.type == 'TV' || child.type == 'B' || child.type == 'CT' || child.type == 'ĐTL' || child.type == 'KT')}">
                           <span><span th:text="${options.get(T(com.gms.entity.db.ParameterEntity).TREATMENT_REGIMEN).get(child.treatmentRegimentID)}"></span><br/></span>
                           <span th:if="${(child.statusOftreatment != '3' || child.flag) && child.type != 'ĐT'}"><span class="text-bold text-uppercase" th:text="${child.type}"></span><br></span>
                           <span th:if="${(child.statusOftreatment != '3' || child.flag) && child.type != 'ĐT'}">(<span th:text="${child.time}"></span>)<br></span>
                       </span>
                   </th:block>
                </td>
                <td th:if="${item.arvID != null}" class="text-center row-min-height">
                    <th:block th:if="${item.childs != null && item.childs.size() > 0}" th:each="child : ${item.childs}">
                       <span th:if="${child.month == '24'  && item.month >= 24 && (child.type == 'ĐT' || child.type == 'CĐ' || child.type == 'TV' || child.type == 'B' || child.type == 'CT' || child.type == 'ĐTL' || child.type == 'KT')}">
                           <span><span th:text="${options.get(T(com.gms.entity.db.ParameterEntity).TREATMENT_REGIMEN).get(child.treatmentRegimentID)}"></span><br/></span>
                           <span th:if="${(child.statusOftreatment != '3' || child.flag) && child.type != 'ĐT'}"><span class="text-bold text-uppercase" th:text="${child.type}"></span><br></span>
                           <span th:if="${(child.statusOftreatment != '3' || child.flag) && child.type != 'ĐT'}">(<span th:text="${child.time}"></span>)<br></span>
                       </span>
                   </th:block>
                </td>
                <td rowspan="2"  th:if="${item.arvID != null}" class="text-center row-min-height">
                    <th:block th:if="${item.childs != null && item.childs.size() > 0}" th:each="child : ${item.childs}">
                       <span th:if="${child.month == '24' && (child.type == 'cd4')}">
                           <span th:text="${child.time}"></span><br>
                           <span th:text="${child.result}"></span><br/>
                       </span>
                   </th:block>
                </td>
                <td th:if="${item.arvID != null}" class="text-center row-min-height">
                    <th:block th:if="${item.childs != null && item.childs.size() > 0}" th:each="child : ${item.childs}">
                       <span th:if="${child.month == '30' && item.month >= 30 && (child.type == 'ĐT' || child.type == 'CĐ' || child.type == 'TV' || child.type == 'B' || child.type == 'CT' || child.type == 'ĐTL' || child.type == 'KT')}">
                           <span><span th:text="${options.get(T(com.gms.entity.db.ParameterEntity).TREATMENT_REGIMEN).get(child.treatmentRegimentID)}"></span><br/></span>
                           <span th:if="${(child.statusOftreatment != '3' || child.flag) && child.type != 'ĐT'}"><span class="text-bold text-uppercase" th:text="${child.type}"></span><br></span>
                           <span th:if="${(child.statusOftreatment != '3' || child.flag) && child.type != 'ĐT'}">(<span th:text="${child.time}"></span>)<br></span>
                       </span>
                   </th:block>
                </td>
                <td rowspan="2"  th:if="${item.arvID != null}" class="text-center row-min-height">
                    <th:block th:if="${item.childs != null && item.childs.size() > 0}" th:each="child : ${item.childs}">
                       <span th:if="${child.month == '30' && (child.type == 'cd4')}">
                           <span th:text="${child.time}"></span><br>
                           <span th:text="${child.result}"></span><br/>
                       </span>
                   </th:block>
                </td>
                
                <td  th:if="${item.arvID != null}" class="text-center row-min-height">
                    <th:block th:if="${item.childs != null && item.childs.size() > 0}" th:each="child : ${item.childs}">
                       <span th:if="${child.month == '36' && item.month >= 36 && (child.type == 'ĐT' || child.type == 'CĐ' || child.type == 'TV' || child.type == 'B' || child.type == 'CT' || child.type == 'ĐTL' || child.type == 'KT')}">
                           <span><span th:text="${options.get(T(com.gms.entity.db.ParameterEntity).TREATMENT_REGIMEN).get(child.treatmentRegimentID)}"></span><br/></span>
                           <span th:if="${(child.statusOftreatment != '3' || child.flag) && child.type != 'ĐT'}"><span class="text-bold text-uppercase" th:text="${child.type}"></span><br></span>
                           <span th:if="${(child.statusOftreatment != '3' || child.flag) && child.type != 'ĐT'}">(<span th:text="${child.time}"></span>)<br></span>
                       </span>
                   </th:block>
                </td>
                <td rowspan="2"  th:if="${item.arvID != null}" class="text-center row-min-height">
                    <th:block th:if="${item.childs != null && item.childs.size() > 0}" th:each="child : ${item.childs}">
                       <span th:if="${child.month == '36' && (child.type == 'cd4')}">
                           <span th:text="${child.time}"></span><br>
                           <span th:text="${child.result}"></span><br/>
                       </span>
                   </th:block>
                </td>
                
                <td th:if="${item.arvID != null}" class="text-center row-min-height">
                    <th:block th:if="${item.childs != null && item.childs.size() > 0}" th:each="child : ${item.childs}">
                       <span th:if="${child.month == '42' && item.month >= 42 && (child.type == 'ĐT' || child.type == 'CĐ' || child.type == 'TV' || child.type == 'B' || child.type == 'CT' || child.type == 'ĐTL' || child.type == 'KT')}">
                           <span><span th:text="${options.get(T(com.gms.entity.db.ParameterEntity).TREATMENT_REGIMEN).get(child.treatmentRegimentID)}"></span><br/></span>
                           <span th:if="${(child.statusOftreatment != '3' || child.flag) && child.type != 'ĐT'}"><span class="text-bold text-uppercase" th:text="${child.type}"></span><br></span>
                           <span th:if="${(child.statusOftreatment != '3' || child.flag) && child.type != 'ĐT'}">(<span th:text="${child.time}"></span>)<br></span>
                       </span>
                   </th:block>
                </td>
                <td rowspan="2" th:if="${item.arvID != null}" class="text-center row-min-height">
                    <th:block th:if="${item.childs != null && item.childs.size() > 0}" th:each="child : ${item.childs}">
                       <span th:if="${child.month == '42' && (child.type == 'cd4')}">
                           <span th:text="${child.time}"></span><br>
                           <span th:text="${child.result}"></span><br/>
                       </span>
                   </th:block>
                </td>
                
                <td th:if="${item.arvID != null}" class="text-center row-min-height">
                    <th:block th:if="${item.childs != null && item.childs.size() > 0}" th:each="child : ${item.childs}">
                       <span th:if="${child.month == '48' && item.month >= 48 && (child.type == 'ĐT' || child.type == 'CĐ' || child.type == 'TV' || child.type == 'B' || child.type == 'CT' || child.type == 'ĐTL' || child.type == 'KT')}">
                           <span><span th:text="${options.get(T(com.gms.entity.db.ParameterEntity).TREATMENT_REGIMEN).get(child.treatmentRegimentID)}"></span><br/></span>
                           <span th:if="${(child.statusOftreatment != '3' || child.flag) && child.type != 'ĐT'}"><span class="text-bold text-uppercase" th:text="${child.type}"></span><br></span>
                           <span th:if="${(child.statusOftreatment != '3' || child.flag) && child.type != 'ĐT'}">(<span th:text="${child.time}"></span>)<br></span>
                       </span>
                   </th:block>
                </td>
                <td rowspan="2" th:if="${item.arvID != null}" class="text-center row-min-height">
                    <th:block th:if="${item.childs != null && item.childs.size() > 0}" th:each="child : ${item.childs}">
                       <span th:if="${child.month == '48' && (child.type == 'cd4')}">
                           <span th:text="${child.time}"></span><br>
                           <span th:text="${child.result}"></span><br/>
                       </span>
                   </th:block>
                </td>
                
                <td th:if="${item.arvID != null}" class="text-center row-min-height">
                    <th:block th:if="${item.childs != null && item.childs.size() > 0}" th:each="child : ${item.childs}">
                       <span th:if="${child.month == '54' && item.month >= 54 && (child.type == 'ĐT' || child.type == 'CĐ' || child.type == 'TV' || child.type == 'B' || child.type == 'CT' || child.type == 'ĐTL' || child.type == 'KT')}">
                           <span><span th:text="${options.get(T(com.gms.entity.db.ParameterEntity).TREATMENT_REGIMEN).get(child.treatmentRegimentID)}"></span><br/></span>
                           <span th:if="${(child.statusOftreatment != '3' || child.flag) && child.type != 'ĐT'}"><span class="text-bold text-uppercase" th:text="${child.type}"></span><br></span>
                           <span th:if="${(child.statusOftreatment != '3' || child.flag) && child.type != 'ĐT'}">(<span th:text="${child.time}"></span>)<br></span>
                       </span>
                   </th:block>
                </td>
                <td rowspan="2" th:if="${item.arvID != null}" class="text-center row-min-height">
                    <th:block th:if="${item.childs != null && item.childs.size() > 0}" th:each="child : ${item.childs}">
                       <span th:if="${child.month == '54' && (child.type == 'cd4')}">
                           <span th:text="${child.time}"></span><br>
                           <span th:text="${child.result}"></span><br/>
                       </span>
                   </th:block>
                </td>
                
                <td th:if="${item.arvID != null}" class="text-center row-min-height">
                    <th:block th:if="${item.childs != null && item.childs.size() > 0}" th:each="child : ${item.childs}">
                       <span th:if="${child.month == '60' && item.month >= 60 && (child.type == 'ĐT' || child.type == 'CĐ' || child.type == 'TV' || child.type == 'B' || child.type == 'CT' || child.type == 'ĐTL' || child.type == 'KT')}">
                           <span><span th:text="${options.get(T(com.gms.entity.db.ParameterEntity).TREATMENT_REGIMEN).get(child.treatmentRegimentID)}"></span><br/></span>
                           <span th:if="${(child.statusOftreatment != '3' || child.flag) && child.type != 'ĐT'}"><span class="text-bold text-uppercase" th:text="${child.type}"></span><br></span>
                           <span th:if="${(child.statusOftreatment != '3' || child.flag) && child.type != 'ĐT'}">(<span th:text="${child.time}"></span>)<br></span>
                       </span>
                   </th:block>
                </td>
                <td rowspan="2" th:if="${item.arvID != null}" class="text-center row-min-height">
                    <th:block th:if="${item.childs != null && item.childs.size() > 0}" th:each="child : ${item.childs}">
                       <span th:if="${child.month == '60' && (child.type == 'cd4')}">
                           <span th:text="${child.time}"></span><br>
                           <span th:text="${child.result}"></span><br/>
                       </span>
                   </th:block>
                </td>
                
                <td th:if="${item.arvID == null}" class="text-center row-min-height bg-gray-active color-palette">
                    <th:block th:if="${item.childs != null && item.childs.size() > 0}" th:each="child : ${item.childs}">
                       <span th:if="${child.month == '0' && (child.type == 'lao' || child.type == 'inh' || child.type == 'ctx')}">
                           <span class="text-bold text-uppercase" th:text="${child.type == 'lao' ? 'ĐTL' : child.type}"></span><br>
                           (<span th:text="${child.time}"></span>)<br>
                       </span>
                   </th:block>
                </td>
                <td th:if="${item.arvID == null}" class="text-center row-min-height bg-gray-active color-palette">
                    <th:block th:if="${item.childs != null && item.childs.size() > 0}" th:each="child : ${item.childs}">
                       <span th:if="${child.month == '1' && (child.type == 'lao' || child.type == 'inh' || child.type == 'ctx')}">
                           <span class="text-bold text-uppercase" th:text="${child.type == 'lao' ? 'ĐTL' : child.type}"></span><br>
                           (<span th:text="${child.time}"></span>)<br>
                       </span>
                   </th:block>
                </td>
                <td th:if="${item.arvID == null}" class="text-center row-min-height bg-gray-active color-palette">
                    <th:block th:if="${item.childs != null && item.childs.size() > 0}" th:each="child : ${item.childs}">
                       <span th:if="${child.month == '2' && (child.type == 'lao' || child.type == 'inh' || child.type == 'ctx')}">
                           <span class="text-bold text-uppercase" th:text="${child.type == 'lao' ? 'ĐTL' : child.type}"></span><br>
                           (<span th:text="${child.time}"></span>)<br>
                       </span>
                   </th:block>
                </td>
                <td th:if="${item.arvID == null}" class="text-center row-min-height bg-gray-active color-palette">
                    <th:block th:if="${item.childs != null && item.childs.size() > 0}" th:each="child : ${item.childs}">
                       <span th:if="${child.month == '3' && (child.type == 'lao' || child.type == 'inh' || child.type == 'ctx')}">
                           <span class="text-bold text-uppercase" th:text="${child.type == 'lao' ? 'ĐTL' : child.type}"></span><br>
                           (<span th:text="${child.time}"></span>)<br>
                       </span>
                   </th:block>
                </td>
                <td th:if="${item.arvID == null}" class="text-center row-min-height bg-gray-active color-palette">
                    <th:block th:if="${item.childs != null && item.childs.size() > 0}" th:each="child : ${item.childs}">
                       <span th:if="${child.month == '4' && (child.type == 'lao' || child.type == 'inh' || child.type == 'ctx')}">
                           <span class="text-bold text-uppercase" th:text="${child.type == 'lao' ? 'ĐTL' : child.type}"></span><br>
                           (<span th:text="${child.time}"></span>)<br>
                       </span>
                   </th:block>
                </td>
                <td th:if="${item.arvID == null}" class="text-center row-min-height bg-gray-active color-palette">
                    <th:block th:if="${item.childs != null && item.childs.size() > 0}" th:each="child : ${item.childs}">
                       <span th:if="${child.month == '5' && (child.type == 'lao' || child.type == 'inh' || child.type == 'ctx')}">
                           <span class="text-bold text-uppercase" th:text="${child.type == 'lao' ? 'ĐTL' : child.type}"></span><br>
                           (<span th:text="${child.time}"></span>)<br>
                       </span>
                   </th:block>
                </td>
                <td th:if="${item.arvID == null}" class="text-center row-min-height bg-gray-active color-palette">
                    <th:block th:if="${item.childs != null && item.childs.size() > 0}" th:each="child : ${item.childs}">
                       <span th:if="${child.month == '6' && (child.type == 'lao' || child.type == 'inh' || child.type == 'ctx')}">
                           <span class="text-bold text-uppercase" th:text="${child.type == 'lao' ? 'ĐTL' : child.type}"></span><br>
                           (<span th:text="${child.time}"></span>)<br>
                       </span>
                   </th:block>
                </td>
                <td th:if="${item.arvID == null}" class="text-center row-min-height display-none"></td>
                <td th:if="${item.arvID == null}" class="text-center row-min-height bg-gray-active color-palette">
                    <th:block th:if="${item.childs != null && item.childs.size() > 0}" th:each="child : ${item.childs}">
                       <span th:if="${child.month == '7' && (child.type == 'lao' || child.type == 'inh' || child.type == 'ctx')}">
                           <span class="text-bold text-uppercase" th:text="${child.type == 'lao' ? 'ĐTL' : child.type}"></span><br>
                           (<span th:text="${child.time}"></span>)<br>
                       </span>
                   </th:block>
                </td>
                <td th:if="${item.arvID == null}" class="text-center row-min-height bg-gray-active color-palette">
                    <th:block th:if="${item.childs != null && item.childs.size() > 0}" th:each="child : ${item.childs}">
                       <span th:if="${child.month == '8' && (child.type == 'lao' || child.type == 'inh' || child.type == 'ctx')}">
                           <span class="text-bold text-uppercase" th:text="${child.type == 'lao' ? 'ĐTL' : child.type}"></span><br>
                           (<span th:text="${child.time}"></span>)<br>
                       </span>
                   </th:block>
                </td>
                <td th:if="${item.arvID == null}" class="text-center row-min-height bg-gray-active color-palette">
                    <th:block th:if="${item.childs != null && item.childs.size() > 0}" th:each="child : ${item.childs}">
                       <span th:if="${child.month == '9' && (child.type == 'lao' || child.type == 'inh' || child.type == 'ctx')}">
                           <span class="text-bold text-uppercase" th:text="${child.type == 'lao' ? 'ĐTL' : child.type}"></span><br>
                           (<span th:text="${child.time}"></span>)<br>
                       </span>
                   </th:block>
                </td>
                
                <td th:if="${item.arvID == null}" class="text-center row-min-height bg-gray-active color-palette">
                    <th:block th:if="${item.childs != null && item.childs.size() > 0}" th:each="child : ${item.childs}">
                       <span th:if="${child.month == '10' && (child.type == 'lao' || child.type == 'inh' || child.type == 'ctx')}">
                           <span class="text-bold text-uppercase" th:text="${child.type == 'lao' ? 'ĐTL' : child.type}"></span><br>
                           (<span th:text="${child.time}"></span>)<br>
                       </span>
                   </th:block>
                </td>
                <td th:if="${item.arvID == null}" class="text-center row-min-height bg-gray-active color-palette">
                    <th:block th:if="${item.childs != null && item.childs.size() > 0}" th:each="child : ${item.childs}">
                       <span th:if="${child.month == '11' && (child.type == 'lao' || child.type == 'inh' || child.type == 'ctx')}">
                           <span class="text-bold text-uppercase" th:text="${child.type == 'lao' ? 'ĐTL' : child.type}"></span><br>
                           (<span th:text="${child.time}"></span>)<br>
                       </span>
                   </th:block>
                </td>
                <td th:if="${item.arvID == null}" class="text-center row-min-height bg-gray-active color-palette">
                    <th:block th:if="${item.childs != null && item.childs.size() > 0}" th:each="child : ${item.childs}">
                       <span th:if="${child.month == '12' && (child.type == 'lao' || child.type == 'inh' || child.type == 'ctx')}">
                           <span class="text-bold text-uppercase" th:text="${child.type == 'lao' ? 'ĐTL' : child.type}"></span><br>
                           (<span th:text="${child.time}"></span>)<br>
                       </span>
                   </th:block>
                </td>
                <td th:if="${item.arvID == null}" class="text-center row-min-height display-none"></td>
                <td th:if="${item.arvID == null}" class="text-center row-min-height bg-gray-active color-palette">
                    <th:block th:if="${item.childs != null && item.childs.size() > 0}" th:each="child : ${item.childs}">
                       <span th:if="${child.month == '13' && (child.type == 'lao' || child.type == 'inh' || child.type == 'ctx')}">
                           <span class="text-bold text-uppercase" th:text="${child.type == 'lao' ? 'ĐTL' : child.type}"></span><br>
                           (<span th:text="${child.time}"></span>)<br>
                       </span>
                   </th:block>
                </td>
                <td th:if="${item.arvID == null}" class="text-center row-min-height bg-gray-active color-palette">
                    <th:block th:if="${item.childs != null && item.childs.size() > 0}" th:each="child : ${item.childs}">
                       <span th:if="${child.month == '14' && (child.type == 'lao' || child.type == 'inh' || child.type == 'ctx')}">
                           <span class="text-bold text-uppercase" th:text="${child.type == 'lao' ? 'ĐTL' : child.type}"></span><br>
                           (<span th:text="${child.time}"></span>)<br>
                       </span>
                   </th:block>
                </td>
                <td th:if="${item.arvID == null}" class="text-center row-min-height bg-gray-active color-palette">
                    <th:block th:if="${item.childs != null && item.childs.size() > 0}" th:each="child : ${item.childs}">
                       <span th:if="${child.month == '15' && (child.type == 'lao' || child.type == 'inh' || child.type == 'ctx')}">
                           <span class="text-bold text-uppercase" th:text="${child.type == 'lao' ? 'ĐTL' : child.type}"></span><br>
                           (<span th:text="${child.time}"></span>)<br>
                       </span>
                   </th:block>
                </td>
                <td th:if="${item.arvID == null}" class="text-center row-min-height bg-gray-active color-palette">
                    <th:block th:if="${item.childs != null && item.childs.size() > 0}" th:each="child : ${item.childs}">
                       <span th:if="${child.month == '16' && (child.type == 'lao' || child.type == 'inh' || child.type == 'ctx')}">
                           <span class="text-bold text-uppercase" th:text="${child.type == 'lao' ? 'ĐTL' : child.type}"></span><br>
                           (<span th:text="${child.time}"></span>)<br>
                       </span>
                   </th:block>
                </td>
                <td th:if="${item.arvID == null}" class="text-center row-min-height bg-gray-active color-palette">
                    <th:block th:if="${item.childs != null && item.childs.size() > 0}" th:each="child : ${item.childs}">
                       <span th:if="${child.month == '17' && (child.type == 'lao' || child.type == 'inh' || child.type == 'ctx')}">
                           <span class="text-bold text-uppercase" th:text="${child.type == 'lao' ? 'ĐTL' : child.type}"></span><br>
                           (<span th:text="${child.time}"></span>)<br>
                       </span>
                   </th:block>
                </td>
                <td th:if="${item.arvID == null}" class="text-center row-min-height bg-gray-active color-palette">
                    <th:block th:if="${item.childs != null && item.childs.size() > 0}" th:each="child : ${item.childs}">
                       <span th:if="${child.month == '18' && (child.type == 'lao' || child.type == 'inh' || child.type == 'ctx')}">
                           <span class="text-bold text-uppercase" th:text="${child.type == 'lao' ? 'ĐTL' : child.type}"></span><br>
                           (<span th:text="${child.time}"></span>)<br>
                       </span>
                   </th:block>
                </td>
                
                <td th:if="${item.arvID == null}" class="text-center row-min-height display-none"></td>
                <td th:if="${item.arvID == null}" class="text-center row-min-height bg-gray-active color-palette">
                    <th:block th:if="${item.childs != null && item.childs.size() > 0}" th:each="child : ${item.childs}">
                       <span th:if="${child.month == '19' && (child.type == 'lao' || child.type == 'inh' || child.type == 'ctx')}">
                           <span class="text-bold text-uppercase" th:text="${child.type == 'lao' ? 'ĐTL' : child.type}"></span><br>
                           (<span th:text="${child.time}"></span>)<br>
                       </span>
                   </th:block>
                </td>
                <td th:if="${item.arvID == null}" class="text-center row-min-height bg-gray-active color-palette">
                    <th:block th:if="${item.childs != null && item.childs.size() > 0}" th:each="child : ${item.childs}">
                       <span th:if="${child.month == '20' && (child.type == 'lao' || child.type == 'inh' || child.type == 'ctx')}">
                           <span class="text-bold text-uppercase" th:text="${child.type == 'lao' ? 'ĐTL' : child.type}"></span><br>
                           (<span th:text="${child.time}"></span>)<br>
                       </span>
                   </th:block>
                </td>
                <td th:if="${item.arvID == null}" class="text-center row-min-height bg-gray-active color-palette">
                    <th:block th:if="${item.childs != null && item.childs.size() > 0}" th:each="child : ${item.childs}">
                       <span th:if="${child.month == '21' && (child.type == 'lao' || child.type == 'inh' || child.type == 'ctx')}">
                           <span class="text-bold text-uppercase" th:text="${child.type == 'lao' ? 'ĐTL' : child.type}"></span><br>
                           (<span th:text="${child.time}"></span>)<br>
                       </span>
                   </th:block>
                </td>
                <td th:if="${item.arvID == null}" class="text-center row-min-height bg-gray-active color-palette">
                    <th:block th:if="${item.childs != null && item.childs.size() > 0}" th:each="child : ${item.childs}">
                       <span th:if="${child.month == '22' && (child.type == 'lao' || child.type == 'inh' || child.type == 'ctx')}">
                           <span class="text-bold text-uppercase" th:text="${child.type == 'lao' ? 'ĐTL' : child.type}"></span><br>
                           (<span th:text="${child.time}"></span>)<br>
                       </span>
                   </th:block>
                </td>
                <td th:if="${item.arvID == null}" class="text-center row-min-height bg-gray-active color-palette">
                    <th:block th:if="${item.childs != null && item.childs.size() > 0}" th:each="child : ${item.childs}">
                       <span th:if="${child.month == '23' && (child.type == 'lao' || child.type == 'inh' || child.type == 'ctx')}">
                           <span class="text-bold text-uppercase" th:text="${child.type == 'lao' ? 'ĐTL' : child.type}"></span><br>
                           (<span th:text="${child.time}"></span>)<br>
                       </span>
                   </th:block>
                </td>
                <td th:if="${item.arvID == null}" class="text-center row-min-height bg-gray-active color-palette">
                    <th:block th:if="${item.childs != null && item.childs.size() > 0}" th:each="child : ${item.childs}">
                       <span th:if="${child.month == '24' && (child.type == 'lao' || child.type == 'inh' || child.type == 'ctx')}">
                           <span class="text-bold text-uppercase" th:text="${child.type == 'lao' ? 'ĐTL' : child.type}"></span><br>
                           (<span th:text="${child.time}"></span>)<br>
                       </span>
                   </th:block>
                </td>
                <td th:if="${item.arvID == null}" class="text-center row-min-height display-none"></td>
                <td th:if="${item.arvID == null}" class="text-center row-min-height bg-gray-active color-palette">
                    <th:block th:if="${item.childs != null && item.childs.size() > 0}" th:each="child : ${item.childs}">
                       <span th:if="${child.month == '30' && (child.type == 'lao' || child.type == 'inh' || child.type == 'ctx')}">
                           <span class="text-bold text-uppercase" th:text="${child.type == 'lao' ? 'ĐTL' : child.type}"></span><br>
                           (<span th:text="${child.time}"></span>)<br>
                       </span>
                   </th:block>
                </td>
                <td th:if="${item.arvID == null}" class="text-center row-min-height display-none"></td>
                
                <td th:if="${item.arvID == null}" class="text-center row-min-height bg-gray-active color-palette">
                    <th:block th:if="${item.childs != null && item.childs.size() > 0}" th:each="child : ${item.childs}">
                       <span th:if="${child.month == '36' && (child.type == 'lao' || child.type == 'inh' || child.type == 'ctx')}">
                           <span class="text-bold text-uppercase" th:text="${child.type == 'lao' ? 'ĐTL' : child.type}"></span><br>
                           (<span th:text="${child.time}"></span>)<br>
                       </span>
                   </th:block>
                </td>
                <td th:if="${item.arvID == null}" class="text-center row-min-height display-none"></td>
                <td th:if="${item.arvID == null}" class="text-center row-min-height bg-gray-active color-palette">
                    <th:block th:if="${item.childs != null && item.childs.size() > 0}" th:each="child : ${item.childs}">
                       <span th:if="${child.month == '42' && (child.type == 'lao' || child.type == 'inh' || child.type == 'ctx')}">
                           <span class="text-bold text-uppercase" th:text="${child.type == 'lao' ? 'ĐTL' : child.type}"></span><br>
                           (<span th:text="${child.time}"></span>)<br>
                       </span>
                   </th:block>
                </td>
                <td th:if="${item.arvID == null}" class="text-center row-min-height display-none"></td>
                <td th:if="${item.arvID == null}" class="text-center row-min-height bg-gray-active color-palette">
                    <th:block th:if="${item.childs != null && item.childs.size() > 0}" th:each="child : ${item.childs}">
                       <span th:if="${child.month == '48' && (child.type == 'lao' || child.type == 'inh' || child.type == 'ctx')}">
                           <span class="text-bold text-uppercase" th:text="${child.type == 'lao' ? 'ĐTL' : child.type}"></span><br>
                           (<span th:text="${child.time}"></span>)<br>
                       </span>
                   </th:block>
                </td>
                <td th:if="${item.arvID == null}" class="text-center row-min-height display-none"></td>
                <td th:if="${item.arvID == null}" class="text-center row-min-height bg-gray-active color-palette">
                    <th:block th:if="${item.childs != null && item.childs.size() > 0}" th:each="child : ${item.childs}">
                       <span th:if="${child.month == '54' && (child.type == 'lao' || child.type == 'inh' || child.type == 'ctx')}">
                           <span class="text-bold text-uppercase" th:text="${child.type == 'lao' ? 'ĐTL' : child.type}"></span><br>
                           (<span th:text="${child.time}"></span>)<br>
                       </span>
                   </th:block>
                </td>
                <td th:if="${item.arvID == null}" class="text-center row-min-height display-none"></td>
                <td th:if="${item.arvID == null}" class="text-center row-min-height bg-gray-active color-palette">
                    <th:block th:if="${item.childs != null && item.childs.size() > 0}" th:each="child : ${item.childs}">
                       <span th:if="${child.month == '60' && (child.type == 'lao' || child.type == 'inh' || child.type == 'ctx')}">
                           <span class="text-bold text-uppercase" th:text="${child.type == 'lao' ? 'ĐTL' : child.type}"></span><br>
                           (<span th:text="${child.time}"></span>)<br>
                       </span>
                   </th:block>
                </td>
                <td th:if="${item.arvID == null}" class="text-center row-min-height display-none"></td>
            </tr>
        </tbody>
    </table>
</div>

<div data-th-fragment="table-viralload-manager-report()" class="table-responsive">
    <div  class="table-responsive">
        <table class="table-report table table-bordered table-hover table-full" >
            <thead>
                <tr>
                    <th class="text-center vertical-align-middle success text-uppercase" rowspan="2">STT</th>
                    <th class="text-center vertical-align-middle success" style="width: 15%;" rowspan="2">Tên PKNT</th>
                    <th class="text-center vertical-align-middle success" rowspan="2">Số mẫu XN TLHIV bậc 1</th>
                    <th class="text-center vertical-align-middle success" rowspan="2">Số mẫu XN TLHIV bậc 2</th>
                    <th class="text-center vertical-align-middle success" colspan="5">Thời điểm - lý do XN cho BN</th>
                    <th class="text-center vertical-align-middle success" colspan="4">Kết quả xét nghiệm (cp/ml) BN làm xét nghiệm lần 1</th>
                    <th class="text-center vertical-align-middle success" rowspan="2">Tư vấn tăng cường tuân thủ điều trị</th>
                    <th class="text-center vertical-align-middle success" colspan="2">Đối với BN làm XN lần 2 do kết quả lần 1 > 1000 cp/ml</th>
                    <th class="text-center vertical-align-middle success" rowspan="2">Thất bại điều trị chuyển phác đồ	</th>
                </tr>
                <tr>
                    <th class="text-center vertical-align-middle success">ĐT ARV tại thời điểm 6 tháng</th>
                    <th class="text-center vertical-align-middle success">XN định kỳ sau 12 tháng</th>
                    <th class="text-center vertical-align-middle success">XN định kỳ khác</th>
                    <th class="text-center vertical-align-middle success">Có biểu hiện nghi ngờ TBĐT</th>
                    <th class="text-center vertical-align-middle success">PN mang thai/PN cho con bú</th>
                    <th class="text-center vertical-align-middle success">Dưới ngưỡng phát hiện</th>
                    <th class="text-center vertical-align-middle success">Từ ngưỡng phát hiện đến < 200</th>
                    <th class="text-center vertical-align-middle success">200 - 1000</th>
                    <th class="text-center vertical-align-middle success">> 1000</th>
                    <th class="text-center vertical-align-middle success">< 1000</th>
                    <th class="text-center vertical-align-middle success">>= 1000</th>
                </tr>
            </thead>
            <tbody>

                <tr th:each="instance, iter : ${form.table}">
                    <td class="text-center">[[${iter.index + 1}]]</td>
                    <td class="text-left" th:text="${options.get('siteOpcFrom').getOrDefault(instance.key+'', '#'+instance.key)}" ></td>
                    <td class="text-center" th:text="${form.displayNumber(instance.value.xnbac1)}" ></td>
                    <td class="text-center" th:text="${form.displayNumber(instance.value.xnbac2)}" ></td>
                    <td class="text-center" th:text="${form.displayNumber(instance.value.xn6thang)}" ></td>
                    <td class="text-center" th:text="${form.displayNumber(instance.value.xn12thang)}" ></td>
                    <td class="text-center" th:text="${form.displayNumber(instance.value.xnkhac)}" ></td>
                    <td class="text-center" th:text="${form.displayNumber(instance.value.tbdt)}" ></td>
                    <td class="text-center" th:text="${form.displayNumber(instance.value.pnmt)}" ></td>
                    <td class="text-center" th:text="${form.displayNumber(instance.value.xnLan1phatHien)}" ></td>
                    <td class="text-center" th:text="${form.displayNumber(instance.value.xnLan1Duoi200)}" ></td>
                    <td class="text-center" th:text="${form.displayNumber(instance.value.xnLan1Tu200Den1000)}" ></td>
                    <td class="text-center" th:text="${form.displayNumber(instance.value.xnLan1Tren1000)}" ></td>
                    <td class="text-center" th:text="${form.displayNumber(instance.value.tuvan)}" ></td>
                    <td class="text-center" th:text="${form.displayNumber(instance.value.xnLan2duoi1000)}" ></td>
                    <td class="text-center" th:text="${form.displayNumber(instance.value.xnLan2tren1000)}" ></td>
                    <td class="text-center" th:text="${form.displayNumber(instance.value.thatbaiphacdo)}" ></td>

                </tr>
                <tr>
                    <td class="text-center text-bold" colspan="2">Tổng số</td>
                    <td class="text-center" th:text="${form.displayNumber(form.sumTable.xnbac1)}" ></td>
                    <td class="text-center" th:text="${form.displayNumber(form.sumTable.xnbac2)}" ></td>
                    <td class="text-center" th:text="${form.displayNumber(form.sumTable.xn6thang)}" ></td>
                    <td class="text-center" th:text="${form.displayNumber(form.sumTable.xn12thang)}" ></td>
                    <td class="text-center" th:text="${form.displayNumber(form.sumTable.xnkhac)}" ></td>
                    <td class="text-center" th:text="${form.displayNumber(form.sumTable.tbdt)}" ></td>
                    <td class="text-center" th:text="${form.displayNumber(form.sumTable.pnmt)}" ></td>
                    <td class="text-center" th:text="${form.displayNumber(form.sumTable.xnLan1phatHien)}" ></td>
                    <td class="text-center" th:text="${form.displayNumber(form.sumTable.xnLan1Duoi200)}" ></td>
                    <td class="text-center" th:text="${form.displayNumber(form.sumTable.xnLan1Tu200Den1000)}" ></td>
                    <td class="text-center" th:text="${form.displayNumber(form.sumTable.xnLan1Tren1000)}" ></td>
                    <td class="text-center" th:text="${form.displayNumber(form.sumTable.tuvan)}" ></td>
                    <td class="text-center" th:text="${form.displayNumber(form.sumTable.xnLan2duoi1000)}" ></td>
                    <td class="text-center" th:text="${form.displayNumber(form.sumTable.xnLan2tren1000)}" ></td>
                    <td class="text-center" th:text="${form.displayNumber(form.sumTable.thatbaiphacdo)}" ></td>
                </tr>
            </tbody>
        </table>
    </div>
    <div  class="table-responsive">
        <div class="clear-fix">&nbsp;</div>
        <p class="text-uppercase text-bold text-danger">
            <span>TỔNG HỢP SỐ LIỆU TRONG THÁNG</span> 
        </p>
        <table class="table-report table table-bordered table-hover" >
            <tbody>
                <tr>
                    <td class="text-left">Tổng số BN cần làm XN trong tháng</td>
                    <td class="text-center" style="width: 15%;">[[${form.displayNumber(form.table02.xnTrongThang)}]]</td>
                </tr>
                <tr>
                    <td class="text-left">Tổng số BN được làm xét nghiệm lần đầu trong tháng</td>
                    <td class="text-center" >[[${form.displayNumber(  form.sumTable.xnLan1phatHien 
                        + form.sumTable.xnLan1Duoi200
                        + form.sumTable.xnLan1Tu200Den1000
                        + form.sumTable.xnLan1Tren1000 )}]]</td>
                </tr>
                <tr>
                    <td class="text-left">Số BN điều trị ARV bậc 2 được làm XN trong tháng</td>
                    <td class="text-center" th:text="${form.displayNumber(form.sumTable.xnbac2)}" ></td>
                </tr>
                <tr>
                    <td class="text-left">Số BN điều trị ARV bậc 2 có kết quả XN < 1000 bản sao/ml</td>
                    <td class="text-center" >[[${form.displayNumber(form.table02.arvBac2Duoi1000)}]]</td>
                </tr>
                <tr>
                    <td class="text-left">Số BN điều trị ARV bậc 2 có kết quả XN >= 1000 bản sao/ml</td>
                    <td class="text-center" >[[${form.displayNumber(form.table02.arvBac2Tren1000)}]]</td>
                </tr>
                <tr>
                    <td class="text-left">Số BN làm XN lần 1 có KQXN dưới ngưỡng phát hiện</td>
                    <td class="text-center" >[[${form.displayNumber(form.sumTable.xnLan1phatHien)}]]</td>
                </tr>
                <tr>
                    <td class="text-left">Số BN làm XN lần 1 có KQXN dưới ngưỡng phát hiện đến dưới 200 bản sao/ml</td>
                    <td class="text-center" >[[${form.displayNumber(form.sumTable.xnLan1Duoi200)}]]</td>
                </tr>
                <tr>
                    <td class="text-left">Số BN làm XN lần 1 có KQXN từ 200 bản sao đến dưới 1000 bản sao/ml</td>
                    <td class="text-center" >[[${form.displayNumber(form.sumTable.xnLan1Tu200Den1000)}]]</td>
                </tr>
                <tr>
                    <td class="text-left">Số BN làm XN lần 1 có KQXN >= 1000 bản sao/ml	</td>
                    <td class="text-center" >[[${form.displayNumber(form.sumTable.xnLan1Tren1000)}]]</td>
                </tr>
                <tr>
                    <td class="text-left">Tổng số BN XN lần 2 có kết quả >= 1000 bản sao/ml	</td>
                    <td class="text-center" th:text="${form.displayNumber(form.sumTable.xnLan2tren1000)}"></td>
                </tr>
                <tr>
                    <td class="text-left">Số BN thất bại điều trị, chuyển phác đồ trong tháng	</td>
                    <td class="text-center" th:text="${form.displayNumber(form.sumTable.thatbaiphacdo)}"></td>
                </tr>

            </tbody>
        </table>
    </div>
</div>
<div data-th-fragment="table-viralload-report()" class="table-responsive">
    <table class="table-report table table-bordered table-hover" >
        <thead>
            <tr>
                <th class="text-center vertical-align-middle success text-uppercase" style="width: 8%">tt</th>
                <th class="text-center vertical-align-middle success" style="width: 75%">Nội dung</th>
                <th class="text-center vertical-align-middle success">Số lượng</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td class="text-center text-bold">I</td>
                <td class="text-left text-bold" >Kết quả xét nghiệm tải lượng virus của tất cả BN đang ĐT ARV (bậc 1, bậc 2, trẻ em, người lớn)</td>
                <td></td>
            </tr>
            <tr>
                <td class="text-center text-bold">1</td>
                <td class="text-left text-bold" >Tổng số BN cần làm XN trong tháng</td>
                <td class="text-center text-bold" th:text="${form.displayNumber(form.table.xnTrongThang)}" ></td>
            </tr>
            <tr>
                <td class="text-center text-bold">2</td>
                <td class="text-left text-bold" >Tổng số BN được làm xét nghiệm lần 1 trong tháng</td>
                <td class="text-center text-bold" th:text="${form.displayNumber(form.table.xnLan1)}" ></td>
            </tr>
            <tr>
                <td class="text-center">2.1</td>
                <td class="text-right" >Số BN có KQXN dưới ngưỡng phát hiện đến dưới 200 bản sao/ml</td>
                <td class="text-center" th:text="${form.displayNumber(form.table.xnLan1Duoi200)}" ></td>
            </tr>
            <tr>
                <td class="text-center">2.2</td>
                <td class="text-right" >Số BN có KQXN từ 200 bản sao đến dưới 1000 bản sao/ml</td>
                <td class="text-center" th:text="${form.displayNumber(form.table.xnLan1Tu200Den1000)}" ></td>
            </tr>
            <tr>
                <td class="text-center">2.3</td>
                <td class="text-right" >Số BN có KQXN >= 1000 bản sao/ml</td>
                <td class="text-center" th:text="${form.displayNumber(form.table.xnLan1Tren1000)}" ></td>
            </tr>
            <tr>
                <td class="text-center text-bold"></td>
                <td class="text-left text-bold" >Tổng số BN được làm lại xét nghiệm lần 2</td>
                <td class="text-center text-bold" th:text="${form.displayNumber(form.table.xnLan2)}" ></td>
            </tr>
            <tr>
                <td class="text-center"></td>
                <td class="text-right" >Số BN có KQXN dưới ngưỡng phát hiện đến dưới 200 bản sao/ml</td>
                <td class="text-center" th:text="${form.displayNumber(form.table.xnLan2Duoi200)}" ></td>
            </tr>
            <tr>
                <td class="text-center"></td>
                <td class="text-right" >Số BN có KQXN từ 200 bản sao đến dưới 1000 bản sao/ml</td>
                <td class="text-center" th:text="${form.displayNumber(form.table.xnLan2Tu200Den1000)}" ></td>
            </tr>
            <tr>
                <td class="text-center"></td>
                <td class="text-right" >Số BN có KQXN >= 1000 bản sao/ml</td>
                <td class="text-center" th:text="${form.displayNumber(form.table.xnLan2Tren1000)}" ></td>
            </tr>
            <tr>
                <td class="text-center text-bold">II</td>
                <td class="text-left text-bold" >Kết quả xét nghiệm tải lượng HIV trong BN điều trị ARV bậc 2</td>
                <td class="text-center"  ></td>
            </tr>
            <tr>
                <td class="text-center text-bold">3</td>
                <td class="text-left text-bold" >Số BN điều trị ARV bậc 2 được làm XN trong tháng</td>
                <td class="text-center text-bold" th:text="${form.displayNumber(form.table.arvBac2)}" ></td>
            </tr>
            <tr>
                <td class="text-center">3.1</td>
                <td class="text-right" >Số BN có KQXN dưới ngưỡng phát hiện đến dưới 200 bản sao/ml</td>
                <td class="text-center" th:text="${form.displayNumber(form.table.arvBac2Duoi200)}" ></td>
            </tr>
            <tr>
                <td class="text-center">3.2</td>
                <td class="text-right" >Số BN có KQXN từ 200 bản sao đến dưới 1000 bản sao/ml</td>
                <td class="text-center" th:text="${form.displayNumber(form.table.arvBac2Tu200Den1000)}" ></td>
            </tr>
            <tr>
                <td class="text-center">3.3</td>
                <td class="text-right" >Số BN có KQXN >= 1000 bản sao/ml</td>
                <td class="text-center" th:text="${form.displayNumber(form.table.arvBac2Tren1000)}" ></td>
            </tr>
            <tr>
                <td class="text-center text-bold">III</td>
                <td class="text-left text-bold" >Số bệnh nhân được xét nghiệm định kỳ tại thời điểm 12 tháng kể từ khi bắt đầu điều trị</td>
                <td class="text-center"  ></td>
            </tr>
            <tr>
                <td class="text-center">4.1</td>
                <td class="text-right" >Số BN có KQXN dưới ngưỡng phát hiện đến dưới 200 bản sao/ml</td>
                <td class="text-center" th:text="${form.displayNumber(form.table.xn12ThangDuoi200)}" ></td>
            </tr>
            <tr>
                <td class="text-center">4.2</td>
                <td class="text-right" >Số BN có KQXN từ 200 bản sao đến dưới 1000 bản sao/ml</td>
                <td class="text-center" th:text="${form.displayNumber(form.table.xn12ThangTu200Den1000)}" ></td>
            </tr>
            <tr>
                <td class="text-center">4.3</td>
                <td class="text-right" >Số BN có KQXN >= 1000 bản sao/ml</td>
                <td class="text-center" th:text="${form.displayNumber(form.table.xn12ThangTren1000)}" ></td>
            </tr>

        </tbody>
    </table>
</div>


<div data-th-fragment="tt03-table()">
    <div th:if="${tab == 'year'}" class="table-responsive">
        <p class="text-uppercase text-bold text-danger">
            <span>Bảng 2.&nbsp;</span>
            <span>Điều trị ARV đối với bệnh nhân HIV/LAO</span> 
        </p>
        <table class="table-report table table-bordered table-hover" >
            <thead>
                <tr>
                    <th class="text-center vertical-align-middle success text-uppercase">tt</th>
                    <th class="text-center vertical-align-middle success">Danh mục báo cáo</th>
                    <th class="text-center vertical-align-middle success" th:each="instance : ${form.table02}" th:text="${form.table02.size() == 1 && instance.key == currentUser.site.ID ? 'Số lượng': options.get('siteOpcFrom').getOrDefault(instance.key+'', '#'+instance.key)}" ></th>
                    <th class="text-center vertical-align-middle success" th:if="${isOpcManager}" >Tổng cộng</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td class="text-center">1</td>
                    <td class="text-left" >Số bệnh nhân điều trị ARV được bắt đầu điều trị lao trong kỳ báo cáo</td>
                    <td class="text-center" th:each="instance : ${form.table02}" th:text="${form.displayNumber(instance.value.lao)}" ></td>
                    <td class="text-center" th:if="${isOpcManager}" th:text="${form.displayNumber(form.sumTable02.lao)}" ></td>
                </tr>
                <tr>
                    <td class="text-center">2</td>
                    <td class="text-left" >Số người mắc lao phát hiện nhiễm HIV bắt đầu được điều trị ARV trong kỳ báo cáo</td>
                    <td class="text-center" th:each="instance : ${form.table02}" th:text="${form.displayNumber(instance.value.arv)}" ></td>
                    <td class="text-center" th:if="${isOpcManager}" th:text="${form.displayNumber(form.sumTable02.arv)}" ></td>
                </tr>
            </tbody>
        </table>
    </div>
    <div th:if="${tab == 'year'}" class="table-responsive">
        <p class="text-uppercase text-bold text-danger">
            <span>Bảng 3.&nbsp;</span>
            <span>Theo dõi xét nghiệm tải lượng HIV</span> 
        </p>
        <table class="table-report table table-bordered table-hover" >
            <thead>
                <tr>
                    <th class="text-center vertical-align-middle success text-uppercase">tt</th>
                    <th class="text-center vertical-align-middle success">Danh mục báo cáo</th>
                    <th class="text-center vertical-align-middle success" th:each="instance : ${form.table03}" th:text="${form.table03.size() == 1 && instance.key == currentUser.site.ID ? 'Số lượng': options.get('siteOpcFrom').getOrDefault(instance.key+'', '#'+instance.key)}" ></th>
                    <th class="text-center vertical-align-middle success" th:if="${isOpcManager}" >Tổng cộng</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td class="text-center">1</td>
                    <td class="text-left" >Số bệnh nhân điều trị ARV được làm xét nghiệm tải lượng HIV để khẳng định thất bại điều trị</td>
                    <td class="text-center" th:each="instance : ${form.table03}" th:text="${form.displayNumber(instance.value.tlvr)}" ></td>
                    <td class="text-center" th:if="${isOpcManager}" th:text="${form.displayNumber(form.sumTable03.tlvr)}" ></td>
                </tr>
                <tr>
                    <td class="text-center"></td>
                    <td class="text-left" >Trong đó, số bệnh nhân có kết quả tải lượng HIV dưới 1000 cp/ml</td>
                    <td class="text-center" th:each="instance : ${form.table03}" th:text="${form.displayNumber(instance.value.tlvr1000)}" ></td>
                    <td class="text-center" th:if="${isOpcManager}" th:text="${form.displayNumber(form.sumTable03.tlvr1000)}" ></td>
                </tr>
                <tr>
                    <td class="text-center">2</td>
                    <td class="text-left" >Số bệnh nhân điều trị ARV được làm xét nghiệm tải lượng định kỳ tại thời điểm 12 tháng kể từ khi bắt đầu điều trị</td>
                    <td class="text-center" th:each="instance : ${form.table03}" th:text="${form.displayNumber(instance.value.month)}" ></td>
                    <td class="text-center" th:if="${isOpcManager}" th:text="${form.displayNumber(form.sumTable03.month)}" ></td>
                </tr>
                <tr>
                    <td class="text-center"></td>
                    <td class="text-left" >Trong đó, số bệnh nhân có kết quả tải lượng HIV dưới 1000 cp/ml</td>
                    <td class="text-center" th:each="instance : ${form.table03}" th:text="${form.displayNumber(instance.value.month1000)}" ></td>
                    <td class="text-center" th:if="${isOpcManager}" th:text="${form.displayNumber(form.sumTable03.month1000)}" ></td>
                </tr>
            </tbody>
        </table>
    </div>
    <div th:if="${tab == 'quarter'}" class="table-responsive">
        <p class="text-uppercase text-bold text-danger">
            <span>Bảng 4.&nbsp;</span>
            <span>Quản lý trước điều trị ARV và điều trị dự phòng LAO</span> 
        </p>
        <table class="table-report table table-bordered table-hover" >
            <thead>
                <tr>
                    <th class="text-center vertical-align-middle success text-uppercase">tt</th>
                    <th class="text-center vertical-align-middle success">Danh mục báo cáo</th>
                    <th class="text-center vertical-align-middle success" th:each="instance : ${form.table04}" th:text="${form.table04.size() == 1 && instance.key == currentUser.site.ID ? 'Số lượng': options.get('siteOpcFrom').getOrDefault(instance.key+'', '#'+instance.key)}" ></th>
                    <th class="text-center vertical-align-middle success" th:if="${isOpcManager}" >Tổng cộng</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td class="text-center">1</td>
                    <td class="text-left" >Số bệnh nhân mới đăng ký trong kỳ báo cáo</td>
                    <td class="text-center" th:each="instance : ${form.table04}" th:text="${form.displayNumber(instance.value.register)}" ></td>
                    <td class="text-center" th:if="${isOpcManager}" th:text="${form.displayNumber(form.sumTable04.register)}" ></td>
                </tr>
                <tr>
                    <td class="text-center">2</td>
                    <td class="text-left" >Số bệnh nhân hiện quản lý đến cuối kỳ báo cáo</td>
                    <td class="text-center" th:each="instance : ${form.table04}" th:text="${form.displayNumber(instance.value.total)}" ></td>
                    <td class="text-center" th:if="${isOpcManager}" th:text="${form.displayNumber(form.sumTable04.total)}" ></td>
                </tr>
                <tr>
                    <td class="text-center">3</td>
                    <td class="text-left" >Số bệnh nhân bắt đầu dự phòng bằng INH trong kỳ báo cáo</td>
                    <td class="text-center" th:each="instance : ${form.table04}" th:text="${form.displayNumber(instance.value.inh)}" ></td>
                    <td class="text-center" th:if="${isOpcManager}" th:text="${form.displayNumber(form.sumTable04.inh)}" ></td>
                </tr>
            </tbody>
        </table>
    </div>
    <div th:if="${tab == 'quarter'}" class="table-responsive">
        <p class="text-uppercase text-bold text-danger">
            <span>Bảng 5.&nbsp;</span>
            <span>Quản lý điều trị ARV</span> 
        </p>
        <table class="table-report table table-bordered table-hover" th:class="${isOpcManager ? 'table-report table table-bordered table-hover table-full': 'table-report table table-bordered table-hover'}" >
            <thead>
                <tr>
                    <th class="text-center vertical-align-middle success text-uppercase" rowspan="2">tt</th>
                    <th class="text-center vertical-align-middle success" rowspan="2">Danh mục báo cáo </th>
                    <th class="text-center vertical-align-middle success" colspan="3" th:each="instance : ${form.table05}" th:if="${isOpcManager}" th:text="${options.get('siteOpcFrom').getOrDefault(instance.key + '', '#'+instance.key)}" ></th>
                    <th class="text-center vertical-align-middle success" th:if="${!isOpcManager}">Phác đồ bậc 1</th>
                    <th class="text-center vertical-align-middle success" th:if="${!isOpcManager}">Phác đồ bậc 2</th>
                    <th class="text-center vertical-align-middle success" th:if="${!isOpcManager}">Tổng cộng</th>
                    <th class="text-center vertical-align-middle success" colspan="3" th:if="${isOpcManager}" >Tổng cộng</th>
                </tr>
                <tr th:if="${isOpcManager}" >
            <span th:each="instance : ${form.table05}">
                <th class="text-center vertical-align-middle success" >Phác đồ bậc 1</th>
                <th class="text-center vertical-align-middle success">Phác đồ bậc 2</th>
                <th class="text-center vertical-align-middle success">Tổng cộng</th>
            </span>
            <th class="text-center vertical-align-middle success" >Phác đồ bậc 1</th>
            <th class="text-center vertical-align-middle success">Phác đồ bậc 2</th>
            <th class="text-center vertical-align-middle success">Tổng cộng</th>
            </tr>
            </thead>
            <tbody>
                <tr>
                    <td class="text-center">1</td>
                    <td class="text-left" >Số bệnh nhân điều trị ARV cuối kỳ báo cáo trước </td>
            <span th:each="instance : ${form.table05}">
                <td class="text-center" th:text="${instance.value.get('1') == null ? '' : form.displayNumber(instance.value.get('1').preArv)}" ></td>
                <td class="text-center" th:text="${instance.value.get('2') == null ? '' : form.displayNumber(instance.value.get('2').preArv)}" ></td>
                <td class="text-center" th:text="${instance.value.get('total') == null ? '' : form.displayNumber(instance.value.get('total').preArv)}" ></td>
            </span>
            <span th:if="${!isOpcManager && #maps.isEmpty(form.table05)}">
                <td class="text-center"></td>
                <td class="text-center"></td>
                <td class="text-center"></td>
            </span>
            <span th:if="${isOpcManager}">
                <td class="text-center" th:text="${form.sumTable05.get('1') == null ? '' : form.displayNumber(form.sumTable05.get('1').preArv)}" ></td>
                <td class="text-center" th:text="${form.sumTable05.get('2') == null ? '' : form.displayNumber(form.sumTable05.get('2').preArv)}" ></td>
                <td class="text-center" th:text="${form.sumTable05.get('total') == null ? '' : form.displayNumber(form.sumTable05.get('total').preArv)}" ></td>
            </span>
            </tr>
            <tr>
                <td class="text-center">2</td>
                <td class="text-left" >Số bệnh nhân điều trị ARV trong kỳ báo cáo</td>
            <span th:each="instance : ${form.table05}">
                <td class="text-center " ></td>
                <td class="text-center "></td>
                <td class="text-center "></td>
            </span>
            <span th:if="${!isOpcManager && #maps.isEmpty(form.table05)}">
                <td class="text-center "></td>
                <td class="text-center "></td>
                <td class="text-center "></td>
            </span>
            <span th:if="${isOpcManager}">
                <td class="text-center "></td>
                <td class="text-center "></td>
                <td class="text-center "></td>
            </span>
            </tr>
            <tr>
                <td class="text-center"></td>
                <td class="text-left" >2.1. Số bệnh nhân bắt đầu điều trị lần đầu tiên</td>
            <span th:each="instance : ${form.table05}">
                <td class="text-center" th:text="${instance.value.get('1') == null ? '' : form.displayNumber(instance.value.get('1').firstRegister)}" ></td>
                <td class="text-center" th:text="${instance.value.get('2') == null ? '' : form.displayNumber(instance.value.get('2').firstRegister)}" ></td>
                <td class="text-center" th:text="${instance.value.get('total') == null ? '' : form.displayNumber(instance.value.get('total').firstRegister)}" ></td>
            </span>
            <span th:if="${!isOpcManager && #maps.isEmpty(form.table05)}">
                <td class="text-center"></td>
                <td class="text-center"></td>
                <td class="text-center"></td>
            </span>
            <span th:if="${isOpcManager}">
                <td class="text-center" th:text="${form.sumTable05.get('1') == null ? '' : form.displayNumber(form.sumTable05.get('1').firstRegister)}" ></td>
                <td class="text-center" th:text="${form.sumTable05.get('2') == null ? '' : form.displayNumber(form.sumTable05.get('2').firstRegister)}" ></td>
                <td class="text-center" th:text="${form.sumTable05.get('total') == null ? '' : form.displayNumber(form.sumTable05.get('total').firstRegister)}" ></td>
            </span>
            </tr>
            <tr>
                <td class="text-center"></td>
                <td class="text-left" >2.2. Số bệnh nhân điều trị lại</td>
            <span th:each="instance : ${form.table05}">
                <td class="text-center" th:text="${instance.value.get('1') == null ? '' : form.displayNumber(instance.value.get('1').backTreatment)}" ></td>
                <td class="text-center" th:text="${instance.value.get('2') == null ? '' : form.displayNumber(instance.value.get('2').backTreatment)}" ></td>
                <td class="text-center" th:text="${instance.value.get('total') == null ? '' : form.displayNumber(instance.value.get('total').backTreatment)}" ></td>
            </span>
            <span th:if="${!isOpcManager && #maps.isEmpty(form.table05)}">
                <td class="text-center"></td>
                <td class="text-center"></td>
                <td class="text-center"></td>
            </span>
            <span th:if="${isOpcManager}">
                <td class="text-center" th:text="${form.sumTable05.get('1') == nul ? '' : form.displayNumber(form.sumTable05.get('1').backTreatment)}" ></td>
                <td class="text-center" th:text="${form.sumTable05.get('2') == nul ? '' : form.displayNumber(form.sumTable05.get('2').backTreatment)}" ></td>
                <td class="text-center" th:text="${form.sumTable05.get('total') == nul ? '' : form.displayNumber(form.sumTable05.get('total').backTreatment)}" ></td>
            </span>
            </tr>
            <tr>
                <td class="text-center"></td>
                <td class="text-left" >2.3. Số bệnh nhân chuyển đến</td>
            <span th:each="instance : ${form.table05}">
                <td class="text-center" th:text="${instance.value.get('1') == null ? '' : form.displayNumber(instance.value.get('1').transferTo)}" ></td>
                <td class="text-center" th:text="${instance.value.get('2') == null ? '' : form.displayNumber(instance.value.get('2').transferTo)}" ></td>
                <td class="text-center" th:text="${instance.value.get('total') == null ? '' : form.displayNumber(instance.value.get('total').transferTo)}" ></td>
            </span>
            <span th:if="${!isOpcManager && #maps.isEmpty(form.table05)}">
                <td class="text-center"></td>
                <td class="text-center"></td>
                <td class="text-center"></td>
            </span>
            <span th:if="${isOpcManager}">
                <td class="text-center" th:text="${form.sumTable05.get('1') == null ? '' : form.displayNumber(form.sumTable05.get('1').transferTo)}" ></td>
                <td class="text-center" th:text="${form.sumTable05.get('2') == null ? '' : form.displayNumber(form.sumTable05.get('2').transferTo)}" ></td>
                <td class="text-center" th:text="${form.sumTable05.get('total') == null ? '' : form.displayNumber(form.sumTable05.get('total').transferTo)}" ></td>
            </span>
            </tr>
            <tr>
                <td class="text-center"></td>
                <td class="text-left" >2.4. Số bệnh nhân chuyển đi</td>
            <span th:each="instance : ${form.table05}">
                <td class="text-center" th:text="${instance.value.get('1') == null ? '' : form.displayNumber(instance.value.get('1').moveAway)}" ></td>
                <td class="text-center" th:text="${instance.value.get('2') == null ? '' : form.displayNumber(instance.value.get('2').moveAway)}" ></td>
                <td class="text-center" th:text="${instance.value.get('total') == null ? '' : form.displayNumber(instance.value.get('total').moveAway)}" ></td>
            </span>
            <span th:if="${!isOpcManager && #maps.isEmpty(form.table05)}">
                <td class="text-center"></td>
                <td class="text-center"></td>
                <td class="text-center"></td>
            </span>
            <span th:if="${isOpcManager}">
                <td class="text-center" th:text="${form.sumTable05.get('1') == null ? '' : form.displayNumber(form.sumTable05.get('1').moveAway)}" ></td>
                <td class="text-center" th:text="${form.sumTable05.get('2') == null ? '' : form.displayNumber(form.sumTable05.get('2').moveAway)}" ></td>
                <td class="text-center" th:text="${form.sumTable05.get('total') == null ? '' : form.displayNumber(form.sumTable05.get('total').moveAway)}" ></td>
            </span>
            </tr>
            <tr>
                <td class="text-center"></td>
                <td class="text-left" >2.5. Số bệnh nhân bỏ điều trị</td>
            <span th:each="instance : ${form.table05}">
                <td class="text-center" th:text="${instance.value.get('1') == null ? '' : form.displayNumber(instance.value.get('1').quitTreatment)}" ></td>
                <td class="text-center" th:text="${instance.value.get('2') == null ? '' : form.displayNumber(instance.value.get('2').quitTreatment)}" ></td>
                <td class="text-center" th:text="${instance.value.get('total') == null ? '' : form.displayNumber(instance.value.get('total').quitTreatment)}" ></td>
            </span>
            <span th:if="${!isOpcManager && #maps.isEmpty(form.table05)}">
                <td class="text-center"></td>
                <td class="text-center"></td>
                <td class="text-center"></td>
            </span>
            <span th:if="${isOpcManager}">
                <td class="text-center" th:text="${form.sumTable05.get('1') == null ? '' : form.displayNumber(form.sumTable05.get('1').quitTreatment)}" ></td>
                <td class="text-center" th:text="${form.sumTable05.get('2') == null ? '' : form.displayNumber(form.sumTable05.get('2').quitTreatment)}" ></td>
                <td class="text-center" th:text="${form.sumTable05.get('total') == null ? '' : form.displayNumber(form.sumTable05.get('total').quitTreatment)}" ></td>
            </span>
            </tr>
            <tr>
                <td class="text-center"></td>
                <td class="text-left" >2.6. Số bệnh nhân tử vong</td>
            <span th:each="instance : ${form.table05}">
                <td class="text-center" th:text="${instance.value.get('1') == null ? '' : form.displayNumber(instance.value.get('1').dead)}" ></td>
                <td class="text-center" th:text="${instance.value.get('2') == null ? '' : form.displayNumber(instance.value.get('2').dead)}" ></td>
                <td class="text-center" th:text="${instance.value.get('total') == null ? '' : form.displayNumber(instance.value.get('total').dead)}" ></td>
            </span>
            <span th:if="${!isOpcManager && #maps.isEmpty(form.table05)}">
                <td class="text-center"></td>
                <td class="text-center"></td>
                <td class="text-center"></td>
            </span>
            <span th:if="${isOpcManager}">
                <td class="text-center" th:text="${form.sumTable05.get('1') == null ? '' : form.displayNumber(form.sumTable05.get('1').dead)}" ></td>
                <td class="text-center" th:text="${form.sumTable05.get('2') == null ? '' : form.displayNumber(form.sumTable05.get('2').dead)}" ></td>
                <td class="text-center" th:text="${form.sumTable05.get('total') == null ? '' : form.displayNumber(form.sumTable05.get('total').dead)}" ></td>
            </span>
            </tr>
            <tr>
                <td class="text-center"></td>
                <td class="text-left" >2.7. Số bệnh nhân hiện đang điều trị ARV cuối kỳ báo cáo này</td>
            <span th:each="instance : ${form.table05}">
                <td class="text-center" th:text="${instance.value.get('1') == null ? '' : form.displayNumber(instance.value.get('1').arv)}" ></td>
                <td class="text-center" th:text="${instance.value.get('2') == null ? '' : form.displayNumber(instance.value.get('2').arv)}" ></td>
                <td class="text-center" th:text="${instance.value.get('total') == null ? '' : form.displayNumber(instance.value.get('total').arv)}" ></td>
            </span>
            <span th:if="${!isOpcManager && #maps.isEmpty(form.table05)}">
                <td class="text-center"></td>
                <td class="text-center"></td>
                <td class="text-center"></td>
            </span>
            <span th:if="${isOpcManager}">
                <td class="text-center" th:text="${form.sumTable05.get('1') == null ? '' : form.displayNumber(form.sumTable05.get('1').arv)}" ></td>
                <td class="text-center" th:text="${form.sumTable05.get('2') == null ? '' : form.displayNumber(form.sumTable05.get('2').arv)}" ></td>
                <td class="text-center" th:text="${form.sumTable05.get('total') == null ? '' : form.displayNumber(form.sumTable05.get('total').arv)}" ></td>
            </span>
            </tr>
            <tr>
                <td class="text-center">3</td>
                <td class="text-left" >Số bệnh nhân được nhận thuốc ARV tại tuyến xã</td>
            <span th:each="instance : ${form.table05}">
                <td class="text-center" th:text="${instance.value.get('1') == null ? '' : form.displayNumber(instance.value.get('1').ward)}" ></td>
                <td class="text-center" th:text="${instance.value.get('2') == null ? '' : form.displayNumber(instance.value.get('2').ward)}" ></td>
                <td class="text-center" th:text="${instance.value.get('total') == null ? '' : form.displayNumber(instance.value.get('total').ward)}" ></td>
            </span>
            <span th:if="${!isOpcManager && #maps.isEmpty(form.table05)}">
                <td class="text-center"></td>
                <td class="text-center"></td>
                <td class="text-center"></td>
            </span>
            <span th:if="${isOpcManager}">
                <td class="text-center" th:text="${form.sumTable05.get('1') == null ? '' : form.displayNumber(form.sumTable05.get('1').ward)}" ></td>
                <td class="text-center" th:text="${form.sumTable05.get('2') == null ? '' : form.displayNumber(form.sumTable05.get('2').ward)}" ></td>
                <td class="text-center" th:text="${form.sumTable05.get('total') == null ? '' : form.displayNumber(form.sumTable05.get('total').ward)}" ></td>
            </span>
            </tr>
            </tbody>
        </table>
    </div>
    <div th:if="${tab == 'quarter'}" class="table-responsive">
        <p ></p>
        <p class="text-uppercase text-bold text-danger">
            <span>Bảng 6.&nbsp;</span>
            <span>Dự phòng lây truyền HIV từ mẹ sang con</span> 
        </p>
        <table class="table-report table table-bordered table-hover" >
            <thead>
                <tr>
                    <th class="text-center vertical-align-middle success text-uppercase">tt</th>
                    <th class="text-center vertical-align-middle success">Danh mục báo cáo</th>
                    <th class="text-center vertical-align-middle success" th:each="instance : ${form.table06}" th:text="${form.table06.size() == 1 && instance.key == currentUser.site.ID ? 'Số lượng': options.get('siteOpcFrom').getOrDefault(instance.key+'', '#'+instance.key)}" ></th>
                    <th class="text-center vertical-align-middle success" th:if="${isOpcManager}" >Tổng cộng</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td class="text-center">1</td>
                    <td class="text-left" >Số phụ nữ  mang thai nhiễm HIV được điều trị ARV trong kỳ báo cáo, Trong đó :</td>
                    <td class="text-center" th:each="instance : ${form.table06}"></td>
                    <td class="text-center" th:if="${isOpcManager}"></td>
                </tr>
                <tr>
                    <td class="text-center"></td>
                    <td class="text-left" >1.1. Điều trị ARV trước khi có thai</td>
                    <td class="text-center" th:each="instance : ${form.table06}" th:text="${form.displayNumber(instance.value.r11)}" ></td>
                    <td class="text-center" th:if="${isOpcManager}" th:text="${form.displayNumber(form.sumTable06.r11)}" ></td>
                </tr>
                <tr>
                    <td class="text-center"></td>
                    <td class="text-left" >1.2. Bắt đầu điều trị ARV trong thời kỳ mang thai</td>
                    <td class="text-center" th:each="instance : ${form.table06}" th:text="${form.displayNumber(instance.value.r12)}" ></td>
                    <td class="text-center" th:if="${isOpcManager}" th:text="${form.displayNumber(form.sumTable06.r12)}" ></td>
                </tr>
                <tr>
                    <td class="text-center"></td>
                    <td class="text-left" >1.3. Bắt đầu điều trị ARV trong khi chuyển dạ, đẻ</td>
                    <td class="text-center" th:each="instance : ${form.table06}" th:text="${form.displayNumber(instance.value.r13)}" ></td>
                    <td class="text-center" th:if="${isOpcManager}" th:text="${form.displayNumber(form.sumTable06.r13)}" ></td>
                </tr>
                <tr>
                    <td class="text-center">2</td>
                    <td class="text-left" >Số trẻ đẻ sống từ mẹ nhiễm HIV, trong đó :</td>
                    <td class="text-center" th:each="instance : ${form.table06}"></td>
                    <td class="text-center" th:if="${isOpcManager}"></td>
                </tr>
                <tr>
                    <td class="text-center"></td>
                    <td class="text-left" >2.1. Được dự phòng ARV</td>
                    <td class="text-center" th:each="instance : ${form.table06}" th:text="${form.displayNumber(instance.value.r21)}" ></td>
                    <td class="text-center" th:if="${isOpcManager}" th:text="${form.displayNumber(form.sumTable06.r21)}" ></td>
                </tr>
                <tr>
                    <td class="text-center"></td>
                    <td class="text-left" >2.2. Được dự phòng bằng co-trimoxazole (CTX) trong vòng 2 tháng sau sinh</td>
                    <td class="text-center" th:each="instance : ${form.table06}" th:text="${form.displayNumber(instance.value.r22)}" ></td>
                    <td class="text-center" th:if="${isOpcManager}" th:text="${form.displayNumber(form.sumTable06.r22)}" ></td>
                </tr>
                <tr>
                    <td class="text-center"></td>
                    <td class="text-left" >2.3. Được điều trị ARV khi xét nghiệm  CR lần 1 dương tính</td>
                    <td class="text-center" th:each="instance : ${form.table06}" th:text="${form.displayNumber(instance.value.r23)}" ></td>
                    <td class="text-center" th:if="${isOpcManager}" th:text="${form.displayNumber(form.sumTable06.r23)}" ></td>
                </tr>
            </tbody>
        </table>
    </div>
</div>

<div data-th-fragment="table-regimen()" class="table-responsive">
    <table class="table-report table table-bordered table-hover" >
        <thead>
            <tr>
                <th class="text-center vertical-align-middle success" style="width: 20px;">Mã phác đồ</th>
                <th class="text-center vertical-align-middle success">Phác đồ điều trị</th>
                <th class="text-center vertical-align-middle success width-col">Số BN bắt đầu nhận thuốc trong kỳ báo cáo</th>
                <th class="text-center vertical-align-middle success width-col">Số BN đang nhận thuốc của kỳ báo cáo trước</th>
                <th class="text-center vertical-align-middle success width-col">Số BN bỏ nhận thuốc trong kỳ <br/>(*)</th>
                <th class="text-center vertical-align-middle success width-col">Số BN nhận thuốc tính đến thời điểm báo cáo</th>
                <th class="text-center vertical-align-middle success width-col">Ước tính BN tích lũy đến tháng thứ 3 <i class="text-normal">(kể từ thời điểm báo cáo)</i></th>
                <th class="text-center vertical-align-middle success">Ghi chú </th>
            </tr>
            <tr>
                <td class="text-center vertical-align-middle text-italic">(a)</td>
                <td class="text-center vertical-align-middle text-italic">(b)</td>
                <td class="text-center vertical-align-middle text-italic">(c)</td>
                <td class="text-center vertical-align-middle text-italic">(d)</td>
                <td class="text-center vertical-align-middle text-italic">(e)</td>
                <td class="text-center vertical-align-middle text-italic">(f)</td>
                <td class="text-center vertical-align-middle text-italic">(g)</td>
                <td class="text-center vertical-align-middle  text-italic">(h)</td>
            </tr>
        </thead>
        <tbody>
            <tr class="text-bold">
                <td class="text-center" rowspan="2">I</td>
                <td rowspan="2">Bệnh nhân người lớn</td>
                <td class="text-center reda" th:utext="${form.getSumAdults().get('1').batdaunhan == 0 ? '&nbsp;' : form.displayNumber(form.getSumAdults().get('1').batdaunhan)}" ></td>
                <td class="text-center reda" th:utext="${form.displayNumber(form.getSumAdults().get('1').dangnhan)}" ></td>
                <td class="text-center reda" th:utext="${form.displayNumber(form.getSumAdults().get('1').bonhan)}" ></td>
                <td class="text-center reda" th:utext="${form.displayNumber(form.getSumAdults().get('1').getNhanThuoc())}" ></td>
                <td class="text-center reda" th:utext="${form.displayNumber(form.getSumAdults().get('1').getUocTinh())}" ></td>
                <td class="reda"></td>
            </tr>
            <tr class="text-bold">
                <td class="text-center" th:utext="${form.getSumAdults().get('2').batdaunhan == 0 ? '&nbsp;' : form.displayNumber(form.getSumAdults().get('2').batdaunhan)}" ></td>
                <td class="text-center" th:utext="${form.displayNumber(form.getSumAdults().get('2').dangnhan)}" ></td>
                <td class="text-center" th:utext="${form.displayNumber(form.getSumAdults().get('2').bonhan)}" ></td>
                <td class="text-center" th:utext="${form.displayNumber(form.getSumAdults().get('2').getNhanThuoc())}" ></td>
                <td class="text-center" th:utext="${form.displayNumber(form.getSumAdults().get('2').getUocTinh())}" ></td>
                <td></td>
            </tr>
        <th:block th:each="item : ${form.adults}">
            <tr >
                <td class="text-center" rowspan="2" ></td>
                <td rowspan="2" th:text="${item.key}"></td>
                <td class="text-center reda" th:utext="${item.value.get('1').batdaunhan == 0 ? '&nbsp;' : form.displayNumber(item.value.get('1').batdaunhan)}" ></td>
                <td class="text-center reda" th:utext="${form.displayNumber(item.value.get('1').dangnhan)}" ></td>
                <td class="text-center reda" th:utext="${form.displayNumber(item.value.get('1').bonhan)}" ></td>
                <td class="text-center reda" th:utext="${form.displayNumber(item.value.get('1').getNhanThuoc())}" ></td>
                <td class="text-center reda" th:utext="${form.displayNumber(item.value.get('1').getUocTinh())}" ></td>
                <td class="text-center reda"></td>
            </tr>
            <tr >
                <td class="text-center" th:utext="${item.value.get('2').batdaunhan == 0 ? '&nbsp;' : form.displayNumber(item.value.get('2').batdaunhan)}" ></td>
                <td class="text-center" th:utext="${form.displayNumber(item.value.get('2').dangnhan)}" ></td>
                <td class="text-center" th:utext="${form.displayNumber(item.value.get('2').bonhan)}" ></td>
                <td class="text-center" th:utext="${form.displayNumber(item.value.get('2').getNhanThuoc())}" ></td>
                <td class="text-center" th:utext="${form.displayNumber(item.value.get('2').getUocTinh())}" ></td>
                <td></td>
            </tr>
        </th:block>
        <tr class="text-bold">
            <td rowspan="2" class="text-center">II</td>
            <td rowspan="2">Bệnh nhân trẻ em</td>
            <td class="text-center reda" th:utext="${form.getSumChildren().get('1').batdaunhan == 0 ? '&nbsp;' : form.displayNumber(form.getSumChildren().get('1').batdaunhan)}" ></td>
            <td class="text-center reda" th:utext="${form.displayNumber(form.getSumChildren().get('1').dangnhan)}" ></td>
            <td class="text-center reda" th:utext="${form.displayNumber(form.getSumChildren().get('1').bonhan)}" ></td>
            <td class="text-center reda" th:utext="${form.displayNumber(form.getSumChildren().get('1').getNhanThuoc())}" ></td>
            <td class="text-center reda" th:utext="${form.displayNumber(form.getSumChildren().get('1').getUocTinh())}" ></td>
            <td class="text-center reda"></td>
        </tr>
        <tr class="text-bold">
            <td class="text-center" th:utext="${form.getSumChildren().get('2').batdaunhan == 0 ? '&nbsp;' : form.displayNumber(form.getSumChildren().get('2').batdaunhan)}" ></td>
            <td class="text-center" th:utext="${form.displayNumber(form.getSumChildren().get('2').dangnhan)}" ></td>
            <td class="text-center" th:utext="${form.displayNumber(form.getSumChildren().get('2').bonhan)}" ></td>
            <td class="text-center" th:utext="${form.displayNumber(form.getSumChildren().get('2').getNhanThuoc())}" ></td>
            <td class="text-center" th:utext="${form.displayNumber(form.getSumChildren().get('2').getUocTinh())}" ></td>
            <td class="text-center"></td>
        </tr>
        <th:block th:each="item : ${form.children}">
            <tr >
                <td class="text-center" rowspan="2" ></td>
                <td rowspan="2" th:text="${item.key}"></td>
                <td class="text-center reda" th:utext="${item.value.get('1').batdaunhan == 0 ? '&nbsp;' : form.displayNumber(item.value.get('1').batdaunhan)}" ></td>
                <td class="text-center reda" th:utext="${form.displayNumber(item.value.get('1').dangnhan)}" ></td>
                <td class="text-center reda" th:utext="${form.displayNumber(item.value.get('1').bonhan)}" ></td>
                <td class="text-center reda" th:utext="${form.displayNumber(item.value.get('1').getNhanThuoc())}" ></td>
                <td class="text-center reda" th:utext="${form.displayNumber(item.value.get('1').getUocTinh())}" ></td>
                <td class="text-center reda"></td>
            </tr>
            <tr>
                <td class="text-center" th:utext="${item.value.get('2').batdaunhan == 0 ? '&nbsp;' : form.displayNumber(item.value.get('2').batdaunhan)}" ></td>
                <td class="text-center" th:utext="${form.displayNumber(item.value.get('2').dangnhan)}" ></td>
                <td class="text-center" th:utext="${form.displayNumber(item.value.get('2').bonhan)}" ></td>
                <td class="text-center" th:utext="${form.displayNumber(item.value.get('2').getNhanThuoc())}" ></td>
                <td class="text-center" th:utext="${form.displayNumber(item.value.get('2').getUocTinh())}" ></td>
                <td></td>
            </tr>
        </th:block>
        <tr class="text-bold">
            <td class="text-center">III</td>
            <td>Báo cáo lây truyền Mẹ - con</td>
            <td class="text-center"></td>
            <td class="text-center"></td>
            <td class="text-center"></td>
            <td class="text-center"></td>
            <td class="text-center"></td>
            <td></td>
        </tr>
        <tr class="text-bold">
            <td class="text-center">IV</td>
            <td>Bệnh nhân phơi nhiễm</td>
            <td class="text-center"></td>
            <td class="text-center"></td>
            <td class="text-center"></td>
            <td class="text-center"></td>
            <td class="text-center"></td>
            <td></td>
        </tr>

        <tr>
            <td style="border: none"></td>
            <td style="border: none" colspan="7" class="text-bold" >(*): Nêu rõ lý do bỏ thuốc vào các mục tương ứng dưới đây</td>
            <!--<td style="border: none"></td>-->
        </tr>
        <tr>
            <td style="border: none"></td>
            <td style="border: none"></td>
            <td style="border: none" class="text-right" colspan="2">Chuyển đi</td>
            <td class="text-center" th:text="${form.displayNumber(form.getSumChildren().get('1').bonhan_chuyendi 
                                                    + form.getSumAdults().get('1').bonhan_chuyendi + form.getSumChildren().get('2').bonhan_chuyendi 
                                                    + form.getSumAdults().get('2').bonhan_chuyendi)}" ></td>
        </tr>
        <tr>
            <td style="border: none"></td>
            <td style="border: none"></td>
            <td style="border: none" class="text-right" colspan="2">Tử vong</td>
            <td class="text-center" th:text="${form.displayNumber(      form.getSumChildren().get('1').bonhan_tuvong 
                                                                    +   form.getSumAdults().get('1').bonhan_tuvong
                                                                    +   form.getSumChildren().get('2').bonhan_tuvong 
                                                                    +   form.getSumAdults().get('2').bonhan_tuvong)}" ></td>
        </tr>
        <tr>
            <td style="border: none"></td>
            <td style="border: none"></td>
            <td style="border: none" class="text-right" colspan="2">Bỏ trị</td>
            <td class="text-center" th:text="${form.displayNumber(      form.getSumChildren().get('1').bonhan_botri + 
                                                                        form.getSumAdults().get('1').bonhan_botri + form.getSumChildren().get('2').bonhan_botri + 
                                                                        form.getSumAdults().get('2').bonhan_botri
                                                                        )}" ></td>
        </tr>
        <tr>
            <td style="border: none"></td>
            <td style="border: none"></td>
            <td style="border: none" class="text-right" colspan="2">Mất dấu</td>
            <td class="text-center" th:text="${form.displayNumber(form.getSumChildren().get('1').bonhan_matdau + form.getSumAdults().get('1').bonhan_matdau
                + form.getSumChildren().get('2').bonhan_matdau + form.getSumAdults().get('2').bonhan_matdau)}" ></td>
        </tr>
        <tr>
            <td style="border: none"></td>
            <td style="border: none"></td>
            <td style="border: none" class="text-right" colspan="2">Chuyển phác đồ</td>
            <td class="text-center" th:text="${form.displayNumber(form.getSumChildren().get('1').bonhan_chuyenphacdo + form.getSumAdults().get('1').bonhan_chuyenphacdo 
                                                                    + form.getSumChildren().get('2').bonhan_chuyenphacdo + form.getSumAdults().get('2').bonhan_chuyenphacdo)}" ></td>
        </tr>
        <tr>
            <td style="border: none"></td>
            <td style="border: none" colspan="7" class="text-bold text-reda" >&nbsp;</td>
            <!--<td style="border: none"></td>-->
        </tr>
        <tr>
            <td style="border: none"></td>
            <td style="border: none" colspan="7" class="text-bold text-reda" >Lưu ý: Đối với mỗi phác đồ chia làm 2 dòng. Trong đó, dòng màu xanh: Có thẻ BHYT; dòng màu trắng: Không có thẻ BHYT</td>
            <!--<td style="border: none"></td>-->
        </tr>
        </tbody>
    </table>

</div>

<div data-th-fragment="insurance-table-report()" class="table-responsive">
    <table th:class="${isOpcManager ? 'table-report table table-bordered table-hover table-full': 'table-report table table-bordered table-hover'}" style="min-width: 100%;" >
        <thead>
            <tr>
                <th class="text-center vertical-align-middle success">STT</th>
                <th class="text-center vertical-align-middle success">Chỉ số báo cáo</th>
                <th class="text-center vertical-align-middle success" th:each="instance : ${form.table}" th:text="${form.table.size() == 1 && instance.key == currentUser.site.ID ? 'Số lượng': options.get('siteOpcFrom').getOrDefault(instance.key+'', '#'+instance.key)}" ></th>
                <th class="text-center vgertical-align-middle success" th:if="${isOpcManager}" >Tổng cộng</th>
            </tr>
        </thead>
        <tbody>
            <tr class="text-bold">
                <td class="text-center">I</td>
                <td class="text-left" th:colspan="${isOpcManager ? form.table.size() + 2 : form.table.size()+1}" >Số bệnh nhân sử dụng thẻ bảo hiểm y tế</td>
                <td class="text-center" th:each="instance : ${form.table}" style="display: none" ></td>
                <td class="text-center" th:if="${isOpcManager}" style="display: none" ></td>
            </tr>
            <tr>
                <td class="text-center">1</td>
                <td class="text-left">Số bệnh nhân có thẻ bảo hiểm y tế</td>
                <td class="text-center" th:each="instance : ${form.table}" th:text="${form.displayNumber(instance.value.getInsurance())}" ></td>
                <td class="text-center" th:if="${isOpcManager}" th:text="${form.displayNumber(form.sumTable.getInsurance())}" ></td>
            </tr>
            <tr>
                <td class="text-center">1.1</td>
                <td class="text-left">Hưởng 100% từ quỹ BHYT</td>
                <td class="text-center" th:each="instance : ${form.table}" th:text="${form.displayNumber(instance.value.insurance100)}" ></td>
                <td class="text-center" th:if="${isOpcManager}" th:text="${form.displayNumber(form.sumTable.insurance100)}" ></td>
            </tr>
            <tr>
                <td class="text-center">1.2</td>
                <td class="text-left">Hưởng 95% từ quỹ BHYT</td>
                <td class="text-center" th:each="instance : ${form.table}" th:text="${form.displayNumber(instance.value.insurance95)}" ></td>
                <td class="text-center" th:if="${isOpcManager}" th:text="${form.displayNumber(form.sumTable.insurance95)}" ></td>
            </tr>
            <tr>
                <td class="text-center">1.3</td>
                <td class="text-left">Hưởng 80% từ quỹ BHYT</td>
                <td class="text-center" th:each="instance : ${form.table}" th:text="${form.displayNumber(instance.value.insurance80)}" ></td>
                <td class="text-center" th:if="${isOpcManager}" th:text="${form.displayNumber(form.sumTable.insurance80)}" ></td>
            </tr>
            <tr>
                <td class="text-center">1.4</td>
                <td class="text-left">Khác</td>
                <td class="text-center" th:each="instance : ${form.table}" th:text="${form.displayNumber(instance.value.insuranceOther)}" ></td>
                <td class="text-center" th:if="${isOpcManager}" th:text="${form.displayNumber(form.sumTable.insuranceOther)}" ></td>
            </tr>
            <tr>
                <td class="text-center">2</td>
                <td class="text-left">Số bệnh nhân chưa có thẻ bảo hiểm y tế</td>
                <td class="text-center" th:each="instance : ${form.table}" th:text="${form.displayNumber(instance.value.insuranceNone)}" ></td>
                <td class="text-center" th:if="${isOpcManager}" th:text="${form.displayNumber(form.sumTable.insuranceNone)}" ></td>
            </tr>
            <tr class="text-bold">
                <td class="text-center">II</td>
                <td class="text-left" th:colspan="${isOpcManager ? form.table.size() + 2 : form.table.size()+1}" >Số thẻ BHYT sắp hết hạn</td>
                <td class="text-center" th:each="instance : ${form.table}" style="display: none" ></td>
                <td class="text-center" th:if="${isOpcManager}" style="display: none" ></td>
            </tr>
            <tr>
                <td class="text-center">1</td>
                <td class="text-left">Trong vòng 01 tháng tới</td>
                <td class="text-center" th:each="instance : ${form.table}" th:text="${form.displayNumber(instance.value.expire1)}" ></td>
                <td class="text-center" th:if="${isOpcManager}" th:text="${form.displayNumber(form.sumTable.expire1)}" ></td>
            </tr>
            <tr>
                <td class="text-center">2</td>
                <td class="text-left">Trong vòng 02 tháng tới</td>
                <td class="text-center" th:each="instance : ${form.table}" th:text="${form.displayNumber(instance.value.expire2)}" ></td>
                <td class="text-center" th:if="${isOpcManager}" th:text="${form.displayNumber(form.sumTable.expire2)}" ></td>
            </tr>
            <tr>
                <td class="text-center">3</td>
                <td class="text-left">Trong vòng 03 tháng tới</td>
                <td class="text-center" th:each="instance : ${form.table}" th:text="${form.displayNumber(instance.value.expire3)}" ></td>
                <td class="text-center" th:if="${isOpcManager}" th:text="${form.displayNumber(form.sumTable.expire3)}" ></td>
            </tr>
            <tr class="text-bold">
                <td class="text-center">III</td>
                <td class="text-left" th:colspan="${isOpcManager ? form.table.size() + 2 : form.table.size()+1}" >Số bệnh nhân có thẻ BHYT phân theo tuyến điều trị</td>
                <td class="text-center" th:each="instance : ${form.table}" style="display: none" ></td>
                <td class="text-center" th:if="${isOpcManager}" style="display: none" ></td>
            </tr>
            <tr>
                <td class="text-center">1</td>
                <td class="text-left">Đúng tuyến</td>
                <td class="text-center" th:each="instance : ${form.table}" th:text="${form.displayNumber(instance.value.dungtuyen)}" ></td>
                <td class="text-center" th:if="${isOpcManager}" th:text="${form.displayNumber(form.sumTable.dungtuyen)}" ></td>
            </tr>
            <tr>
                <td class="text-center">2</td>
                <td class="text-left">Trái tuyến</td>
                <td class="text-center" th:each="instance : ${form.table}" th:text="${form.displayNumber(instance.value.traituyen)}" ></td>
                <td class="text-center" th:if="${isOpcManager}" th:text="${form.displayNumber(form.sumTable.traituyen)}" ></td>
            </tr>
        </tbody>
    </table>
</div>

<div data-th-fragment="table-thuantap()" >
    <table class="table table-full table-report table-bordered table-hover" >
        <thead>
            <tr>
                <th class="text-center vertical-align-middle success" rowspan="4">TT</th>
                <th class="text-center vertical-align-middle success" rowspan="2">Năm báo cáo: <span th:text="${form.year}"></span></th>
                <th class="text-center vertical-align-middle success width-col" colspan="10">Tổng năm</th>
                <th class="text-center vertical-align-middle success width-col" colspan="10">Quý 1</th>
                <th class="text-center vertical-align-middle success width-col" colspan="10">Quý 2</th>
                <th class="text-center vertical-align-middle success width-col" colspan="10">Quý 3</th>
                <th class="text-center vertical-align-middle success width-col" colspan="10">Quý 4</th>
            </tr>
            <tr>
                <th class="text-center vertical-align-middle " colspan="5" th:text="${'Năm ' + (form.year - 1)}"></th>
                <th class="text-center vertical-align-middle " colspan="5" th:text="${'Năm ' + form.year}">Năm</th>
                <th class="text-center vertical-align-middle " colspan="5" th:text="${'Năm ' + (form.year - 1)}">Năm</th>
                <th class="text-center vertical-align-middle " colspan="5" th:text="${'Năm ' + form.year}">Năm</th>
                <th class="text-center vertical-align-middle " colspan="5" th:text="${'Năm ' + (form.year-1)}">Năm</th>
                <th class="text-center vertical-align-middle " colspan="5" th:text="${'Năm ' + form.year}">Năm</th>
                <th class="text-center vertical-align-middle " colspan="5" th:text="${'Năm ' + (form.year - 1)}">Năm</th>
                <th class="text-center vertical-align-middle " colspan="5" th:text="${'Năm ' + form.year}">Năm</th>
                <th class="text-center vertical-align-middle " colspan="5" th:text="${'Năm ' + (form.year - 1)}">Năm</th>
                <th class="text-center vertical-align-middle " colspan="5" th:text="${'Năm ' + form.year}">Năm</th>
            </tr>
            <tr>
                <th class="text-center vertical-align-middle " rowspan="2">Nhóm bệnh nhân theo dõi</th>

                <th class="text-center vertical-align-middle " colspan="2">BN < 15 tuổi</th>
                <th class="text-center vertical-align-middle " colspan="2">BN > 15 tuổi</th>
                <th class="text-center vertical-align-middle " rowspan="2">TỔNG</th>

                <th class="text-center vertical-align-middle " colspan="2">BN < 15 tuổi</th>
                <th class="text-center vertical-align-middle " colspan="2">BN > 15 tuổi</th>
                <th class="text-center vertical-align-middle " rowspan="2">TỔNG</th>

                <th class="text-center vertical-align-middle " colspan="2">BN < 15 tuổi</th>
                <th class="text-center vertical-align-middle " colspan="2">BN > 15 tuổi</th>
                <th class="text-center vertical-align-middle " rowspan="2">TỔNG</th>

                <th class="text-center vertical-align-middle " colspan="2">BN < 15 tuổi</th>
                <th class="text-center vertical-align-middle " colspan="2">BN > 15 tuổi</th>
                <th class="text-center vertical-align-middle " rowspan="2">TỔNG</th>

                <th class="text-center vertical-align-middle " colspan="2">BN < 15 tuổi</th>
                <th class="text-center vertical-align-middle " colspan="2">BN > 15 tuổi</th>
                <th class="text-center vertical-align-middle " rowspan="2">TỔNG</th>

                <th class="text-center vertical-align-middle " colspan="2">BN < 15 tuổi</th>
                <th class="text-center vertical-align-middle " colspan="2">BN > 15 tuổi</th>
                <th class="text-center vertical-align-middle " rowspan="2">TỔNG</th>

                <th class="text-center vertical-align-middle " colspan="2">BN < 15 tuổi</th>
                <th class="text-center vertical-align-middle " colspan="2">BN > 15 tuổi</th>
                <th class="text-center vertical-align-middle " rowspan="2">TỔNG</th>

                <th class="text-center vertical-align-middle " colspan="2">BN < 15 tuổi</th>
                <th class="text-center vertical-align-middle " colspan="2">BN > 15 tuổi</th>
                <th class="text-center vertical-align-middle " rowspan="2">TỔNG</th>

                <th class="text-center vertical-align-middle " colspan="2">BN < 15 tuổi</th>
                <th class="text-center vertical-align-middle " colspan="2">BN > 15 tuổi</th>
                <th class="text-center vertical-align-middle " rowspan="2">TỔNG</th>

                <th class="text-center vertical-align-middle " colspan="2">BN < 15 tuổi</th>
                <th class="text-center vertical-align-middle " colspan="2">BN > 15 tuổi</th>
                <th class="text-center vertical-align-middle " rowspan="2">TỔNG</th>
            </tr>
            <tr>
                <th class="text-center vertical-align-middle ">Nam</th>
                <th class="text-center vertical-align-middle ">Nữ</th>
                <th class="text-center vertical-align-middle ">Nam</th>
                <th class="text-center vertical-align-middle ">Nữ</th>

                <th class="text-center vertical-align-middle ">Nam</th>
                <th class="text-center vertical-align-middle ">Nữ</th>
                <th class="text-center vertical-align-middle ">Nam</th>
                <th class="text-center vertical-align-middle ">Nữ</th>

                <th class="text-center vertical-align-middle ">Nam</th>
                <th class="text-center vertical-align-middle ">Nữ</th>
                <th class="text-center vertical-align-middle ">Nam</th>
                <th class="text-center vertical-align-middle ">Nữ</th>

                <th class="text-center vertical-align-middle ">Nam</th>
                <th class="text-center vertical-align-middle ">Nữ</th>
                <th class="text-center vertical-align-middle ">Nam</th>
                <th class="text-center vertical-align-middle ">Nữ</th>

                <th class="text-center vertical-align-middle ">Nam</th>
                <th class="text-center vertical-align-middle ">Nữ</th>
                <th class="text-center vertical-align-middle ">Nam</th>
                <th class="text-center vertical-align-middle ">Nữ</th>

                <th class="text-center vertical-align-middle ">Nam</th>
                <th class="text-center vertical-align-middle ">Nữ</th>
                <th class="text-center vertical-align-middle ">Nam</th>
                <th class="text-center vertical-align-middle ">Nữ</th>

                <th class="text-center vertical-align-middle ">Nam</th>
                <th class="text-center vertical-align-middle ">Nữ</th>
                <th class="text-center vertical-align-middle ">Nam</th>
                <th class="text-center vertical-align-middle ">Nữ</th>

                <th class="text-center vertical-align-middle ">Nam</th>
                <th class="text-center vertical-align-middle ">Nữ</th>
                <th class="text-center vertical-align-middle ">Nam</th>
                <th class="text-center vertical-align-middle ">Nữ</th>

                <th class="text-center vertical-align-middle ">Nam</th>
                <th class="text-center vertical-align-middle ">Nữ</th>
                <th class="text-center vertical-align-middle ">Nam</th>
                <th class="text-center vertical-align-middle ">Nữ</th>

                <th class="text-center vertical-align-middle ">Nam</th>
                <th class="text-center vertical-align-middle ">Nữ</th>
                <th class="text-center vertical-align-middle ">Nam</th>
                <th class="text-center vertical-align-middle ">Nữ</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td class="text-center">1</td>
                <td>Số bệnh nhân <span class="text-bold">BẮT ĐẦU</span> điều trị ARV tại cơ sở <span class="text-bold">(Số bệnh nhân GỐC ban đầu)</span></td>
        <th:block th:each="instance : ${form.dataResults}">
            <th:block th:if="${instance.key == 'ct1'}">
                <th:block th:each="q : ${instance}">    

                    <!--Tổng-->
                    <td class="text-center cell-green" th:text="${q.value.get('total-' + (form.year -1) + '-1').underFifteen}"></td>    
                    <td class="text-center cell-green" th:text="${q.value.get('total-' + (form.year -1) + '-2').underFifteen}"></td>    
                    <td class="text-center cell-green" th:text="${q.value.get('total-' + (form.year -1) + '-1').overFifteen}"></td>    
                    <td class="text-center cell-green" th:text="${q.value.get('total-' + (form.year -1) + '-2').overFifteen}"></td>    
                    <td class="text-center cell-green" th:text="${q.value.get('total-' + (form.year-1) + '-1').sum + q.value.get('total-' + (form.year-1) + '-2').sum}"></td>
                    <td class="text-center" ></td>    
                    <td class="text-center" ></td>    
                    <td class="text-center" ></td>    
                    <td class="text-center" ></td>   
                    <td class="text-center" ></td>
                    <!--Quý 1-->
                    <td class="text-center cell-yellow" th:text="${q.value.get('0-' + (form.year-1) + '-1').underFifteen}"></td>    
                    <td class="text-center cell-yellow" th:text="${q.value.get('0-' + (form.year-1) + '-2').underFifteen}"></td>    
                    <td class="text-center cell-yellow" th:text="${q.value.get('0-' + (form.year-1) + '-1').overFifteen}"></td>    
                    <td class="text-center cell-yellow" th:text="${q.value.get('0-' + (form.year-1) + '-2').overFifteen}"></td>   
                    <td class="text-center cell-green" th:text="${q.value.get('0-' + (form.year-1) + '-1').sum + q.value.get('0-' + (form.year-1) + '-2').sum }"></td>
                    <td class="text-center" ></td>    
                    <td class="text-center" ></td>    
                    <td class="text-center" ></td>    
                    <td class="text-center" ></td>    
                    <td></td>
                    <!--Quý 2-->
                    <td class="text-center cell-yellow" th:text="${q.value.get('1-' + (form.year-1) + '-1').underFifteen}"></td>    
                    <td class="text-center cell-yellow" th:text="${q.value.get('1-' + (form.year-1) + '-2').underFifteen}"></td>    
                    <td class="text-center cell-yellow" th:text="${q.value.get('1-' + (form.year-1) + '-1').overFifteen}"></td>    
                    <td class="text-center cell-yellow" th:text="${q.value.get('1-' + (form.year-1) + '-2').overFifteen}"></td>   
                    <td class="text-center cell-green" th:text="${q.value.get('1-' + (form.year-1) + '-1').sum + q.value.get('1-' + (form.year-1) + '-2').sum}"></td>
                    <td></td>    
                    <td></td>    
                    <td></td>    
                    <td></td>    
                    <td></td>  
                    <!--Quý 3-->
                    <td class="text-center cell-yellow" th:text="${q.value.get('2-' + (form.year-1) + '-1').underFifteen}"></td>    
                    <td class="text-center cell-yellow" th:text="${q.value.get('2-' + (form.year-1) + '-2').underFifteen}"></td>    
                    <td class="text-center cell-yellow" th:text="${q.value.get('2-' + (form.year-1) + '-1').overFifteen}"></td>    
                    <td class="text-center cell-yellow" th:text="${q.value.get('2-' + (form.year-1) + '-2').overFifteen}"></td>   
                    <td class="text-center cell-green" th:text="${q.value.get('2-' + (form.year-1) + '-1').sum + q.value.get('2-' + (form.year-1) + '-2').sum}"></td>
                    <td></td>    
                    <td></td>    
                    <td></td>    
                    <td></td>    
                    <td></td>   
                    <!--Quý 4-->
                    <td class="text-center cell-yellow" th:text="${q.value.get('3-' + (form.year-1) + '-1').underFifteen}"></td>    
                    <td class="text-center cell-yellow" th:text="${q.value.get('3-' + (form.year-1) + '-2').underFifteen}"></td>    
                    <td class="text-center cell-yellow" th:text="${q.value.get('3-' + (form.year-1) + '-1').overFifteen}"></td>    
                    <td class="text-center cell-yellow" th:text="${q.value.get('3-' + (form.year-1) + '-2').overFifteen}"></td>   
                    <td class="text-center cell-green" th:text="${q.value.get('3-' + (form.year-1) + '-1').sum + q.value.get('3-' + (form.year-1) + '-2').sum}"></td>
                    <td></td>    
                    <td></td>    
                    <td></td>    
                    <td></td>    
                    <td></td>
                </th:block>  
            </th:block>
        </th:block>
        </tr>
        <tr>
            <td class="text-center">2</td>
            <td>Số bệnh nhân <span class="text-bold">CHUYỂN TỚI</span> trong giai đoạn theo dõi</td>
        <th:block th:each="instance : ${form.dataResults}">
            <th:block th:if="${instance.key == 'ct2'}">
                <th:block th:each="q : ${instance}">
                    <!--Tổng-->
                    <td class="text-center" ></td>    
                    <td class="text-center" ></td>    
                    <td class="text-center" ></td>    
                    <td class="text-center" ></td>    
                    <td class="text-center" ></td>
                    <td class="text-center cell-green" th:text="${q.value.get('total-' + (form.year) + '-1').underFifteen}"></td>    
                    <td class="text-center cell-green" th:text="${q.value.get('total-' + (form.year) + '-2').underFifteen}"></td>    
                    <td class="text-center cell-green" th:text="${q.value.get('total-' + (form.year) + '-1').overFifteen}"></td>    
                    <td class="text-center cell-green" th:text="${q.value.get('total-' + (form.year) + '-2').overFifteen}"></td>   
                    <td class="text-center cell-green" th:text="${q.value.get('total-' + (form.year) + '-1').sum + q.value.get('total-' + (form.year) + '-2').sum}"></td>
                    <!--Quý 1-->
                    <td class="text-center" ></td>    
                    <td class="text-center" ></td>    
                    <td class="text-center" ></td>    
                    <td class="text-center" ></td>    
                    <td></td>
                    <td class="text-center cell-yellow" th:text="${q.value.get('0-' + (form.year) + '-1').underFifteen}"></td>    
                    <td class="text-center cell-yellow" th:text="${q.value.get('0-' + (form.year) + '-2').underFifteen}"></td>    
                    <td class="text-center cell-yellow" th:text="${q.value.get('0-' + (form.year) + '-1').overFifteen}"></td>    
                    <td class="text-center cell-yellow" th:text="${q.value.get('0-' + (form.year) + '-2').overFifteen}"></td>   
                    <td class="text-center cell-green" th:text="${q.value.get('0-' + (form.year) + '-1').sum + q.value.get('0-' + (form.year) + '-2').sum}"></td>
                    <!--Quý 2-->
                    <td></td>    
                    <td></td>    
                    <td></td>    
                    <td></td>    
                    <td></td>  
                    <td class="text-center cell-yellow" th:text="${q.value.get('1-' + (form.year) + '-1').underFifteen}"></td>    
                    <td class="text-center cell-yellow" th:text="${q.value.get('1-' + (form.year) + '-2').underFifteen}"></td>    
                    <td class="text-center cell-yellow" th:text="${q.value.get('1-' + (form.year) + '-1').overFifteen}"></td>    
                    <td class="text-center cell-yellow" th:text="${q.value.get('1-' + (form.year) + '-2').overFifteen}"></td>   
                    <td class="text-center cell-green" th:text="${q.value.get('1-' + (form.year) + '-1').sum + q.value.get('1-' + (form.year) + '-2').sum}"></td>
                    <!--Quý 3-->
                    <td></td>    
                    <td></td>    
                    <td></td>    
                    <td></td>    
                    <td></td>  
                    <td class="text-center cell-yellow" th:text="${q.value.get('2-' + (form.year) + '-1').underFifteen}"></td>    
                    <td class="text-center cell-yellow" th:text="${q.value.get('2-' + (form.year) + '-2').underFifteen}"></td>    
                    <td class="text-center cell-yellow" th:text="${q.value.get('2-' + (form.year) + '-1').overFifteen}"></td>    
                    <td class="text-center cell-yellow" th:text="${q.value.get('2-' + (form.year) + '-2').overFifteen}"></td>   
                    <td class="text-center cell-green" th:text="${q.value.get('2-' + (form.year) + '-1').sum + q.value.get('2-' + (form.year) + '-2').sum}"></td>
                    <!--Quý 4-->
                    <td></td>    
                    <td></td>    
                    <td></td>    
                    <td></td>    
                    <td></td>  
                    <td class="text-center cell-yellow" th:text="${q.value.get('3-' + (form.year) + '-1').underFifteen}"></td>    
                    <td class="text-center cell-yellow" th:text="${q.value.get('3-' + (form.year) + '-2').underFifteen}"></td>    
                    <td class="text-center cell-yellow" th:text="${q.value.get('3-' + (form.year) + '-1').overFifteen}"></td>    
                    <td class="text-center cell-yellow" th:text="${q.value.get('3-' + (form.year) + '-2').overFifteen}"></td>   
                    <td class="text-center cell-green" th:text="${q.value.get('3-' + (form.year) + '-1').sum + q.value.get('3-' + (form.year) + '-2').sum}"></td>
                </th:block>
            </th:block>
        </th:block>
        </tr>
        <tr>
            <td class="text-center">3</td>
            <td>Số bệnh nhân <span class="text-bold">CHUYỂN ĐI</span> trong giai đoạn theo dõi</td>
        <th:block th:each="instance : ${form.dataResults}">
            <th:block th:if="${instance.key == 'ct3'}">
                <th:block th:each="q : ${instance}">
                    <!--Tổng-->
                    <td class="text-center" ></td>    
                    <td class="text-center" ></td>    
                    <td class="text-center" ></td>    
                    <td class="text-center" ></td>    
                    <td class="text-center" ></td>
                    <td class="text-center cell-green" th:text="${q.value.get('total-' + (form.year) + '-1').underFifteen}"></td>    
                    <td class="text-center cell-green" th:text="${q.value.get('total-' + (form.year) + '-2').underFifteen}"></td>    
                    <td class="text-center cell-green" th:text="${q.value.get('total-' + (form.year) + '-1').overFifteen}"></td>    
                    <td class="text-center cell-green" th:text="${q.value.get('total-' + (form.year) + '-2').overFifteen}"></td>   
                    <td class="text-center cell-green" th:text="${q.value.get('total-' + (form.year) + '-1').sum + q.value.get('total-' + (form.year) + '-2').sum}"></td>
                    <!--Quý 1-->
                    <td class="text-center" ></td>    
                    <td class="text-center" ></td>    
                    <td class="text-center" ></td>    
                    <td class="text-center" ></td>    
                    <td></td>
                    <td class="text-center cell-yellow" th:text="${q.value.get('0-' + (form.year) + '-1').underFifteen}"></td>    
                    <td class="text-center cell-yellow" th:text="${q.value.get('0-' + (form.year) + '-2').underFifteen}"></td>    
                    <td class="text-center cell-yellow" th:text="${q.value.get('0-' + (form.year) + '-1').overFifteen}"></td>    
                    <td class="text-center cell-yellow" th:text="${q.value.get('0-' + (form.year) + '-2').overFifteen}"></td>   
                    <td class="text-center cell-green" th:text="${q.value.get('0-' + (form.year) + '-1').sum + q.value.get('0-' + (form.year) + '-2').sum}"></td>
                    <!--Quý 2-->
                    <td></td>    
                    <td></td>    
                    <td></td>    
                    <td></td>    
                    <td></td>  
                    <td class="text-center cell-yellow" th:text="${q.value.get('1-' + (form.year) + '-1').underFifteen}"></td>    
                    <td class="text-center cell-yellow" th:text="${q.value.get('1-' + (form.year) + '-2').underFifteen}"></td>    
                    <td class="text-center cell-yellow" th:text="${q.value.get('1-' + (form.year) + '-1').overFifteen}"></td>    
                    <td class="text-center cell-yellow" th:text="${q.value.get('1-' + (form.year) + '-2').overFifteen}"></td>   
                    <td class="text-center cell-green" th:text="${q.value.get('1-' + (form.year) + '-1').sum + q.value.get('1-' + (form.year) + '-2').sum}"></td>
                    <!--Quý 3-->
                    <td></td>    
                    <td></td>    
                    <td></td>    
                    <td></td>    
                    <td></td>  
                    <td class="text-center cell-yellow" th:text="${q.value.get('2-' + (form.year) + '-1').underFifteen}"></td>    
                    <td class="text-center cell-yellow" th:text="${q.value.get('2-' + (form.year) + '-2').underFifteen}"></td>    
                    <td class="text-center cell-yellow" th:text="${q.value.get('2-' + (form.year) + '-1').overFifteen}"></td>    
                    <td class="text-center cell-yellow" th:text="${q.value.get('2-' + (form.year) + '-2').overFifteen}"></td>   
                    <td class="text-center cell-green" th:text="${q.value.get('2-' + (form.year) + '-1').sum + q.value.get('2-' + (form.year) + '-2').sum}"></td>
                    <!--Quý 4-->
                    <td></td>    
                    <td></td>    
                    <td></td>    
                    <td></td>    
                    <td></td>  
                    <td class="text-center cell-yellow" th:text="${q.value.get('3-' + (form.year) + '-1').underFifteen}"></td>    
                    <td class="text-center cell-yellow" th:text="${q.value.get('3-' + (form.year) + '-2').underFifteen}"></td>    
                    <td class="text-center cell-yellow" th:text="${q.value.get('3-' + (form.year) + '-1').overFifteen}"></td>    
                    <td class="text-center cell-yellow" th:text="${q.value.get('3-' + (form.year) + '-2').overFifteen}"></td>   
                    <td class="text-center cell-green" th:text="${q.value.get('3-' + (form.year) + '-1').sum + q.value.get('3-' + (form.year) + '-2').sum}"></td>
                </th:block>
            </th:block>
        </th:block>
        </tr>

        <tr>
            <td class="text-center">4</td>
            <td>Số bệnh nhân <span class="text-bold">THỰC TẾ</span> phải theo dõi <span class="text-bold"> (THỰC TẾ = BAN ĐẦU + CHUYỂN TỚI - CHUYỂN ĐI)</span></td>
        <th:block th:each="instance : ${form.dataResults}">
            <th:block th:if="${instance.key == 'ct4'}">
                <th:block th:each="q : ${instance}">
                    <!--Tổng-->
                    <td class="text-center cell-green" th:text="${q.value.get('total-' + (form.year -1) + '-1').underFifteen}"></td>    
                    <td class="text-center cell-green" th:text="${q.value.get('total-' + (form.year -1) + '-2').underFifteen}"></td>    
                    <td class="text-center cell-green" th:text="${q.value.get('total-' + (form.year -1) + '-1').overFifteen}"></td>    
                    <td class="text-center cell-green" th:text="${q.value.get('total-' + (form.year -1) + '-2').overFifteen}"></td>    
                    <td class="text-center cell-green" th:text="${q.value.get('total-' + (form.year-1) + '-1').sum + q.value.get('total-' + (form.year-1) + '-2').sum}"></td>
                    <td class="text-center cell-green" th:text="${q.value.get('total-' + (form.year) + '-1').underFifteen < 0 ? '(' + (q.value.get('total-' + (form.year) + '-1').underFifteen * -1) + ')' : q.value.get('total-' + (form.year) + '-1').underFifteen}"></td>    
                    <td class="text-center cell-green" th:text="${q.value.get('total-' + (form.year) + '-2').underFifteen < 0 ? '(' + ( q.value.get('total-' + (form.year) + '-2').underFifteen * -1) + ')' : q.value.get('total-' + (form.year) + '-2').underFifteen }"></td>    
                    <td class="text-center cell-green" th:text="${q.value.get('total-' + (form.year) + '-1').overFifteen < 0 ? '(' + (q.value.get('total-' + (form.year) + '-1').overFifteen * -1) + ')' : q.value.get('total-' + (form.year) + '-1').overFifteen}"></td>    
                    <td class="text-center cell-green" th:text="${q.value.get('total-' + (form.year) + '-2').overFifteen < 0 ? '(' + (q.value.get('total-' + (form.year) + '-2').overFifteen * -1) + ')' : q.value.get('total-' + (form.year) + '-2').overFifteen}"></td>   
                    <td class="text-center cell-green" th:text="${q.value.get('total-' + (form.year) + '-1').sum + q.value.get('total-' + (form.year) + '-2').sum < 0 ? '(' +((q.value.get('total-' + (form.year) + '-1').sum + q.value.get('total-' + (form.year) + '-2').sum) * -1)+ ')' : q.value.get('total-' + (form.year) + '-1').sum + q.value.get('total-' + (form.year) + '-2').sum}"></td>
                    <!--Quý 1-->
                    <td class="text-center cell-green" th:text="${q.value.get('0-' + (form.year -1) + '-1').underFifteen}"></td>    
                    <td class="text-center cell-green" th:text="${q.value.get('0-' + (form.year -1) + '-2').underFifteen}"></td>    
                    <td class="text-center cell-green" th:text="${q.value.get('0-' + (form.year -1) + '-1').overFifteen}"></td>    
                    <td class="text-center cell-green" th:text="${q.value.get('0-' + (form.year -1) + '-2').overFifteen}"></td>    
                    <td class="text-center cell-green" th:text="${q.value.get('0-' + (form.year-1) + '-1').sum + q.value.get('0-' + (form.year-1) + '-2').sum}"></td>
                    <td class="text-center cell-green" th:text="${q.value.get('0-' + (form.year) + '-1').underFifteen < 0 ? '(' + (q.value.get('0-' + (form.year) + '-1').underFifteen * -1) + ')' : q.value.get('0-' + (form.year) + '-1').underFifteen}"></td>    
                    <td class="text-center cell-green" th:text="${q.value.get('0-' + (form.year) + '-2').underFifteen < 0 ? '(' + ( q.value.get('0-' + (form.year) + '-2').underFifteen * -1) + ')' : q.value.get('0-' + (form.year) + '-2').underFifteen}"></td>    
                    <td class="text-center cell-green" th:text="${q.value.get('0-' + (form.year) + '-1').overFifteen < 0 ? '(' + (q.value.get('0-' + (form.year) + '-1').overFifteen *-1) + ')' : q.value.get('0-' + (form.year) + '-1').overFifteen}"></td>    
                    <td class="text-center cell-green" th:text="${q.value.get('0-' + (form.year) + '-2').overFifteen < 0 ? '(' + (q.value.get('0-' + (form.year) + '-2').overFifteen * -1) + ')' : q.value.get('0-' + (form.year) + '-2').overFifteen}"></td>   
                    <td class="text-center cell-green" th:text="${q.value.get('0-' + (form.year) + '-1').sum + q.value.get('0-' + (form.year) + '-2').sum < 0 ? '(' + ((q.value.get('0-' + (form.year) + '-1').sum + q.value.get('0-' + (form.year) + '-2').sum) * -1) + ')' : q.value.get('0-' + (form.year) + '-1').sum + q.value.get('0-' + (form.year) + '-2').sum}"></td>
                    <!--Quý 2-->
                    <td class="text-center cell-green" th:text="${q.value.get('1-' + (form.year -1) + '-1').underFifteen}"></td>    
                    <td class="text-center cell-green" th:text="${q.value.get('1-' + (form.year -1) + '-2').underFifteen}"></td>    
                    <td class="text-center cell-green" th:text="${q.value.get('1-' + (form.year -1) + '-1').overFifteen}"></td>    
                    <td class="text-center cell-green" th:text="${q.value.get('1-' + (form.year -1) + '-2').overFifteen}"></td>    
                    <td class="text-center cell-green" th:text="${q.value.get('1-' + (form.year-1) + '-1').sum + q.value.get('1-' + (form.year-1) + '-2').sum}"></td>
                    <td class="text-center cell-green" th:text="${q.value.get('1-' + (form.year) + '-1').underFifteen < 0 ? '(' + (q.value.get('1-' + (form.year) + '-1').underFifteen * -1) + ')' : q.value.get('1-' + (form.year) + '-1').underFifteen}"></td>    
                    <td class="text-center cell-green" th:text="${q.value.get('1-' + (form.year) + '-2').underFifteen < 0 ? '(' + (q.value.get('1-' + (form.year) + '-2').underFifteen * -1) + ')' : q.value.get('1-' + (form.year) + '-2').underFifteen}"></td>    
                    <td class="text-center cell-green" th:text="${q.value.get('1-' + (form.year) + '-1').overFifteen < 0 ? '(' + (q.value.get('1-' + (form.year) + '-1').overFifteen * -1) + ')' : q.value.get('1-' + (form.year) + '-1').overFifteen}"></td>    
                    <td class="text-center cell-green" th:text="${q.value.get('1-' + (form.year) + '-2').overFifteen < 0 ? '(' + (q.value.get('1-' + (form.year) + '-2').overFifteen * -1) + ')' : q.value.get('1-' + (form.year) + '-2').overFifteen}"></td>   
                    <td class="text-center cell-green" th:text="${q.value.get('1-' + (form.year) + '-1').sum + q.value.get('1-' + (form.year) + '-2').sum < 0 ? '(' + ((q.value.get('1-' + (form.year) + '-1').sum + q.value.get('1-' + (form.year) + '-2').sum) * -1) + ')' : q.value.get('1-' + (form.year) + '-1').sum + q.value.get('1-' + (form.year) + '-2').sum}"></td>
                    <!--Quý 3-->
                    <td class="text-center cell-green" th:text="${q.value.get('2-' + (form.year -1) + '-1').underFifteen}"></td>    
                    <td class="text-center cell-green" th:text="${q.value.get('2-' + (form.year -1) + '-2').underFifteen}"></td>    
                    <td class="text-center cell-green" th:text="${q.value.get('2-' + (form.year -1) + '-1').overFifteen}"></td>    
                    <td class="text-center cell-green" th:text="${q.value.get('2-' + (form.year -1) + '-2').overFifteen}"></td>    
                    <td class="text-center cell-green" th:text="${q.value.get('2-' + (form.year-1) + '-1').sum + q.value.get('2-' + (form.year-1) + '-2').sum}"></td>
                    <td class="text-center cell-green" th:text="${q.value.get('2-' + (form.year) + '-1').underFifteen <0 ? '(' + (q.value.get('2-' + (form.year) + '-1').underFifteen * -1) + ')' : q.value.get('2-' + (form.year) + '-1').underFifteen}"></td>    
                    <td class="text-center cell-green" th:text="${q.value.get('2-' + (form.year) + '-2').underFifteen < 0 ? '(' + (q.value.get('2-' + (form.year) + '-2').underFifteen * -1) + ')' : q.value.get('2-' + (form.year) + '-2').underFifteen}"></td>    
                    <td class="text-center cell-green" th:text="${q.value.get('2-' + (form.year) + '-1').overFifteen < 0 ? '(' + (q.value.get('2-' + (form.year) + '-1').overFifteen* -1) + ')' : q.value.get('2-' + (form.year) + '-1').overFifteen}"></td>    
                    <td class="text-center cell-green" th:text="${q.value.get('2-' + (form.year) + '-2').overFifteen < 0 ? '(' + (q.value.get('2-' + (form.year) + '-2').overFifteen * -1) + ')' : q.value.get('2-' + (form.year) + '-2').overFifteen}"></td>   
                    <td class="text-center cell-green" th:text="${q.value.get('2-' + (form.year) + '-1').sum + q.value.get('2-' + (form.year) + '-2').sum < 0 ? '(' + ((q.value.get('2-' + (form.year) + '-1').sum + q.value.get('2-' + (form.year) + '-2').sum) * -1) + ')' : q.value.get('2-' + (form.year) + '-1').sum + q.value.get('2-' + (form.year) + '-2').sum}"></td>
                    <!--Quý 4-->
                    <td class="text-center cell-green" th:text="${q.value.get('3-' + (form.year -1) + '-1').underFifteen}"></td>    
                    <td class="text-center cell-green" th:text="${q.value.get('3-' + (form.year -1) + '-2').underFifteen}"></td>    
                    <td class="text-center cell-green" th:text="${q.value.get('3-' + (form.year -1) + '-1').overFifteen}"></td>    
                    <td class="text-center cell-green" th:text="${q.value.get('3-' + (form.year -1) + '-2').overFifteen}"></td>    
                    <td class="text-center cell-green" th:text="${q.value.get('3-' + (form.year-1) + '-1').sum + q.value.get('3-' + (form.year-1) + '-2').sum}"></td>
                    <td class="text-center cell-green" th:text="${q.value.get('3-' + (form.year) + '-1').underFifteen < 0 ? '(' + (q.value.get('3-' + (form.year) + '-1').underFifteen * -1) + ')' : q.value.get('3-' + (form.year) + '-1').underFifteen}"></td>    
                    <td class="text-center cell-green" th:text="${q.value.get('3-' + (form.year) + '-2').underFifteen < 0 ? '(' + (q.value.get('3-' + (form.year) + '-2').underFifteen * -1) + ')' : q.value.get('3-' + (form.year) + '-2').underFifteen}"></td>    
                    <td class="text-center cell-green" th:text="${q.value.get('3-' + (form.year) + '-1').overFifteen < 0 ? '(' + (q.value.get('3-' + (form.year) + '-1').overFifteen * -1) + ')' : q.value.get('3-' + (form.year) + '-1').overFifteen}"></td>    
                    <td class="text-center cell-green" th:text="${q.value.get('3-' + (form.year) + '-2').overFifteen < 0 ? '(' + ( q.value.get('3-' + (form.year) + '-2').overFifteen * -1) + ')' : q.value.get('3-' + (form.year) + '-2').overFifteen}"></td>   
                    <td class="text-center cell-green" th:text="${q.value.get('3-' + (form.year) + '-1').sum + q.value.get('3-' + (form.year) + '-2').sum < 0 ? '(' +((q.value.get('3-' + (form.year) + '-1').sum + q.value.get('3-' + (form.year) + '-2').sum) * -1)+ ')' : q.value.get('3-' + (form.year) + '-1').sum + q.value.get('3-' + (form.year) + '-2').sum}"></td>
                </th:block>
            </th:block>
        </th:block>
        </tr>
        <tr>
            <td class="text-center">5</td>
            <td>Số bệnh nhân <span class="text-bold">CÒN SỐNG VÀ ĐANG TIẾP TỤC</span> điều trị tại thời điểm tháng thứ 12</td>
        <th:block th:each="instance : ${form.dataResults}">
            <th:block th:if="${instance.key == 'ct5'}">
                <th:block th:each="q : ${instance}">
                    <!--Tổng-->
                    <td class="text-center" ></td>    
                    <td class="text-center" ></td>    
                    <td class="text-center" ></td>    
                    <td class="text-center" ></td>    
                    <td class="text-center" ></td>
                    <td class="text-center cell-green" th:text="${q.value.get('total-' + (form.year) + '-1').underFifteen}"></td>    
                    <td class="text-center cell-green" th:text="${q.value.get('total-' + (form.year) + '-2').underFifteen}"></td>    
                    <td class="text-center cell-green" th:text="${q.value.get('total-' + (form.year) + '-1').overFifteen}"></td>    
                    <td class="text-center cell-green" th:text="${q.value.get('total-' + (form.year) + '-2').overFifteen}"></td>   
                    <td class="text-center cell-green" th:text="${q.value.get('total-' + (form.year) + '-1').sum + q.value.get('total-' + (form.year) + '-2').sum}"></td>
                    <!--Quý 1-->
                    <td class="text-center" ></td>    
                    <td class="text-center" ></td>    
                    <td class="text-center" ></td>    
                    <td class="text-center" ></td>    
                    <td></td>
                    <td class="text-center cell-green" th:text="${q.value.get('0-' + (form.year) + '-1').underFifteen}"></td>    
                    <td class="text-center cell-green" th:text="${q.value.get('0-' + (form.year) + '-2').underFifteen}"></td>    
                    <td class="text-center cell-green" th:text="${q.value.get('0-' + (form.year) + '-1').overFifteen}"></td>    
                    <td class="text-center cell-green" th:text="${q.value.get('0-' + (form.year) + '-2').overFifteen}"></td>   
                    <td class="text-center cell-green" th:text="${q.value.get('0-' + (form.year) + '-1').sum + q.value.get('0-' + (form.year) + '-2').sum}"></td>
                    <!--Quý 2-->
                    <td></td>    
                    <td></td>    
                    <td></td>    
                    <td></td>    
                    <td></td>  
                    <td class="text-center cell-green" th:text="${q.value.get('1-' + (form.year) + '-1').underFifteen}"></td>    
                    <td class="text-center cell-green" th:text="${q.value.get('1-' + (form.year) + '-2').underFifteen}"></td>    
                    <td class="text-center cell-green" th:text="${q.value.get('1-' + (form.year) + '-1').overFifteen}"></td>    
                    <td class="text-center cell-green" th:text="${q.value.get('1-' + (form.year) + '-2').overFifteen}"></td>   
                    <td class="text-center cell-green" th:text="${q.value.get('1-' + (form.year) + '-1').sum + q.value.get('1-' + (form.year) + '-2').sum}"></td>
                    <!--Quý 3-->
                    <td></td>    
                    <td></td>    
                    <td></td>    
                    <td></td>    
                    <td></td>  
                    <td class="text-center cell-green" th:text="${q.value.get('2-' + (form.year) + '-1').underFifteen}"></td>    
                    <td class="text-center cell-green" th:text="${q.value.get('2-' + (form.year) + '-2').underFifteen}"></td>    
                    <td class="text-center cell-green" th:text="${q.value.get('2-' + (form.year) + '-1').overFifteen}"></td>    
                    <td class="text-center cell-green" th:text="${q.value.get('2-' + (form.year) + '-2').overFifteen}"></td>   
                    <td class="text-center cell-green" th:text="${q.value.get('2-' + (form.year) + '-1').sum + q.value.get('2-' + (form.year) + '-2').sum}"></td>
                    <!--Quý 4-->
                    <td></td>    
                    <td></td>    
                    <td></td>    
                    <td></td>    
                    <td></td>  
                    <td class="text-center cell-green" th:text="${q.value.get('3-' + (form.year) + '-1').underFifteen}"></td>    
                    <td class="text-center cell-green" th:text="${q.value.get('3-' + (form.year) + '-2').underFifteen}"></td>    
                    <td class="text-center cell-green" th:text="${q.value.get('3-' + (form.year) + '-1').overFifteen}"></td>    
                    <td class="text-center cell-green" th:text="${q.value.get('3-' + (form.year) + '-2').overFifteen}"></td>   
                    <td class="text-center cell-green" th:text="${q.value.get('3-' + (form.year) + '-1').sum + q.value.get('3-' + (form.year) + '-2').sum}"></td>
                </th:block>
            </th:block>
        </th:block>
        </tr>
        <tr>
            <td class="text-center">6</td>
            <td>Số bệnh nhân phải<span class="text-bold"> NGỪNG/DỪNG</span> điều trị đến hết thời điểm tháng thứ 12</td>
        <th:block th:each="instance : ${form.dataResults}">
            <th:block th:if="${instance.key == 'ct6'}">
                <th:block th:each="q : ${instance}">
                    <!--Tổng-->
                    <td class="text-center" ></td>    
                    <td class="text-center" ></td>    
                    <td class="text-center" ></td>    
                    <td class="text-center" ></td>    
                    <td class="text-center" ></td>
                    <td class="text-center cell-green" th:text="${q.value.get('total-' + (form.year) + '-1').underFifteen}"></td>    
                    <td class="text-center cell-green" th:text="${q.value.get('total-' + (form.year) + '-2').underFifteen}"></td>    
                    <td class="text-center cell-green" th:text="${q.value.get('total-' + (form.year) + '-1').overFifteen}"></td>    
                    <td class="text-center cell-green" th:text="${q.value.get('total-' + (form.year) + '-2').overFifteen}"></td>   
                    <td class="text-center cell-green" th:text="${q.value.get('total-' + (form.year) + '-1').sum + q.value.get('total-' + (form.year) + '-2').sum}"></td>
                    <!--Quý 1-->
                    <td class="text-center" ></td>    
                    <td class="text-center" ></td>    
                    <td class="text-center" ></td>    
                    <td class="text-center" ></td>    
                    <td></td>
                    <td class="text-center cell-yellow" th:text="${q.value.get('0-' + (form.year) + '-1').underFifteen}"></td>    
                    <td class="text-center cell-yellow" th:text="${q.value.get('0-' + (form.year) + '-2').underFifteen}"></td>    
                    <td class="text-center cell-yellow" th:text="${q.value.get('0-' + (form.year) + '-1').overFifteen}"></td>    
                    <td class="text-center cell-yellow" th:text="${q.value.get('0-' + (form.year) + '-2').overFifteen}"></td>   
                    <td class="text-center cell-green" th:text="${q.value.get('0-' + (form.year) + '-1').sum + q.value.get('0-' + (form.year) + '-2').sum}"></td>
                    <!--Quý 2-->
                    <td></td>    
                    <td></td>    
                    <td></td>    
                    <td></td>    
                    <td></td>  
                    <td class="text-center cell-yellow" th:text="${q.value.get('1-' + (form.year) + '-1').underFifteen}"></td>    
                    <td class="text-center cell-yellow" th:text="${q.value.get('1-' + (form.year) + '-2').underFifteen}"></td>    
                    <td class="text-center cell-yellow" th:text="${q.value.get('1-' + (form.year) + '-1').overFifteen}"></td>    
                    <td class="text-center cell-yellow" th:text="${q.value.get('1-' + (form.year) + '-2').overFifteen}"></td>   
                    <td class="text-center cell-green" th:text="${q.value.get('1-' + (form.year) + '-1').sum + q.value.get('1-' + (form.year) + '-2').sum}"></td>
                    <!--Quý 3-->
                    <td></td>    
                    <td></td>    
                    <td></td>    
                    <td></td>    
                    <td></td>  
                    <td class="text-center cell-yellow" th:text="${q.value.get('2-' + (form.year) + '-1').underFifteen}"></td>    
                    <td class="text-center cell-yellow" th:text="${q.value.get('2-' + (form.year) + '-2').underFifteen}"></td>    
                    <td class="text-center cell-yellow" th:text="${q.value.get('2-' + (form.year) + '-1').overFifteen}"></td>    
                    <td class="text-center cell-yellow" th:text="${q.value.get('2-' + (form.year) + '-2').overFifteen}"></td>   
                    <td class="text-center cell-green" th:text="${q.value.get('2-' + (form.year) + '-1').sum + q.value.get('2-' + (form.year) + '-2').sum}"></td>
                    <!--Quý 4-->
                    <td></td>    
                    <td></td>    
                    <td></td>    
                    <td></td>    
                    <td></td>  
                    <td class="text-center cell-yellow" th:text="${q.value.get('3-' + (form.year) + '-1').underFifteen}"></td>    
                    <td class="text-center cell-yellow" th:text="${q.value.get('3-' + (form.year) + '-2').underFifteen}"></td>    
                    <td class="text-center cell-yellow" th:text="${q.value.get('3-' + (form.year) + '-1').overFifteen}"></td>    
                    <td class="text-center cell-yellow" th:text="${q.value.get('3-' + (form.year) + '-2').overFifteen}"></td>   
                    <td class="text-center cell-green" th:text="${q.value.get('3-' + (form.year) + '-1').sum + q.value.get('3-' + (form.year) + '-2').sum}"></td>
                </th:block>
            </th:block>
        </th:block> 
        </tr>
        <tr>
            <td class="text-center">7</td>
            <td>Số bệnh nhân <span class="text-bold">TỬ VONG</span></td>
        <th:block th:each="instance : ${form.dataResults}">
            <th:block th:if="${instance.key == 'ct7'}">
                <th:block th:each="q : ${instance}">
                    <!--Tổng-->
                    <td class="text-center" ></td>    
                    <td class="text-center" ></td>    
                    <td class="text-center" ></td>    
                    <td class="text-center" ></td>    
                    <td class="text-center" ></td>
                    <td class="text-center cell-green" th:text="${q.value.get('total-' + (form.year) + '-1').underFifteen}"></td>    
                    <td class="text-center cell-green" th:text="${q.value.get('total-' + (form.year) + '-2').underFifteen}"></td>    
                    <td class="text-center cell-green" th:text="${q.value.get('total-' + (form.year) + '-1').overFifteen}"></td>    
                    <td class="text-center cell-green" th:text="${q.value.get('total-' + (form.year) + '-2').overFifteen}"></td>   
                    <td class="text-center cell-green" th:text="${q.value.get('total-' + (form.year) + '-1').sum + q.value.get('total-' + (form.year) + '-2').sum}"></td>
                    <!--Quý 1-->
                    <td class="text-center" ></td>    
                    <td class="text-center" ></td>    
                    <td class="text-center" ></td>    
                    <td class="text-center" ></td>    
                    <td></td>
                    <td class="text-center cell-yellow" th:text="${q.value.get('0-' + (form.year) + '-1').underFifteen}"></td>    
                    <td class="text-center cell-yellow" th:text="${q.value.get('0-' + (form.year) + '-2').underFifteen}"></td>    
                    <td class="text-center cell-yellow" th:text="${q.value.get('0-' + (form.year) + '-1').overFifteen}"></td>    
                    <td class="text-center cell-yellow" th:text="${q.value.get('0-' + (form.year) + '-2').overFifteen}"></td>   
                    <td class="text-center cell-green" th:text="${q.value.get('0-' + (form.year) + '-1').sum + q.value.get('0-' + (form.year) + '-2').sum}"></td>
                    <!--Quý 2-->
                    <td></td>    
                    <td></td>    
                    <td></td>    
                    <td></td>    
                    <td></td>  
                    <td class="text-center cell-yellow" th:text="${q.value.get('1-' + (form.year) + '-1').underFifteen}"></td>  
                    <td class="text-center cell-yellow" th:text="${q.value.get('1-' + (form.year) + '-2').underFifteen}"></td>    
                    <td class="text-center cell-yellow" th:text="${q.value.get('1-' + (form.year) + '-1').overFifteen}"></td>    
                    <td class="text-center cell-yellow" th:text="${q.value.get('1-' + (form.year) + '-2').overFifteen}"></td>   
                    <td class="text-center cell-green" th:text="${q.value.get('1-' + (form.year) + '-1').sum + q.value.get('1-' + (form.year) + '-2').sum}"></td>
                    <!--Quý 3-->
                    <td></td>    
                    <td></td>    
                    <td></td>    
                    <td></td>    
                    <td></td>  
                    <td class="text-center cell-yellow" th:text="${q.value.get('2-' + (form.year) + '-1').underFifteen}"></td>    
                    <td class="text-center cell-yellow" th:text="${q.value.get('2-' + (form.year) + '-2').underFifteen}"></td>    
                    <td class="text-center cell-yellow" th:text="${q.value.get('2-' + (form.year) + '-1').overFifteen}"></td>    
                    <td class="text-center cell-yellow" th:text="${q.value.get('2-' + (form.year) + '-2').overFifteen}"></td>   
                    <td class="text-center cell-green" th:text="${q.value.get('2-' + (form.year) + '-1').sum + q.value.get('2-' + (form.year) + '-2').sum}"></td>
                    <!--Quý 4-->
                    <td></td>    
                    <td></td>    
                    <td></td>    
                    <td></td>    
                    <td></td>  
                    <td class="text-center cell-yellow" th:text="${q.value.get('3-' + (form.year) + '-1').underFifteen}"></td>    
                    <td class="text-center cell-yellow" th:text="${q.value.get('3-' + (form.year) + '-2').underFifteen}"></td>    
                    <td class="text-center cell-yellow" th:text="${q.value.get('3-' + (form.year) + '-1').overFifteen}"></td>    
                    <td class="text-center cell-yellow" th:text="${q.value.get('3-' + (form.year) + '-2').overFifteen}"></td>   
                    <td class="text-center cell-green" th:text="${q.value.get('3-' + (form.year) + '-1').sum + q.value.get('3-' + (form.year) + '-2').sum}"></td>
                </th:block>
            </th:block>
        </th:block>   
        </tr>
        <tr>
            <td class="text-center">8</td>
            <td>Số bệnh nhân <span class="text-bold">BỎ TRỊ</span> (không theo dõi được)</td>
        <th:block th:each="instance : ${form.dataResults}">
            <th:block th:if="${instance.key == 'ct8'}">
                <th:block th:each="q : ${instance}">
                    <!--Tổng-->
                    <td class="text-center" ></td>    
                    <td class="text-center" ></td>    
                    <td class="text-center" ></td>    
                    <td class="text-center" ></td>    
                    <td class="text-center" ></td>
                    <td class="text-center cell-green" th:text="${q.value.get('total-' + (form.year) + '-1').underFifteen}"></td>    
                    <td class="text-center cell-green" th:text="${q.value.get('total-' + (form.year) + '-2').underFifteen}"></td>    
                    <td class="text-center cell-green" th:text="${q.value.get('total-' + (form.year) + '-1').overFifteen}"></td>    
                    <td class="text-center cell-green" th:text="${q.value.get('total-' + (form.year) + '-2').overFifteen}"></td>   
                    <td class="text-center cell-green" th:text="${q.value.get('total-' + (form.year) + '-1').sum + q.value.get('total-' + (form.year) + '-2').sum}"></td>
                    <!--Quý 1-->
                    <td class="text-center" ></td>    
                    <td class="text-center" ></td>    
                    <td class="text-center" ></td>    
                    <td class="text-center" ></td>    
                    <td></td>
                    <td class="text-center cell-yellow" th:text="${q.value.get('0-' + (form.year) + '-1').underFifteen}"></td>    
                    <td class="text-center cell-yellow" th:text="${q.value.get('0-' + (form.year) + '-2').underFifteen}"></td>    
                    <td class="text-center cell-yellow" th:text="${q.value.get('0-' + (form.year) + '-1').overFifteen}"></td>    
                    <td class="text-center cell-yellow" th:text="${q.value.get('0-' + (form.year) + '-2').overFifteen}"></td>   
                    <td class="text-center cell-green" th:text="${q.value.get('0-' + (form.year) + '-1').sum + q.value.get('0-' + (form.year) + '-2').sum}"></td>
                    <!--Quý 2-->
                    <td></td>    
                    <td></td>    
                    <td></td>    
                    <td></td>    
                    <td></td>  
                    <td class="text-center cell-yellow" th:text="${q.value.get('1-' + (form.year) + '-1').underFifteen}"></td>    
                    <td class="text-center cell-yellow" th:text="${q.value.get('1-' + (form.year) + '-2').underFifteen}"></td>    
                    <td class="text-center cell-yellow" th:text="${q.value.get('1-' + (form.year) + '-1').overFifteen}"></td>    
                    <td class="text-center cell-yellow" th:text="${q.value.get('1-' + (form.year) + '-2').overFifteen}"></td>   
                    <td class="text-center cell-green" th:text="${q.value.get('1-' + (form.year) + '-1').sum + q.value.get('1-' + (form.year) + '-2').sum}"></td>
                    <!--Quý 3-->
                    <td></td>    
                    <td></td>    
                    <td></td>    
                    <td></td>    
                    <td></td>  
                    <td class="text-center cell-yellow" th:text="${q.value.get('2-' + (form.year) + '-1').underFifteen}"></td>    
                    <td class="text-center cell-yellow" th:text="${q.value.get('2-' + (form.year) + '-2').underFifteen}"></td>    
                    <td class="text-center cell-yellow" th:text="${q.value.get('2-' + (form.year) + '-1').overFifteen}"></td>    
                    <td class="text-center cell-yellow" th:text="${q.value.get('2-' + (form.year) + '-2').overFifteen}"></td>   
                    <td class="text-center cell-green" th:text="${q.value.get('2-' + (form.year) + '-1').sum + q.value.get('2-' + (form.year) + '-2').sum}"></td>
                    <!--Quý 4-->
                    <td></td>    
                    <td></td>    
                    <td></td>    
                    <td></td>    
                    <td></td>  
                    <td class="text-center cell-yellow" th:text="${q.value.get('3-' + (form.year) + '-1').underFifteen}"></td>    
                    <td class="text-center cell-yellow" th:text="${q.value.get('3-' + (form.year) + '-2').underFifteen}"></td>    
                    <td class="text-center cell-yellow" th:text="${q.value.get('3-' + (form.year) + '-1').overFifteen}"></td>    
                    <td class="text-center cell-yellow" th:text="${q.value.get('3-' + (form.year) + '-2').overFifteen}"></td>   
                    <td class="text-center cell-green" th:text="${q.value.get('3-' + (form.year) + '-1').sum + q.value.get('3-' + (form.year) + '-2').sum}"></td>
                </th:block>
            </th:block>
        </th:block>  
        </tr>
        </tbody>
    </table>
</div>

<div data-th-fragment="quick-treatment-table()">
    <table class="table-report table table-bordered table-hover" >
            <thead>
                <tr>
                    <th class="text-center vertical-align-middle success text-uppercase" rowspan="2">Số TT</th>
                    <th class="text-center vertical-align-middle success" rowspan="2">Cơ sở điều trị HIV/AIDS</th>
                    <th class="text-center vertical-align-middle success" rowspan="2">Số người nhiễm HIV đang được ĐT ARV</th>
                    <th class="text-center vertical-align-middle success" colspan="2">Điều trị ARV nhanh</th>
                    <th class="text-center vertical-align-middle success" rowspan="2">Số người bệnh đang  được cấp thuốc ARV tối đa 90 ngày trong kỳ báo cáo</th>
                    <th class="text-center vertical-align-middle success" rowspan="2">Số người được cấp ARV 3 tháng qua BHYT</th>
                    <th class="text-center vertical-align-middle success" rowspan="2">Ghi chú</th>
                </tr>
                <tr>
                    <th class="text-center vertical-align-middle success" >Số người được ĐT ARV nhanh trong kỳ báo cáo</th>
                    <th class="text-center vertical-align-middle success" >Số người được ĐT ARV trong ngày trong kỳ báo cáo</th>
                </tr>
            </thead>
            <tbody>
                <tr th:each="instance, iter : ${form.table}" th:if="${form.table != null}">
                    <td class="text-center">[[${iter.index + 1}]]</td>
                    <td class="text-left" th:text="${options.get('siteOpcFrom').getOrDefault(instance.siteID+'', '')}" ></td>
                    <td class="text-center" th:text="${form.displayNumber(instance.arvTreatment)}" ></td>
                    <td class="text-center" th:text="${form.displayNumber(instance.arvQuickTreatment)}" ></td>
                    <td class="text-center" th:text="${form.displayNumber(instance.arvTreatmentDuringDay)}" ></td>
                    <td class="text-center" th:text="${form.displayNumber(instance.receiveMedicineMax90)}" ></td>
                    <td class="text-center" th:text="${form.displayNumber(instance.receiveMedicineThreeMonth)}" ></td>
                    <td class="text-center" th:text="${instance.note}" ></td>
                </tr>
                <tr th:if="${isOpcManager && form.table != null }">
                    <td class="text-center text-bold" colspan="2"> Tổng số </td>
                    <td class="text-center" th:text="${form.numberFormat(form.sum.arvTreatment)}" ></td>
                    <td class="text-center" th:text="${form.numberFormat(form.sum.arvQuickTreatment)}" ></td>
                    <td class="text-center" th:text="${form.numberFormat(form.sum.arvTreatmentDuringDay)}" ></td>
                    <td class="text-center" th:text="${form.numberFormat(form.sum.receiveMedicineMax90)}" ></td>
                    <td class="text-center" th:text="${form.numberFormat(form.sum.receiveMedicineThreeMonth)}" ></td>
                    <td class="text-center" th:text="${form.sum.note}" ></td>
                </tr>
            </tbody>
    </table>
</div>
<div data-th-fragment="table-opc-pre-arv(dataPage)" >
    <table class="table-report table table-striped table-bordered table-hover table-full"
            data-scrollY="auto" ng-cloak>
       <thead>
           <tr>
               <th class="text-center vertical-align-middle success " rowspan="3">Số TT</th>
               <th class="text-center vertical-align-middle success " colspan="6" >Thông tin chung</th>
               <th class="text-center vertical-align-middle success " colspan="4" >Thời điểm đăng ký</th>
               <th class="text-center vertical-align-middle success " colspan="2" >Thời điểm điều trị bằng thuốc kháng HIV</th>
               <th class="text-center vertical-align-middle success " colspan="12">Theo dõi người bệnh trước điều trị bằng thuốc kháng HIV</th>
           </tr>
           <tr>
               <th class="text-center vertical-align-middle success " rowspan="2">Ngày đăng ký</th>
               <th class="text-center vertical-align-middle success " rowspan="2">Họ và tên</th>
               <th class="text-center vertical-align-middle success " rowspan="2">Mã số bệnh án</th>
               <th class="text-center vertical-align-middle success " colspan="2">Năm sinh</th>
               <th class="text-center vertical-align-middle success " rowspan="2">Địa chỉ</th>

               <th class="text-center vertical-align-middle success " rowspan="2">Tình trạng khi đăng ký</th>
               <th class="text-center vertical-align-middle success " rowspan="2">Giai đoạn LS</th>
               <th class="text-center vertical-align-middle success " rowspan="2">CD4 hoặc CD4%</th>
               <th class="text-center vertical-align-middle success " rowspan="2">Cân nặng /Chiều cao</th>
               <th class="text-center vertical-align-middle success " rowspan="2">Ngày đủ tiêu chuẩn điều trị</th>
               <th class="text-center vertical-align-middle success " rowspan="2">Ngày bắt đầu điều trị</th>

               <th class="text-center vertical-align-middle success " colspan="4">Năm <span th:utext="${T(Integer).parseInt(form.year)}"></span></th>
               <th class="text-center vertical-align-middle success " colspan="4">Năm <span th:utext="${T(Integer).parseInt(form.year) + 1}"></span></th>
               <th class="text-center vertical-align-middle success " colspan="4">Năm <span th:utext="${T(Integer).parseInt(form.year) + 2}"></span></th>

           </tr>
           <tr>
               <th class="text-center vertical-align-middle success ">Nam</th>
               <th class="text-center vertical-align-middle success ">Nữ</th>

               <th class="text-center vertical-align-middle success ">Quý 1</th>
               <th class="text-center vertical-align-middle success ">Quý 2</th>
               <th class="text-center vertical-align-middle success ">Quý 3</th>
               <th class="text-center vertical-align-middle success ">Quý 4</th>

               <th class="text-center vertical-align-middle success ">Quý 1</th>
               <th class="text-center vertical-align-middle success ">Quý 2</th>
               <th class="text-center vertical-align-middle success ">Quý 3</th>
               <th class="text-center vertical-align-middle success ">Quý 4</th>

               <th class="text-center vertical-align-middle success ">Quý 1</th>
               <th class="text-center vertical-align-middle success ">Quý 2</th>
               <th class="text-center vertical-align-middle success ">Quý 3</th>
               <th class="text-center vertical-align-middle success ">Quý 4</th>

           </tr>
           <tr>
               <td class="text-center vertical-align-middle" >(1)</td>
               <td class="text-center vertical-align-middle" >(2)</td>
               <td class="text-center vertical-align-middle" >(3)</td>
               <td class="text-center vertical-align-middle" >(4)</td>
               <td class="text-center vertical-align-middle" >(5)</td>
               <td class="text-center vertical-align-middle" >(6)</td>
               <td class="text-center vertical-align-middle" >(7)</td>
               <td class="text-center vertical-align-middle" >(8)</td>
               <td class="text-center vertical-align-middle" >(9)</td>
               <td class="text-center vertical-align-middle" >(10)</td>
               <td class="text-center vertical-align-middle" >(11)</td>
               <td class="text-center vertical-align-middle" >(12)</td>
               <td class="text-center vertical-align-middle" >(13)</td>
               <td class="text-center vertical-align-middle" >(14)</td>
               <td class="text-center vertical-align-middle" >(15)</td>
               <td class="text-center vertical-align-middle" >(16)</td>
               <td class="text-center vertical-align-middle" >(17)</td>
               <td class="text-center vertical-align-middle" >(18)</td>
               <td class="text-center vertical-align-middle" >(19)</td>
               <td class="text-center vertical-align-middle" >(20)</td>
               <td class="text-center vertical-align-middle" >(21)</td>
               <td class="text-center vertical-align-middle" >(22)</td>
               <td class="text-center vertical-align-middle" >(23)</td>
               <td class="text-center vertical-align-middle" >(24)</td>
               <td class="text-center vertical-align-middle" >(25)</td>
           </tr>
       </thead>
       <tbody th:if="${dataPage.data != null}" >
           <tr th:each="item, iter : ${dataPage.data}">
               <td rowspan="2" th:if="${item.arvID != null}" class="text-center r-min-height" ><span th:utext="${form.order.get(iter.index)}" ></span></td>
               <td rowspan="2" th:if="${item.arvID != null}" class="text-center r-min-height" ><span th:text="${item.registrationTime}"></span></td>
               <td rowspan="2" th:if="${item.arvID != null}" class=""><span th:text="${item.fullName}"></span></td>
               <td rowspan="2" th:if="${item.arvID != null}" class="text-center r-min-height"><span th:text="${item.code}"></span></td>
               <td rowspan="2" th:if="${item.arvID != null}" class="text-center r-min-height"><span th:utext="${(item.genderID != '' && item.genderID != null && item.genderID == '1') ? item.dob : ''}"></span></td>
               <td rowspan="2" th:if="${item.arvID != null}" class="text-center r-min-height"><span th:utext="${(item.genderID != '' && item.genderID != null &&  item.genderID == '2')? item.dob : ''}"></span></td>
               <td rowspan="2" th:if="${item.arvID != null}" class="" ><span th:text="${item.permanentAddressFull}"></span></td>
               <td rowspan="2" th:if="${item.arvID != null}" class="text-center r-min-height" th:text="${item.registrationStatus == null || item.registrationStatus == '' ? '' : options.get(T(com.gms.entity.db.ParameterEntity).ARV_REGISTRATION_STATUS).get(item.registrationStatus)}"></td>
               <td rowspan="2" th:if="${item.arvID != null}" class="text-center r-min-height" th:text="${item.clinicalStage == null || item.clinicalStage == '' ? '' : options.get(T(com.gms.entity.db.ParameterEntity).CLINICAL_STAGE).get(item.clinicalStage + '')}"></td>
               <td rowspan="2" th:if="${item.arvID != null}" class="text-center r-min-height"><span  th:text="${item.cd4}"></span></td>
               <td th:if="${item.arvID != null}" class="text-center r-min-height"><span th:utext="${item.patientWeight == 0 ? '&nbsp;' : item.patientWeight}"></span></td>
               <td rowspan="2" th:if="${item.arvID != null}" class="text-center r-min-height" ></td>
               <td rowspan="2" th:if="${item.arvID != null}" class="text-center r-min-height" th:text="${item.treatmentTime}"></td>

               <td th:if="${item.arvID != null}" class="text-center r-min-height">
                   <th:block th:if="${item.childs != null && item.childs.size() > 0}" th:each="child : ${item.childs}">
                       <span th:if="${child.year == (T(Integer).parseInt(form.year) + '') && child.quarter == '1' && (child.type == 'cd4' || child.type == 'CĐ' || child.type == 'TV' || child.type == 'B')}">
                           <span class="text-bold text-uppercase" th:text="${child.type}"></span><br>
                           (<span th:text="${child.time}"></span><span th:if="${child.type != 'cd4'}">)</span><span th:if="${child.type == 'cd4' && child.result == ''}">)</span><br>
                           <span th:if="${child.type == 'cd4'}" th:text="${child.result}"></span><span th:if="${child.type == 'cd4' && child.result != ''}">)<br/></span>
                       </span>
                   </th:block>
               </td>
               <td th:if="${item.arvID != null}" class="text-center r-min-height">
                   <th:block th:if="${item.childs != null && item.childs.size() > 0}" th:each="child : ${item.childs}">
                       <span th:if="${child.year == (T(Integer).parseInt(form.year) + '') && child.quarter == '2' && (child.type == 'cd4' || child.type == 'CĐ' || child.type == 'TV' || child.type == 'B')}">
                           <span class="text-bold text-uppercase" th:text="${child.type}"></span><br>
                           (<span th:text="${child.time}"></span><span th:if="${child.type != 'cd4'}">)</span><span th:if="${child.type == 'cd4' && child.result == ''}">)</span><br>
                           <span th:if="${child.type == 'cd4'}" th:text="${child.result}"></span><span th:if="${child.type == 'cd4' && child.result != ''}">)<br/></span>
                       </span>
                   </th:block>
               </td>
               <td th:if="${item.arvID != null}" class="text-center r-min-height">
                   <th:block th:if="${item.childs != null && item.childs.size() > 0}" th:each="child : ${item.childs}">
                       <span th:if="${child.year == (T(Integer).parseInt(form.year) + '') && child.quarter == '3' && (child.type == 'cd4' || child.type == 'CĐ' || child.type == 'TV' || child.type == 'B')}">
                           <span class="text-bold text-uppercase" th:text="${child.type}"></span><br>
                           (<span th:text="${child.time}"></span><span th:if="${child.type != 'cd4'}">)</span><span th:if="${child.type == 'cd4' && child.result == ''}">)</span><br>
                           <span th:if="${child.type == 'cd4'}" th:text="${child.result}"></span><span th:if="${child.type == 'cd4' && child.result != ''}">)<br/></span>
                       </span>
                   </th:block>
               </td>
               <td th:if="${item.arvID != null}" class="text-center r-min-height">
                   <th:block th:if="${item.childs != null && item.childs.size() > 0}" th:each="child : ${item.childs}">
                       <span th:if="${child.year == (T(Integer).parseInt(form.year) + '') && child.quarter == '4' && (child.type == 'cd4' || child.type == 'CĐ' || child.type == 'TV' || child.type == 'B')}">
                           <span class="text-bold text-uppercase" th:text="${child.type}"></span><br>
                           (<span th:text="${child.time}"></span><span th:if="${child.type != 'cd4'}">)</span><span th:if="${child.type == 'cd4' && child.result == ''}">)</span><br>
                           <span th:if="${child.type == 'cd4'}" th:text="${child.result}"></span><span th:if="${child.type == 'cd4' && child.result != ''}">)<br/></span>
                       </span>
                   </th:block>
               </td>
               <td th:if="${item.arvID != null}" class="text-center r-min-height">
                   <th:block th:if="${item.childs != null && item.childs.size() > 0}" th:each="child : ${item.childs}">
                       <span th:if="${child.year == (T(Integer).parseInt(form.year) + 1 + '') && child.quarter == '1' && (child.type == 'cd4' || child.type == 'CĐ' || child.type == 'TV' || child.type == 'B')}">
                           <span class="text-bold text-uppercase" th:text="${child.type}"></span><br>
                           (<span th:text="${child.time}"></span><span th:if="${child.type != 'cd4'}">)</span><span th:if="${child.type == 'cd4' && child.result == ''}">)</span><br>
                           <span th:if="${child.type == 'cd4'}" th:text="${child.result}"></span><span th:if="${child.type == 'cd4' && child.result != ''}">)<br/></span>
                       </span>
                   </th:block>
               </td>
               <td th:if="${item.arvID != null}" class="text-center r-min-height">
                   <th:block th:if="${item.childs != null && item.childs.size() > 0}" th:each="child : ${item.childs}">
                       <span th:if="${child.year == (T(Integer).parseInt(form.year) + 1 + '') && child.quarter == '2' && (child.type == 'cd4' || child.type == 'CĐ' || child.type == 'TV' || child.type == 'B')}">
                           <span class="text-bold text-uppercase" th:text="${child.type}"></span><br>
                           (<span th:text="${child.time}"></span><span th:if="${child.type != 'cd4'}">)</span><span th:if="${child.type == 'cd4' && child.result == ''}">)</span><br>
                           <span th:if="${child.type == 'cd4'}" th:text="${child.result}"></span><span th:if="${child.type == 'cd4' && child.result != ''}">)<br/></span>
                       </span>
                   </th:block>
               </td>
               <td th:if="${item.arvID != null}" class="text-center r-min-height">
                   <th:block th:if="${item.childs != null && item.childs.size() > 0}" th:each="child : ${item.childs}">
                       <span th:if="${child.year == (T(Integer).parseInt(form.year) + 1 + '') && child.quarter == '3' && (child.type == 'cd4' || child.type == 'CĐ' || child.type == 'TV' || child.type == 'B')}">
                           <span class="text-bold text-uppercase" th:text="${child.type}"></span><br>
                           (<span th:text="${child.time}"></span><span th:if="${child.type != 'cd4'}">)</span><span th:if="${child.type == 'cd4' && child.result == ''}">)</span><br>
                           <span th:if="${child.type == 'cd4'}" th:text="${child.result}"></span><span th:if="${child.type == 'cd4' && child.result != ''}">)<br/></span>
                       </span>
                   </th:block>
               </td>
               <td th:if="${item.arvID != null}" class="text-center r-min-height">
                   <th:block th:if="${item.childs != null && item.childs.size() > 0}" th:each="child : ${item.childs}">
                       <span th:if="${child.year == (T(Integer).parseInt(form.year) + 1 + '') && child.quarter == '4' && (child.type == 'cd4' || child.type == 'CĐ' || child.type == 'TV' || child.type == 'B')}">
                           <span class="text-bold text-uppercase" th:text="${child.type}"></span><br>
                           (<span th:text="${child.time}"></span><span th:if="${child.type != 'cd4'}">)</span><span th:if="${child.type == 'cd4' && child.result == ''}">)</span><br>
                           <span th:if="${child.type == 'cd4'}" th:text="${child.result}"></span><span th:if="${child.type == 'cd4' && child.result != ''}">)<br/></span>
                       </span>
                   </th:block>
               </td>
               <td th:if="${item.arvID != null}" class="text-center r-min-height">
                   <th:block th:if="${item.childs != null && item.childs.size() > 0}" th:each="child : ${item.childs}">
                       <span th:if="${child.year == (T(Integer).parseInt(form.year) + 2 + '') && child.quarter == '1' && (child.type == 'cd4' || child.type == 'CĐ' || child.type == 'TV' || child.type == 'B')}">
                           <span class="text-bold text-uppercase" th:text="${child.type}"></span><br>
                           (<span th:text="${child.time}"></span><span th:if="${child.type != 'cd4'}">)</span><span th:if="${child.type == 'cd4' && child.result == ''}">)</span><br>
                           <span th:if="${child.type == 'cd4'}" th:text="${child.result}"></span><span th:if="${child.type == 'cd4' && child.result != ''}">)<br/></span>
                       </span>
                   </th:block>
               </td>
               <td th:if="${item.arvID != null}" class="text-center r-min-height">
                   <th:block th:if="${item.childs != null && item.childs.size() > 0}" th:each="child : ${item.childs}">
                       <span th:if="${child.year == (T(Integer).parseInt(form.year) + 2 + '') && child.quarter == '2' && (child.type == 'cd4' || child.type == 'CĐ' || child.type == 'TV' || child.type == 'B')}">
                           <span class="text-bold text-uppercase" th:text="${child.type}"></span><br>
                           (<span th:text="${child.time}"></span><span th:if="${child.type != 'cd4'}">)</span><span th:if="${child.type == 'cd4' && child.result == ''}">)</span><br>
                           <span th:if="${child.type == 'cd4'}" th:text="${child.result}"></span><span th:if="${child.type == 'cd4' && child.result != ''}">)<br/></span>
                       </span>
                   </th:block>
               </td>
               <td th:if="${item.arvID != null}" class="text-center r-min-height">
                   <th:block th:if="${item.childs != null && item.childs.size() > 0}" th:each="child : ${item.childs}">
                       <span th:if="${child.year == (T(Integer).parseInt(form.year) + 2 + '') && child.quarter == '3' && (child.type == 'cd4' || child.type == 'CĐ' || child.type == 'TV' || child.type == 'B')}">
                           <span class="text-bold text-uppercase" th:text="${child.type}"></span><br>
                           (<span th:text="${child.time}"></span><span th:if="${child.type != 'cd4'}">)</span><span th:if="${child.type == 'cd4' && child.result == ''}">)</span><br>
                           <span th:if="${child.type == 'cd4'}" th:text="${child.result}"></span><span th:if="${child.type == 'cd4' && child.result != ''}">)<br/></span>
                       </span>
                   </th:block>
               </td>
               <td th:if="${item.arvID != null}" class="text-center r-min-height">
                   <th:block th:if="${item.childs != null && item.childs.size() > 0}" th:each="child : ${item.childs}">
                       <span th:if="${child.year == (T(Integer).parseInt(form.year) + 2 + '') && child.quarter == '4' && (child.type == 'cd4' || child.type == 'CĐ' || child.type == 'TV' || child.type == 'B')}">
                           <span class="text-bold text-uppercase" th:text="${child.type}"></span><br>
                           (<span th:text="${child.time}"></span><span th:if="${child.type != 'cd4'}">)</span><span th:if="${child.type == 'cd4' && child.result == ''}">)</span><br>
                           <span th:if="${child.type == 'cd4'}" th:text="${child.result}"></span><span th:if="${child.type == 'cd4' && child.result != ''}">)<br/></span>
                       </span>
                   </th:block>
               </td>

               <td style="display: none;" th:if="${item.arvID == null}" class="text-center r-min-height" ></td>
               <td style="display: none;" th:if="${item.arvID == null}" class="text-center r-min-height" ></td>
               <td style="display: none;" th:if="${item.arvID == null}" class="text-center r-min-height" ></td>
               <td style="display: none;" th:if="${item.arvID == null}" class="text-center r-min-height" ></td>
               <td style="display: none;" th:if="${item.arvID == null}" class="text-center r-min-height" ></td>
               <td style="display: none;" th:if="${item.arvID == null}" class="text-center r-min-height" ></td>
               <td style="display: none;" th:if="${item.arvID == null}" class="text-center r-min-height" ></td>
               <td style="display: none;" th:if="${item.arvID == null}" class="text-center r-min-height" ></td>
               <td style="display: none;" th:if="${item.arvID == null}" class="text-center r-min-height" ></td>
               <td style="display: none;" th:if="${item.arvID == null}" class="text-center r-min-height" ></td>
               <td th:if="${item.arvID == null}" class="text-center r-min-height bg-gray-active color-palette" ><span th:utext="${item.patientHeight == 0 ? '&nbsp;' : item.patientHeight}"></span></td>
               <td style="display: none;" th:if="${item.arvID == null}" class="text-center r-min-height" ></td>
               <td style="display: none;" th:if="${item.arvID == null}" class="text-center r-min-height" ></td>
               <td th:if="${item.arvID == null}" class="text-center r-min-height bg-gray-active color-palette" >
                   <th:block th:if="${item.childs != null && item.childs.size() > 0}" th:each="child : ${item.childs}">
                       <span th:if="${child.year == (T(Integer).parseInt(form.year) + '') && child.quarter == '1' && (child.type != 'cd4' && child.type != 'CĐ' && child.type != 'TV' && child.type != 'B')}">
                           <span class="text-bold text-uppercase" th:text="${child.type}"></span><br>
                           (<span th:text="${child.time}"></span>)<br>
                       </span>
                   </th:block>
               </td>
               <td th:if="${item.arvID == null}" class="text-center r-min-height bg-gray-active color-palette" >
                   <th:block th:if="${item.childs != null && item.childs.size() > 0}" th:each="child : ${item.childs}">
                       <span th:if="${child.year == (T(Integer).parseInt(form.year) + '') && child.quarter == '2' && (child.type != 'cd4' && child.type != 'CĐ' && child.type != 'TV' && child.type != 'B')}">
                           <span class="text-bold text-uppercase" th:text="${child.type}"></span><br>
                           (<span th:text="${child.time}"></span>)<br>
                       </span>
                   </th:block>
               </td>
               <td th:if="${item.arvID == null}" class="text-center r-min-height bg-gray-active color-palette" >
                   <th:block th:if="${item.childs != null && item.childs.size() > 0}" th:each="child : ${item.childs}">
                       <span th:if="${child.year == (T(Integer).parseInt(form.year) + '') && child.quarter == '3' && (child.type != 'cd4' && child.type != 'CĐ' && child.type != 'TV' && child.type != 'B')}">
                           <span class="text-bold text-uppercase" th:text="${child.type}"></span><br>
                           (<span th:text="${child.time}"></span>)<br>
                       </span>
                   </th:block>
               </td>
               <td th:if="${item.arvID == null}" class="text-center r-min-height bg-gray-active color-palette" >
                   <th:block th:if="${item.childs != null && item.childs.size() > 0}" th:each="child : ${item.childs}">
                       <span th:if="${child.year == (T(Integer).parseInt(form.year) + '') && child.quarter == '4' && (child.type != 'cd4' && child.type != 'CĐ' && child.type != 'TV' && child.type != 'B')}">
                           <span class="text-bold text-uppercase" th:text="${child.type}"></span><br>
                           (<span th:text="${child.time}"></span>)<br>
                       </span>
                   </th:block>
               </td>
               <td th:if="${item.arvID == null}" class="text-center r-min-height bg-gray-active color-palette" >
                   <th:block th:if="${item.childs != null && item.childs.size() > 0}" th:each="child : ${item.childs}">
                       <span th:if="${child.year == (T(Integer).parseInt(form.year) + 1 + '') && child.quarter == '1' && (child.type != 'cd4' && child.type != 'CĐ' && child.type != 'TV' && child.type != 'B')}">
                           <span class="text-bold text-uppercase" th:text="${child.type}"></span><br>
                           (<span th:text="${child.time}"></span>)<br>
                       </span>
                   </th:block>
               </td>
               <td th:if="${item.arvID == null}" class="text-center r-min-height bg-gray-active color-palette" >
                   <th:block th:if="${item.childs != null && item.childs.size() > 0}" th:each="child : ${item.childs}">
                       <span th:if="${child.year == (T(Integer).parseInt(form.year) + 1 + '') && child.quarter == '2' && (child.type != 'cd4' && child.type != 'CĐ' && child.type != 'TV' && child.type != 'B')}">
                           <span class="text-bold text-uppercase" th:text="${child.type}"></span><br>
                           (<span th:text="${child.time}"></span>)<br>
                       </span>
                   </th:block>
               </td>
               <td th:if="${item.arvID == null}" class="text-center r-min-height bg-gray-active color-palette" >
                   <th:block th:if="${item.childs != null && item.childs.size() > 0}" th:each="child : ${item.childs}">
                       <span th:if="${child.year == (T(Integer).parseInt(form.year) + 1 + '') && child.quarter == '3' && (child.type != 'cd4' && child.type != 'CĐ' && child.type != 'TV' && child.type != 'B')}">
                           <span class="text-bold text-uppercase" th:text="${child.type}"></span><br>
                           (<span th:text="${child.time}"></span>)<br>
                       </span>
                   </th:block>
               </td>
               <td th:if="${item.arvID == null}" class="text-center r-min-height bg-gray-active color-palette" >
                   <th:block th:if="${item.childs != null && item.childs.size() > 0}" th:each="child : ${item.childs}">
                       <span th:if="${child.year == (T(Integer).parseInt(form.year) + 1 + '') && child.quarter == '4' && (child.type != 'cd4' && child.type != 'CĐ' && child.type != 'TV' && child.type != 'B')}">
                           <span class="text-bold text-uppercase" th:text="${child.type}"></span><br>
                           (<span th:text="${child.time}"></span>)<br>
                       </span>
                   </th:block>
               </td>
               <td th:if="${item.arvID == null}" class="text-center r-min-height bg-gray-active color-palette" >
                   <th:block th:if="${item.childs != null && item.childs.size() > 0}" th:each="child : ${item.childs}">
                       <span th:if="${child.year == (T(Integer).parseInt(form.year) + 2 + '') && child.quarter == '1' && (child.type != 'cd4' && child.type != 'CĐ' && child.type != 'TV' && child.type != 'B')}">
                           <span class="text-bold text-uppercase" th:text="${child.type}"></span><br>
                           (<span th:text="${child.time}"></span>)<br>
                       </span>
                   </th:block>
               </td>
               <td th:if="${item.arvID == null}" class="text-center r-min-height bg-gray-active color-palette" >
                   <th:block th:if="${item.childs != null && item.childs.size() > 0}" th:each="child : ${item.childs}">
                       <span th:if="${child.year == (T(Integer).parseInt(form.year) + 2 + '') && child.quarter == '2' && (child.type != 'cd4' && child.type != 'CĐ' && child.type != 'TV' && child.type != 'B')}">
                           <span class="text-bold text-uppercase" th:text="${child.type}"></span><br>
                           (<span th:text="${child.time}"></span>)<br>
                       </span>
                   </th:block>
               </td>
               <td th:if="${item.arvID == null}" class="text-center r-min-height bg-gray-active color-palette" >
                   <th:block th:if="${item.childs != null && item.childs.size() > 0}" th:each="child : ${item.childs}">
                       <span th:if="${child.year == (T(Integer).parseInt(form.year) + 2 + '') && child.quarter == '3' && (child.type != 'cd4' && child.type != 'CĐ' && child.type != 'TV' && child.type != 'B')}">
                           <span class="text-bold text-uppercase" th:text="${child.type}"></span><br>
                           (<span th:text="${child.time}"></span>)<br>
                       </span>
                   </th:block>
               </td>
               <td th:if="${item.arvID == null}" class="text-center r-min-height bg-gray-active color-palette" >
                   <th:block th:if="${item.childs != null && item.childs.size() > 0}" th:each="child : ${item.childs}">
                       <span th:if="${child.year == (T(Integer).parseInt(form.year) + 2 + '') && child.quarter == '4' && (child.type != 'cd4' && child.type != 'CĐ' && child.type != 'TV' && child.type != 'B')}">
                           <span class="text-bold text-uppercase" th:text="${child.type}"></span><br>
                           (<span th:text="${child.time}"></span>)<br>
                       </span>
                   </th:block>
               </td>
           </tr>
       </tbody>
   </table>
</div>
        
<div data-th-fragment="table-opc-book(form)" >
    <table class="table-report table table-striped table-bordered table-hover table-full"
                                         data-scrollY="auto" ng-cloak>
        <thead>
            <tr>
                <th class="text-center vertical-align-middle success " rowspan="2" >TT</th>
                <th class="text-center vertical-align-middle success " rowspan="2" >Họ tên bệnh nhân</th>
                <th class="text-center vertical-align-middle success " rowspan="2" >Mã số</th>
                <th class="text-center vertical-align-middle success " rowspan="2" >Năm sinh</th>
                <th class="text-center vertical-align-middle success " colspan="2">Giới tính</th>
                <th class="text-center vertical-align-middle success " rowspan="2">Ngày bắt đầu điều trị ARV</th>
                <th class="text-center vertical-align-middle success " colspan="4" >Lý do xét nghiệm</th>
                <th class="text-center vertical-align-middle success " rowspan="2" >Phác đồ ARV <br>(bậc 1, bậc 2, bậc 3)</th>
                <th class="text-center vertical-align-middle success " rowspan="2" >Ngày lấy mẫu</th>
                <th class="text-center vertical-align-middle success " rowspan="2" >Ngày nhận kết quả</th>
                <th class="text-center vertical-align-middle success " colspan="4" >Kết quả XN (bản sao/ml) <br> ĐỐI VỚI BN LÀM XN LẦN 1</th>
                <th class="text-center vertical-align-middle success " rowspan="2" >Tư vấn <br>tuân thủ điều trị</th>
                <th class="text-center vertical-align-middle success " colspan="3" >ĐỐI VỚI BN LÀM XN LẦN 2 <br>DO KQ LẦN 1 &#8805;200 BẢN SAO/ML</th>
                <th class="text-center vertical-align-middle success " rowspan="2" >NGÀY CHUYỂN PHÁC ĐỒ SAU KHI <br>KHẲNG ĐỊNH THẤT BẠI ĐIỀU TRỊ</th>
                <th class="text-center vertical-align-middle success " rowspan="2" >Ghi chú</th>
            </tr>
            <tr>
                <th class="text-center vertical-align-middle success " >Nam</th>
                <th class="text-center vertical-align-middle success " >Nữ</th>
                <th class="text-center vertical-align-middle success " >Sau 12 tháng điều trị ARV</th>
                <th class="text-center vertical-align-middle success " >Định kỳ khác</th>
                <th class="text-center vertical-align-middle success " >Nghi ngờ thất bại điều trị</th>
                <th class="text-center vertical-align-middle success " >PN mang thai PN cho con bú</th>
                <th class="text-center vertical-align-middle success " >Dưới ngưỡng phát hiện</th>
                <th class="text-center vertical-align-middle success " >Từ ngưỡng phát hiện<br> đến &lt; 200</th>
                <th class="text-center vertical-align-middle success " >200 - &lt;1000 </th>
                <th class="text-center vertical-align-middle success " >&#8805;1000 </th>
                <th class="text-center vertical-align-middle success " >Ngày làm XN lần 1</th>
                <th class="text-center vertical-align-middle success " >&lt;1000</th>
                <th class="text-center vertical-align-middle success "> &#8805;1000</th>
            </tr>
        </thead>
        <tbody >
            <tr th:each="item , iter: ${form.table.data}" th:with="first=${((form.table.currentPage - 1) * form.table.maxResult) + 1}">
                <td class="text-center" th:utext="${first + iter.index}" ></td>
                <td th:text="${item.fullName}"></td>
                <td th:text="${item.code}"></td>
                <td class="text-center" th:text="${item.dob}"></td>
                <td class="text-center" th:text="${item.genderID == '1' ? 'x' : ''}"></td>
                <td class="text-center" th:text="${item.genderID == '2' ? 'x' : ''}"></td>
                <td class="text-center" th:text="${#dates.format(item.treatmentTime, 'dd/MM/yyyy')}"></td>
                <td class="text-center" th:text="${item.reasonAfter12Month ? 'x' : ''}"></td>
                <td class="text-center" th:text="${item.reasonOtherPeriod ? 'x' : ''}"></td>
                <td class="text-center" th:text="${item.reasonFailtreatment ? 'x' : ''}"></td>
                <td class="text-center" th:text="${item.reasonPregnant ? 'x' : ''}"></td>
                <td class="text-center" th:text="${ item.treatmentRegimentStage == '' || item.treatmentRegimentStage == null ? '' : options.get(T(com.gms.entity.db.ParameterEntity).TREATMENT_REGINMEN_STAGE).get(item.treatmentRegimentStage)}"></td>
                <td class="text-center" th:text="${#dates.format(item.sampleTime, 'dd/MM/yyyy')}"></td>
                <td class="text-center" th:text="${#dates.format(item.resultTime, 'dd/MM/yyyy')}"></td>
                <td class="text-center" th:text="${(item.idKq1 != null && item.idKq1 != '') && (item.result == '1' || item.result == '6') ? 'x' : ''}"></td>
                <td class="text-center" th:text="${(item.idKq1 != null && item.idKq1 != '') && item.result == '2' ? 'x' : ''}"></td>
                <td class="text-center" th:text="${(item.idKq1 != null && item.idKq1 != '') && item.result == '3' ? 'x' : ''}"></td>
                <td class="text-center" th:text="${(item.idKq1 != null && item.idKq1 != '') && item.result == '4' ? 'x' : ''}"></td>
                <td class="text-center" th:text="${item.visitID != '' && item.visitID != null ? 'x' : ''}"></td>
                <td class="text-center" th:text="${item.firstTestTime != null && item.firstTestTime != '' ? #dates.format(item.firstTestTime, 'dd/MM/yyyy') : ''}"></td>
                <td class="text-center" th:text="${item.idKq2 != null && item.idKq2 != '' && item.result != '4' && item.result != '' && item.result != null ? 'x' : ''}"></td>
                <td class="text-center" th:text="${item.idKq2 != null && item.idKq2 != '' && item.result == '4' ? 'x' : ''}"></td>
                <td class="text-center" th:text="${item.idKq2 != '' && item.idKq2 != null && item.result == '4' ? #dates.format(item.regimenDate, 'dd/MM/yyyy') : ''}"></td>
                <td></td>
            </tr>
        </tbody>
    </table>
    <br>
    <div class="table-responsive">
        <div class="clear-fix">&nbsp;</div>
        <p class="text-uppercase text-bold text-danger">
            <span>TỔNG HỢP SỐ LIỆU TRONG THÁNG</span>
        </p>
        <table class="table-report table table-bordered table-hover" >
            <tbody>
                <tr>
                    <td class="text-left">Tổng số BN cần làm XN trong tháng</td>
                    <td class="text-center" style="width: 15%;" th:text="${form.displayNumber(form.table02.xnTrongThang)}"></td>
                </tr>
                <tr>
                    <td class="text-left">Tổng số BN được làm xét nghiệm lần đầu trong tháng</td>
                    <td class="text-center" th:text="${form.displayNumber(form.tableMonth.xnLan1)}"></td>
                </tr>
                <tr>
                    <td class="text-left">Số BN điều trị ARV bậc 2 được làm XN trong tháng</td>
                    <td class="text-center" th:text="${form.displayNumber(form.tableMonth.dtBac2)}"></td>
                </tr>
                <tr>
                    <td class="text-left">Số BN điều trị ARV bậc 2 có kết quả XN < 1000 bản sao/ml</td>
                    <td class="text-center" th:text="${form.displayNumber(form.table02.arvBac2Duoi1000)}" ></td>
                </tr>
                <tr>
                    <td class="text-left">Số BN điều trị ARV bậc 2 có kết quả XN >= 1000 bản sao/ml</td>
                    <td class="text-center" th:text="${form.displayNumber(form.table02.arvBac2Tren1000)}" ></td>
                </tr>
                <tr>
                    <td class="text-left">Số BN làm XN lần 1 có KQXN dưới ngưỡng phát hiện</td>
                    <td class="text-center" th:text="${form.displayNumber(form.tableMonth.xnLan1DuoiNguongPhatHien)}"></td>
                </tr>
                <tr>
                    <td class="text-left">Số BN làm XN lần 1 có KQXN dưới ngưỡng phát hiện đến dưới 200 bản sao/ml</td>
                    <td class="text-center" th:text="${form.displayNumber(form.tableMonth.xnLan1Duoi200)}"></td>
                </tr>
                <tr>
                    <td class="text-left">Số BN làm XN lần 1 có KQXN từ 200 bản sao đến dưới 1000 bản sao/ml</td>
                    <td class="text-center" th:text="${form.displayNumber(form.tableMonth.xnLan1F200T1000)}"></td>
                </tr>
                <tr>
                    <td class="text-left">Số BN làm XN lần 1 có KQXN >= 1000 bản sao/ml </td>
                    <td class="text-center" th:text="${form.displayNumber(form.tableMonth.xnLan1From1000)}"></td>
                </tr>
                <tr>
                    <td class="text-left">Tổng số BN XN lần 2 có kết quả >= 1000 bản sao/ml </td>
                    <td class="text-center" th:text="${form.displayNumber(form.tableMonth.xnLan2From1000)}"></td>
                </tr>
                <tr>
                    <td class="text-left">Số BN thất bại điều trị, chuyển phác đồ trong tháng </td>
                    <td class="text-center" th:text="${form.displayNumber(form.tableMonth.tbdt)}"></td>
                </tr>
            </tbody>
        </table>
    </div>
</div>

<div data-th-fragment="arv-book-bn(dataPage)" >
    <table class="table-report table table-striped table-bordered table-hover table-full"
           data-scrollY="auto" ng-cloak>
        <thead>
            <tr>
                <th class="text-center vertical-align-middle " colspan="5" >Thông tin cơ bản</th>
                <th class="text-center vertical-align-middle " colspan="5" >Khi bắt đầu điều trị</th>
                <th class="text-center vertical-align-middle " colspan="3" >Thay đổi phác đồ điều trị</th>
                <th class="text-center vertical-align-middle " colspan="41">Theo dõi người bệnh trong quá trình điều trị bằng thuốc kháng HIV</th>
            </tr>
            <tr>
                <th class="text-center vertical-align-middle bg-gray disabled color-palette " rowspan="2">Số TT</th>
                <th class="text-center vertical-align-middle bg-gray disabled color-palette " rowspan="2">Mã số bệnh án</th>
                <th class="text-center vertical-align-middle bg-gray disabled color-palette " rowspan="2">Họ và tên</th>
                <th class="text-center vertical-align-middle bg-gray disabled color-palette " colspan="2">Năm sinh</th>
                <th class="text-center vertical-align-middle bg-gray disabled color-palette " rowspan="2">Ngày bắt đầu</th>
                <th class="text-center vertical-align-middle bg-gray disabled color-palette " rowspan="2">Phác đồ ban đầu</th>
                <th class="text-center vertical-align-middle bg-gray disabled color-palette " rowspan="2">Giai đoạn LS</th>
                <th class="text-center vertical-align-middle bg-gray disabled color-palette " rowspan="2">CD4</th>
                <th class="text-center vertical-align-middle bg-gray disabled color-palette " rowspan="2">Cân nặng/Chiều cao</th>
                <th class="text-center vertical-align-middle bg-gray disabled color-palette " rowspan="2">Ngày thay đổi phác đồ</th>
                <th class="text-center vertical-align-middle bg-gray disabled color-palette " rowspan="2">Lý do thay đổi</th>
                <th class="text-center vertical-align-middle bg-gray disabled color-palette " rowspan="2">Phác đồ thay thế</th>
                <th class="text-center vertical-align-middle bg-gray disabled color-palette " rowspan="2">Tháng ĐT đầu tiên (0)</th>
                <th class="text-center vertical-align-middle bg-gray disabled color-palette " rowspan="2">1</th>
                <th class="text-center vertical-align-middle bg-gray disabled color-palette " rowspan="2">2</th>
                <th class="text-center vertical-align-middle bg-gray disabled color-palette " rowspan="2">3</th>
                <th class="text-center vertical-align-middle bg-gray disabled color-palette " rowspan="2">4</th>
                <th class="text-center vertical-align-middle bg-gray disabled color-palette " rowspan="2">5</th>
                <th class="text-center vertical-align-middle bg-gray disabled color-palette " colspan="2">Tháng thứ 6</th>
                <th class="text-center vertical-align-middle bg-gray disabled color-palette " rowspan="2">7</th>
                <th class="text-center vertical-align-middle bg-gray disabled color-palette " rowspan="2">8</th>
                <th class="text-center vertical-align-middle bg-gray disabled color-palette " rowspan="2">9</th>
                <th class="text-center vertical-align-middle bg-gray disabled color-palette " rowspan="2">10</th>
                <th class="text-center vertical-align-middle bg-gray disabled color-palette " rowspan="2">11</th>
                <th class="text-center vertical-align-middle bg-gray disabled color-palette " colspan="2">Tháng thứ 12</th>
                <th class="text-center vertical-align-middle bg-gray disabled color-palette " rowspan="2">13</th>
                <th class="text-center vertical-align-middle bg-gray disabled color-palette " rowspan="2">14</th>
                <th class="text-center vertical-align-middle bg-gray disabled color-palette " rowspan="2">15</th>
                <th class="text-center vertical-align-middle bg-gray disabled color-palette " rowspan="2">16</th>
                <th class="text-center vertical-align-middle bg-gray disabled color-palette " rowspan="2">17</th>
                <th class="text-center vertical-align-middle bg-gray disabled color-palette " colspan="2">Tháng thứ 18</th>
                <th class="text-center vertical-align-middle bg-gray disabled color-palette " rowspan="2">19</th>
                <th class="text-center vertical-align-middle bg-gray disabled color-palette " rowspan="2">20</th>
                <th class="text-center vertical-align-middle bg-gray disabled color-palette " rowspan="2">21</th>
                <th class="text-center vertical-align-middle bg-gray disabled color-palette " rowspan="2">22</th>
                <th class="text-center vertical-align-middle bg-gray disabled color-palette " rowspan="2">23</th>
                <th class="text-center vertical-align-middle bg-gray disabled color-palette " colspan="2">Tháng thứ 24</th>
                <th class="text-center vertical-align-middle bg-gray disabled color-palette " colspan="2">Tháng thứ 30</th>
                <th class="text-center vertical-align-middle bg-gray disabled color-palette " colspan="2">Tháng thứ 36</th>
                <th class="text-center vertical-align-middle bg-gray disabled color-palette " colspan="2">Tháng thứ 42</th>
                <th class="text-center vertical-align-middle bg-gray disabled color-palette " colspan="2">Tháng thứ 48</th>
                <th class="text-center vertical-align-middle bg-gray disabled color-palette " colspan="2">Tháng thứ 54</th>
                <th class="text-center vertical-align-middle bg-gray disabled color-palette " colspan="2">Tháng thứ 60</th>
            </tr>
            <tr>
                <th class="text-center vertical-align-middle bg-gray disabled color-palette ">Nam</th>
                <th class="text-center vertical-align-middle bg-gray disabled color-palette ">Nữ</th>
                <th class="text-center vertical-align-middle bg-gray disabled color-palette "></th>
                <th class="text-center vertical-align-middle bg-gray disabled color-palette ">CD4</th>
                <th class="text-center vertical-align-middle bg-gray disabled color-palette "></th>
                <th class="text-center vertical-align-middle bg-gray disabled color-palette ">CD4</th>
                <th class="text-center vertical-align-middle bg-gray disabled color-palette "></th>
                <th class="text-center vertical-align-middle bg-gray disabled color-palette ">CD4</th>
                <th class="text-center vertical-align-middle bg-gray disabled color-palette "></th>
                <th class="text-center vertical-align-middle bg-gray disabled color-palette ">CD4</th>
                <th class="text-center vertical-align-middle bg-gray disabled color-palette "></th>
                <th class="text-center vertical-align-middle bg-gray disabled color-palette ">CD4</th>
                <th class="text-center vertical-align-middle bg-gray disabled color-palette "></th>
                <th class="text-center vertical-align-middle bg-gray disabled color-palette ">CD4</th>
                <th class="text-center vertical-align-middle bg-gray disabled color-palette "></th>
                <th class="text-center vertical-align-middle bg-gray disabled color-palette ">CD4</th>
                <th class="text-center vertical-align-middle bg-gray disabled color-palette "></th>
                <th class="text-center vertical-align-middle bg-gray disabled color-palette ">CD4</th>
                <th class="text-center vertical-align-middle bg-gray disabled color-palette "></th>
                <th class="text-center vertical-align-middle bg-gray disabled color-palette ">CD4</th>
                <th class="text-center vertical-align-middle bg-gray disabled color-palette "></th>
                <th class="text-center vertical-align-middle bg-gray disabled color-palette ">CD4</th>
            </tr>
            <tr>
                <td class="text-center vertical-align-middle" >(1)</td>
                <td class="text-center vertical-align-middle" >(2)</td>
                <td class="text-center vertical-align-middle" >(3)</td>
                <td class="text-center vertical-align-middle" colspan="2">(4)</td>
                <td class="text-center vertical-align-middle" >(5)</td>
                <td class="text-center vertical-align-middle" >(6)</td>
                <td class="text-center vertical-align-middle" >(7)</td>
                <td class="text-center vertical-align-middle" >(8)</td>
                <td class="text-center vertical-align-middle" >(9)</td>
                <td class="text-center vertical-align-middle" >(10)</td>
                <td class="text-center vertical-align-middle" >(11)</td>
                <td class="text-center vertical-align-middle" >(12)</td>
                <td class="text-center vertical-align-middle" >(13)</td>
                <td class="text-center vertical-align-middle" >(14)</td>
                <td class="text-center vertical-align-middle" >(15)</td>
                <td class="text-center vertical-align-middle" >(16)</td>
                <td class="text-center vertical-align-middle" >(17)</td>
                <td class="text-center vertical-align-middle" >(18)</td>
                <td class="text-center vertical-align-middle" >(19)</td>
                <td class="text-center vertical-align-middle" >(20)</td>
                <td class="text-center vertical-align-middle" >(21)</td>
                <td class="text-center vertical-align-middle" >(22)</td>
                <td class="text-center vertical-align-middle" >(23)</td>
                <td class="text-center vertical-align-middle" >(24)</td>
                <td class="text-center vertical-align-middle" >(25)</td>
                <td class="text-center vertical-align-middle" >(26)</td>
                <td class="text-center vertical-align-middle" >(27)</td>
                <td class="text-center vertical-align-middle" >(28)</td>
                <td class="text-center vertical-align-middle" >(29)</td>
                <td class="text-center vertical-align-middle" >(30)</td>
                <td class="text-center vertical-align-middle" >(31)</td>
                <td class="text-center vertical-align-middle" >(32)</td>
                <td class="text-center vertical-align-middle" >(33)</td>
                <td class="text-center vertical-align-middle" >(34)</td>
                <td class="text-center vertical-align-middle" >(35)</td>
                <td class="text-center vertical-align-middle" >(36)</td>
                <td class="text-center vertical-align-middle" >(37)</td>
                <td class="text-center vertical-align-middle" >(38)</td>
                <td class="text-center vertical-align-middle" >(39)</td>
                <td class="text-center vertical-align-middle" >(40)</td>
                <td class="text-center vertical-align-middle" >(41)</td>
                <td class="text-center vertical-align-middle" >(42)</td>
                <td class="text-center vertical-align-middle" >(43)</td>
                <td class="text-center vertical-align-middle" >(44)</td>
                <td class="text-center vertical-align-middle" >(45)</td>
                <td class="text-center vertical-align-middle" >(46)</td>
                <td class="text-center vertical-align-middle" >(47)</td>
                <td class="text-center vertical-align-middle" >(48)</td>
                <td class="text-center vertical-align-middle" >(49)</td>
                <td class="text-center vertical-align-middle" >(50)</td>
                <td class="text-center vertical-align-middle" >(51)</td>
                <td class="text-center vertical-align-middle" >(52)</td>
                <td class="text-center vertical-align-middle" >(53)</td>
            </tr>
        </thead>
        <tbody >
        <th:block th:each="item, iter : ${dataPage.data}">
            <tr th:if="${item.general != null} " class="row-min-height" style="height: 50px;" >
            <th:block th:each="i : ${#numbers.sequence( 1, 54)}">
                <td class="text-center row-min-height" rowspan="2" th:if="${i==1}" th:text="${iter.index + 1}"></td>
                <td class="text-center row-min-height" rowspan="2" th:if="${i==2}" th:text="${item.general.code}"></td>
                <td class="text-left row-min-height" rowspan="2" th:if="${i==3}" th:text="${item.general.fullname}"></td>
                <td class="text-center row-min-height" rowspan="2" th:if="${i==4}" th:text="${ item.general.genderID == '1' ? item.general.dob : ''}"></td>
                <td class="text-center row-min-height" rowspan="2" th:if="${i==5}" th:text="${ item.general.genderID == '2' ? item.general.dob : ''}"></td>
                <td class="text-center row-min-height" rowspan="2" th:if="${i==6}" th:text="${ item.general.treatmentTime}"></td>
                <td class="text-center row-min-height" rowspan="2" th:if="${i==7}" th:text="${ options.get(T(com.gms.entity.db.ParameterEntity).TREATMENT_REGIMEN).get(item.veryFirstRegiment + '')}"></td>
                <td class="text-center row-min-height" rowspan="2" th:if="${i==8}" th:text="${item.general.clinicalStage == '' || item.general.clinicalStage == null ? '' : options.get(T(com.gms.entity.db.ParameterEntity).CLINICAL_STAGE).get(item.general.clinicalStage + '')}"></td>
                <td class="text-center row-min-height" rowspan="2" th:if="${i==9}" th:text="${item.general.cd4}"></td>
                <td class="text-center row-min-height" th:if="${i==10}" th:text="${item.general.weight == '0.0' ? '' : item.general.weight}"></td>
                <td class="text-center row-min-height" rowspan="2" th:if="${i==11}" th:text="${item.changeRegimenIdDate}"></td>
                <td class="text-center row-min-height" rowspan="2" th:if="${i==12}" th:text="${item.general.causesChange}"></td>
                <td class="text-center row-min-height" rowspan="2" th:if="${i==13}" th:text="${options.get(T(com.gms.entity.db.ParameterEntity).TREATMENT_REGIMEN).get(item.general.treatmentRegimentIDChange)}"></td>
                <td class="text-center row-min-height"  th:if="${i==14}" ><th:block data-th-include="widget/gridview :: so_arv('0', ${item})"></th:block></td>
                <td class="text-center row-min-height" th:if="${i==15}"><th:block data-th-include="widget/gridview :: so_arv('1', ${item})"></th:block></td>
                <td class="text-center row-min-height" th:if="${i==16}"><th:block data-th-include="widget/gridview :: so_arv('2', ${item})"></th:block></td>
                <td class="text-center row-min-height" th:if="${i==17}"><th:block data-th-include="widget/gridview :: so_arv('3', ${item})"></th:block></td>
                <td class="text-center row-min-height" th:if="${i==18}"><th:block data-th-include="widget/gridview :: so_arv('4', ${item})"></th:block></td>
                <td class="text-center row-min-height" th:if="${i==19}"><th:block data-th-include="widget/gridview :: so_arv('5', ${item})"></th:block></td>
                <td class="text-center row-min-height" th:if="${i==20}"><th:block data-th-include="widget/gridview :: so_arv('6', ${item})"></th:block></td>
                <td class="text-center row-min-height" th:if="${i==21}" rowspan="2" ><th:block data-th-include="widget/gridview :: so_arv_2_cd4('6', ${item})"></th:block></td>
                <td class="text-center row-min-height" th:if="${i==22}"><th:block data-th-include="widget/gridview :: so_arv('7', ${item})"></th:block></td>
                <td class="text-center row-min-height" th:if="${i==23}"><th:block data-th-include="widget/gridview :: so_arv('8', ${item})"></th:block></td>
                <td class="text-center row-min-height" th:if="${i==24}"><th:block data-th-include="widget/gridview :: so_arv('9', ${item})"></th:block></td>
                <td class="text-center row-min-height" th:if="${i==25}"><th:block data-th-include="widget/gridview :: so_arv('10', ${item})"></th:block></td>
                <td class="text-center row-min-height" th:if="${i==26}"><th:block data-th-include="widget/gridview :: so_arv('11', ${item})"></th:block></td>
                <td class="text-center row-min-height" th:if="${i==27}"><th:block data-th-include="widget/gridview :: so_arv('12', ${item})"></th:block></td>
                <td class="text-center row-min-height" th:if="${i==28}" rowspan="2"><th:block data-th-include="widget/gridview :: so_arv_2_cd4('12', ${item})"></th:block></td>
                <td class="text-center row-min-height" th:if="${i==29}"><th:block data-th-include="widget/gridview :: so_arv('13', ${item})"></th:block></td>
                <td class="text-center row-min-height" th:if="${i==30}"><th:block data-th-include="widget/gridview :: so_arv('14', ${item})"></th:block></td>
                <td class="text-center row-min-height" th:if="${i==31}"><th:block data-th-include="widget/gridview :: so_arv('15', ${item})"></th:block></td>
                <td class="text-center row-min-height" th:if="${i==32}"><th:block data-th-include="widget/gridview :: so_arv('16', ${item})"></th:block></td>
                <td class="text-center row-min-height" th:if="${i==33}"><th:block data-th-include="widget/gridview :: so_arv('17', ${item})"></th:block></td>
                <td class="text-center row-min-height" th:if="${i==34}"><th:block data-th-include="widget/gridview :: so_arv('18', ${item})"></th:block></td>
                <td class="text-center row-min-height" th:if="${i==35}" rowspan="2"><th:block data-th-include="widget/gridview :: so_arv_2_cd4('18', ${item})"></th:block></td>
                <td class="text-center row-min-height" th:if="${i==36}"><th:block data-th-include="widget/gridview :: so_arv('19', ${item})"></th:block></td>
                <td class="text-center row-min-height" th:if="${i==37}"><th:block data-th-include="widget/gridview :: so_arv('20', ${item})"></th:block></td>
                <td class="text-center row-min-height" th:if="${i==38}"><th:block data-th-include="widget/gridview :: so_arv('21', ${item})"></th:block></td>
                <td class="text-center row-min-height" th:if="${i==39}"><th:block data-th-include="widget/gridview :: so_arv('22', ${item})"></th:block></td>
                <td class="text-center row-min-height" th:if="${i==40}"><th:block data-th-include="widget/gridview :: so_arv('23', ${item})"></th:block></td>
                <td class="text-center row-min-height" th:if="${i==41}"><th:block data-th-include="widget/gridview :: so_arv('24', ${item})"></th:block></td>
                <td class="text-center row-min-height" th:if="${i==42}" rowspan="2"><th:block data-th-include="widget/gridview :: so_arv_2_cd4('24', ${item})"></th:block></td>
                <td class="text-center row-min-height" th:if="${i==43}"><th:block data-th-include="widget/gridview :: so_arv('30', ${item})"></th:block></td>
                <td class="text-center row-min-height" th:if="${i==44}" rowspan="2"><th:block data-th-include="widget/gridview :: so_arv_2_cd4('30', ${item})"></th:block></td>
                <td class="text-center row-min-height" th:if="${i==45}"><th:block data-th-include="widget/gridview :: so_arv('36', ${item})"></th:block></td>
                <td class="text-center row-min-height" th:if="${i==46}" rowspan="2"><th:block data-th-include="widget/gridview :: so_arv_2_cd4('36', ${item})"></th:block></td>
                <td class="text-center row-min-height" th:if="${i==47}"><th:block data-th-include="widget/gridview :: so_arv('42', ${item})"></th:block></td>
                <td class="text-center row-min-height" th:if="${i==48}" rowspan="2"><th:block data-th-include="widget/gridview :: so_arv_2_cd4('42', ${item})"></th:block></td>
                <td class="text-center row-min-height" th:if="${i==49}"><th:block data-th-include="widget/gridview :: so_arv('48', ${item})"></th:block></td>
                <td class="text-center row-min-height" th:if="${i==50}" rowspan="2"><th:block data-th-include="widget/gridview :: so_arv_2_cd4('48', ${item})"></th:block></td>
                <td class="text-center row-min-height" th:if="${i==51}"><th:block data-th-include="widget/gridview :: so_arv('54', ${item})"></th:block></td>
                <td class="text-center row-min-height" th:if="${i==52}" rowspan="2"><th:block data-th-include="widget/gridview :: so_arv_2_cd4('54', ${item})"></th:block></td>
                <td class="text-center row-min-height" th:if="${i==53}"><th:block data-th-include="widget/gridview :: so_arv('60', ${item})"></th:block></td>
                <td class="text-center row-min-height" th:if="${i==54}" rowspan="2"><th:block data-th-include="widget/gridview :: so_arv_2_cd4('60', ${item})"></th:block></td>
            </th:block>
            </tr>
            <tr th:if="${item.general != null} " style="height: 50px;" >
            <th:block th:each="i : ${#numbers.sequence( 1, 54)}">
                <td class="second-line text-center row-min-height display-none" th:if="${i==1}"></td>
                <td class="second-line text-center row-min-height display-none" th:if="${i==2}"></td>
                <td class="second-line text-center row-min-height display-none" th:if="${i==3}"></td>
                <td class="second-line text-center row-min-height display-none" th:if="${i==4}"></td>
                <td class="second-line text-center row-min-height display-none" th:if="${i==5}"></td>
                <td class="second-line text-center row-min-height display-none" th:if="${i==6}"></td>
                <td class="second-line text-center row-min-height display-none" th:if="${i==7}"></td>
                <td class="second-line text-center row-min-height display-none" th:if="${i==8}"></td>
                <td class="second-line text-center row-min-height display-none" th:if="${i==9}"></td>
                <td class="second-line text-center " th:if="${i==10}" th:text="${item.general.height == '0.0' ? '' : item.general.height}"></td>
                <td class="second-line text-center display-none"  th:if="${i==11}"></td>
                <td class="second-line text-center display-none"  th:if="${i==12}"></td>
                <td class="second-line text-center display-none"  th:if="${i==13}"></td>
                <td class="second-line text-center" th:if="${i==14}"><th:block data-th-include="widget/gridview :: so_arv_2('0', ${item})"></th:block></td>
                <td class="second-line text-center" th:if="${i==15}"><th:block data-th-include="widget/gridview :: so_arv_2('1', ${item})"></th:block></td>
                <td class="second-line text-center" th:if="${i==16}"><th:block data-th-include="widget/gridview :: so_arv_2('2', ${item})"></th:block></td>
                <td class="second-line text-center" th:if="${i==17}"><th:block data-th-include="widget/gridview :: so_arv_2('3', ${item})"></th:block></td>
                <td class="second-line text-center" th:if="${i==18}"><th:block data-th-include="widget/gridview :: so_arv_2('4', ${item})"></th:block></td>
                <td class="second-line text-center" th:if="${i==19}"><th:block data-th-include="widget/gridview :: so_arv_2('5', ${item})"></th:block></td>
                <td class="second-line text-center" th:if="${i==20}"><th:block data-th-include="widget/gridview :: so_arv_2('6', ${item})"></th:block></td>
                <td class="second-line text-center display-none" th:if="${i==21}"></td>
                <td class="second-line text-center" th:if="${i==22}"><th:block data-th-include="widget/gridview :: so_arv_2('7', ${item})"></th:block></td>
                <td class="second-line text-center" th:if="${i==23}"><th:block data-th-include="widget/gridview :: so_arv_2('8', ${item})"></th:block></td>
                <td class="second-line text-center" th:if="${i==24}"><th:block data-th-include="widget/gridview :: so_arv_2('9', ${item})"></th:block></td>
                <td class="second-line text-center" th:if="${i==25}"><th:block data-th-include="widget/gridview :: so_arv_2('10', ${item})"></th:block></td>
                <td class="second-line text-center" th:if="${i==26}"><th:block data-th-include="widget/gridview :: so_arv_2('11', ${item})"></th:block></td>
                <td class="second-line text-center" th:if="${i==27}"><th:block data-th-include="widget/gridview :: so_arv_2('12', ${item})"></th:block></td>
                <td class="second-line text-center display-none" th:if="${i==28}"></td>
                <td class="second-line text-center" th:if="${i==29}"><th:block data-th-include="widget/gridview :: so_arv_2('13', ${item})"></th:block></td>
                <td class="second-line text-center" th:if="${i==30}"><th:block data-th-include="widget/gridview :: so_arv_2('14', ${item})"></th:block></td>
                <td class="second-line text-center" th:if="${i==31}"><th:block data-th-include="widget/gridview :: so_arv_2('15', ${item})"></th:block></td>
                <td class="second-line text-center" th:if="${i==32}"><th:block data-th-include="widget/gridview :: so_arv_2('16', ${item})"></th:block></td>
                <td class="second-line text-center" th:if="${i==33}"><th:block data-th-include="widget/gridview :: so_arv_2('17', ${item})"></th:block></td>
                <td class="second-line text-center" th:if="${i==34}"><th:block data-th-include="widget/gridview :: so_arv_2('18', ${item})"></th:block></td>
                <td class="second-line text-center display-none" th:if="${i==35}"></td>
                <td class="second-line text-center" th:if="${i==36}"><th:block data-th-include="widget/gridview :: so_arv_2('19', ${item})"></th:block></td>
                <td class="second-line text-center" th:if="${i==37}"><th:block data-th-include="widget/gridview :: so_arv_2('20', ${item})"></th:block></td>
                <td class="second-line text-center" th:if="${i==38}"><th:block data-th-include="widget/gridview :: so_arv_2('21', ${item})"></th:block></td>
                <td class="second-line text-center" th:if="${i==39}"><th:block data-th-include="widget/gridview :: so_arv_2('22', ${item})"></th:block></td>
                <td class="second-line text-center" th:if="${i==40}"><th:block data-th-include="widget/gridview :: so_arv_2('23', ${item})"></th:block></td>
                <td class="second-line text-center" th:if="${i==41}"><th:block data-th-include="widget/gridview :: so_arv_2('24', ${item})"></th:block></td>
                <td class="second-line text-center display-none" th:if="${i==42}"></td>
                <td class="second-line text-center" th:if="${i==43}"><th:block data-th-include="widget/gridview :: so_arv_2('30', ${item})"></th:block></td>
                <td class="second-line text-center display-none" th:if="${i==44}"></td>
                <td class="second-line text-center" th:if="${i==45}"><th:block data-th-include="widget/gridview :: so_arv_2('36', ${item})"></th:block></td>
                <td class="second-line text-center display-none" th:if="${i==46}"></td>
                <td class="second-line text-center" th:if="${i==47}"><th:block data-th-include="widget/gridview :: so_arv_2('42', ${item})"></th:block></td>
                <td class="second-line text-center display-none" th:if="${i==48}"></td>
                <td class="second-line text-center" th:if="${i==49}"><th:block data-th-include="widget/gridview :: so_arv_2('48', ${item})"></th:block></td>
                <td class="second-line text-center display-none" th:if="${i==50}"></td>
                <td class="second-line text-center" th:if="${i==51}"><th:block data-th-include="widget/gridview :: so_arv_2('54', ${item})"></th:block></td>
                <td class="second-line text-center display-none" th:if="${i==52}"></td>
                <td class="second-line text-center" th:if="${i==53}"><th:block data-th-include="widget/gridview :: so_arv_2('60', ${item})"></th:block></td>
                <td class="second-line text-center display-none" th:if="${i==54}"></td>
            </th:block>
            </tr>
        </th:block>
        </tbody>
    </table>
</div>